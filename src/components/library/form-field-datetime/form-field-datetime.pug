//- Date input component
//- useDatepicker   {boolean} If true - datepicker will be used to select date(s)
//- datepickerMode  {'single' | 'range' | 'multiple'} Single - select only 1 date at a time. 
//-                                                   Range - select date range. 
//-                                                   Multiple - select multiple dates
//- dateFormat      {string} pattern for IMask (ref: https://tc39.github.io/ecma262/#sec-date-time-string-format)
//- mods            {array} Modifier classes
mixin form-field-datetime(props = {})
  include /components/library/form-field/form-field.pug
  include /components/library/icon/icon.pug

  -
    props = Object.assign({
      useDatepicker: false,
      datepickerMode: 'single',
      dateFormat: 'd.m.Y',
      mods: [],
    }, props)

    attributes = Object.assign({
      type: 'text', 
      'data-use-datepicker': props.useDatepicker,
      'data-datepicker-mode': props.datepickerMode,
      'data-date-format': props.dateFormat,
      'data-input': true
    }, attributes)

    var mods = ['form-field-datetime'].concat(props.mods)
    var inputMods = ['form-field-datetime__input']
    var iconMods = ['form-field-datetime__icon']

  div(class= mods)
    +form-field({mods: inputMods})&attributes(attributes)
    if (props.useDatepicker)
      +icon({name: 'semi-arrow-down', mods: iconMods})('data-toggle'= true)