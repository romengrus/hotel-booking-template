//- Dropdown Counter
//-
//- resultType    oneOf ('concat' | 'total') - 'total' -> sum of counter numValues; 
//-                                            'concat' -> concatenate counters strValues
//- plurals       array ([]) - Plural forms of 'total' for [1, 2, 0] items (f.ex. ['спальни', 'спальня', 'спален'])
//- icon          string ('semi-arrow-down') - Icon name for toggler (in header)
//- isCollapsed   boolean (true) - If true - will render collapsed, false - expanded.
mixin dropdown-counter({resultType = 'total', plurals = [], icon = 'semi-arrow-down', isCollapsed = true} = {})
  include /components/icon/icon.pug
  include /components/button/button.pug
  include /components/field/field.pug
  include /components/counter/counter.pug

  -
    const classList = ['dropdown-counter'];

    if (isCollapsed) classList.push('dropdown-counter_is-collapsed');
  
  div(
    class = classList, 
    data-dropdown-counter,
    data-counters = counters, 
    data-result-type = resultType, 
    data-plurals = plurals)
    .dropdown-counter__value(data-dropdown-counter-value)
      +field(hidden = true)
    .dropdown-counter__value-alt
      +field(data-dropdown-counter-alt)&attributes(attributes)
      .dropdown-counter__toggler(data-dropdown-counter-toggler)
        +icon({ name: 'semi-arrow-up', size: 'small' })
    .dropdown-counter__content
      if block
        block
      .dropdown-counter__actions
        .dropdown-counter__reset
          +button({ isTextOnly: true })(data-dropdown-counter-reset) Очистить
        .dropdown-counter__ok
          +button({ isTextOnly: true })(data-dropdown-counter-ok) Применить
