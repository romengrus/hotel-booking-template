//- Subscription block
//- url           {string} form action url
//- placeholder   {string} input placeholder text
//- iconName      {string} icon name
//- iconPosition  {'left' | 'right'} position of icon inside input
//- mods          {array} modifier classess
mixin subscription(props = {})
  include /components/form/form.pug
  include /components/form-field/form-field.pug
  include /components/button/button.pug

  -
    props = Object.assign({
      url: '',
      placeholder: '',
      iconName: 'arrow-right',
      iconPosition: 'right',
      mods: [],
    }, props)

    var mods = ['subscription'].concat(props.mods)
    var formMods = ['subscription__form']
    var inputMods = [`subscription__input`, `subscription__input_icon_${props.iconPosition}`]
    var iconMods = [`subscription__icon`, `subscription__icon_${props.iconPosition}`]

  div(class= mods)
    +form({mods: formMods})&attributes({method: 'POST', action: props.url})
      +form-field({mods: inputMods})&attributes({type: 'email', required: true, placeholder: props.placeholder})
      +button({iconName: props.iconName, showIconOnly: true, mods: iconMods})