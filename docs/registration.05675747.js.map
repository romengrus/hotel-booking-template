{"version":3,"sources":["../node_modules/hyperform/src/tools/trigger_event.js","../node_modules/hyperform/src/tools/matches.js","../node_modules/hyperform/src/tools/mark.js","../node_modules/hyperform/src/components/message_store.js","../node_modules/hyperform/src/tools/generate_id.js","../node_modules/hyperform/src/tools/get_radiogroup.js","../node_modules/hyperform/src/components/renderer.js","../node_modules/hyperform/src/components/hooks.js","../node_modules/hyperform/src/components/types.js","../node_modules/hyperform/src/tools/get_type.js","../node_modules/hyperform/src/tools/is_validation_candidate.js","../node_modules/hyperform/src/tools/format_date.js","../node_modules/hyperform/src/tools/sprintf.js","../node_modules/hyperform/src/tools/get_week_of_year.js","../node_modules/hyperform/src/tools/date_to_string.js","../node_modules/hyperform/src/tools/get_date_from_week.js","../node_modules/hyperform/src/tools/string_to_date.js","../node_modules/hyperform/src/tools/string_to_number.js","../node_modules/hyperform/src/components/localization.js","../node_modules/hyperform/src/components/step_defaults.js","../node_modules/hyperform/src/tools/get_next_valid.js","../node_modules/hyperform/src/tools/unicode_string_length.js","../node_modules/hyperform/src/components/custom_messages.js","../node_modules/hyperform/src/components/registry.js","../node_modules/hyperform/src/validators/bad_input.js","../node_modules/hyperform/src/validators/max.js","../node_modules/hyperform/src/validators/maxlength.js","../node_modules/hyperform/src/validators/min.js","../node_modules/hyperform/src/validators/minlength.js","../node_modules/hyperform/src/validators/pattern.js","../node_modules/hyperform/src/validators/required.js","../node_modules/hyperform/src/validators/step.js","../node_modules/hyperform/src/tools/trim.js","../node_modules/hyperform/src/tools/comma_split.js","../node_modules/hyperform/src/validators/type.js","../node_modules/hyperform/src/tools/validity_state_checkers.js","../node_modules/hyperform/src/polyfills/validityState.js","../node_modules/hyperform/src/polyfills/reportValidity.js","../node_modules/hyperform/src/tools/catch_submit.js","../node_modules/hyperform/src/tools/property_uninstaller.js","../node_modules/hyperform/src/tools/property_installer.js","../node_modules/hyperform/src/tools/is_field.js","../node_modules/hyperform/src/polyfills/setCustomValidity.js","../node_modules/hyperform/src/polyfills/valueAsDate.js","../node_modules/hyperform/src/polyfills/valueAsNumber.js","../node_modules/hyperform/src/polyfills/stepDown.js","../node_modules/hyperform/src/polyfills/stepUp.js","../node_modules/hyperform/src/polyfills/validationMessage.js","../node_modules/hyperform/src/polyfills/willValidate.js","../node_modules/hyperform/src/polyfills/properties.js","../node_modules/hyperform/src/tools/polyfill.js","../node_modules/hyperform/src/tools/polyunfill.js","../node_modules/hyperform/src/components/wrapper.js","../node_modules/hyperform/src/tools/get_validated_elements.js","../node_modules/hyperform/src/tools/return_hook_or.js","../node_modules/hyperform/src/polyfills/checkValidity.js","../node_modules/hyperform/src/version.js","../node_modules/hyperform/src/hyperform.js","scripts/factory.js","components/form/form.js","../node_modules/flatpickr/dist/l10n/ru.js","../node_modules/flatpickr/dist/flatpickr.js","../node_modules/flatpickr/dist/plugins/rangePlugin.js","components/datepicker/datepicker.js","scripts/utils.js","components/counter/counter.js","components/menu/menu.js","components/off-canvas/off-canvas.js","components/off-canvas-toggler/off-canvas-toggler.js","components/dropdown-counter/dropdown-counter.js","pages/registration/registration.js"],"names":["workingDefaultPrevented","e","document","createEvent","initEvent","preventDefault","defaultPrevented","origPreventDefault","window","Event","prototype","cancelable","call","Object","defineProperty","get","configurable","create_event","name","bubbles","event","element","payload","key","hasOwnProperty","dispatchEvent","ep","Element","native_matches","matches","matchesSelector","msMatchesSelector","webkitMatchesSelector","selector","obj","indexOf","__hyperform","enumerable","value","store","WeakMap","message_store","set","message","is_custom","HTMLFieldSetElement","wrapped_form","settings","extendFieldset","String","_original_setCustomValidity","toString","undefined","_original_validationMessage","delete","uid","prefix","Math","random","substr","get_radiogroup","form","Array","filter","elements","radio","type","Renderer","warningsCache","DefaultRenderer","attachWarning","warning","parentNode","insertBefore","nextSibling","detachWarning","removeChild","showWarning","whole_form_validated","msg","wrapper","createElement","className","classes","id","setAttribute","hasAttribute","setMessage","getAttribute","removeAttribute","textContent","renderer","action","console","log","replace","g","toUpperCase","getWarning","registry","create","call_hook","hook","result","call_args","slice","arguments","args","reduce","previousResult","currentAction","interimResult","apply","state","do_filter","initial_value","remove_hook","i","length","splice","add_hook","position","dates","plain_numbers","numbers","concat","type_checked","input_checked","text","validation_candidates","inputs","non_inputs","HTMLTextAreaElement","HTMLSelectElement","HTMLButtonElement","toLowerCase","HTMLInputElement","attr","is_in_disallowed_parent","p","nodeType","nodeName","filtered","novalidateOnElements","noValidate","date","part","toLocaleDateString","toDateString","toLocaleTimeString","toTimeString","year","month","toLocaleString","str","args_length","global_index","match","local_index","Number","arg","Date","d","setUTCHours","setUTCDate","getUTCDate","getUTCDay","yearStart","getUTCFullYear","weekNo","ceil","pad","num","size","s","date_to_string","element_type","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","getUTCMonth","params","sprintf","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","week","UTC","string","test","isNaN","valueOf","RegExp","$2","$1","rval","catalog","en","TextTooLong","ValueMissing","CheckboxMissing","RadioMissing","FileMissing","SelectMissing","InvalidEmail","InvalidURL","PatternMismatch","PatternMismatchWithTitle","NumberRangeOverflow","DateRangeOverflow","TimeRangeOverflow","NumberRangeUnderflow","DateRangeUnderflow","TimeRangeUnderflow","StepMismatch","StepMismatchOneValue","BadInputNumber","language","base_lang","set_language","newlang","add_translation","lang","new_catalog","default_step","datetime","time","step_scale_factor","default_step_base","default_min","range","default_max","n","aMin","min","NaN","pMin","aMax","max","pMax","aStep","step","pStep","default_value","step_base","scale","prev","floor","next","custom_messages","validator","messages","_default","data_id","custom_validator_registry","internal_registry","current","push","_original_validity","badInput","text_types","maxlength","parseInt","minlength","has_submittable_option","select","has_placeholder_option","multiple","options","selectedIndex","some","option","index","disabled","selected","checked","radiogroup","abs","ws_on_start_or_end","split","map","item","b","url_canary","email_pattern","is_valid","href","every","files","patterns","pattern","fileloop","file_valid","patternloop","j","file","fileprop","search","lastIndexOf","check","react","invalid","set_msg","msgtype","test_bad_input","customError","__hf_custom_validation_running","custom_validators","CustomValidatorRegistry","cvl","valid","patternMismatch","test_pattern","title","rangeOverflow","test_max","outOfRangeClass","outOfRange","inRangeClass","inRange","classList","add","remove","rangeUnderflow","test_min","stepMismatch","test_step","list","sole","tooLong","test_maxlength","tooShort","test_minlength","typeMismatch","test_type","valueMissing","test_required","validClass","invalidClass","userInvalidClass","userInvalid","userValidClass","userValid","validatedClass","validated","checker","defaultChecked","defaultValue","ValidityState","HTMLElement","Error","cached","cache","ValidityStatePrototype","checker_getter","func","prop","validity_state_checkers","reportValidity","HTMLFormElement","__hf_form_validation","form_valid","validEvent","submit_form_via","event_got_cancelled","submit_event","writable","submittedVia","add_submit_field","submit","setTimeout","remove_submit_field","button","submit_helper","appendChild","val_event","first_invalid","focus","is_submit_button","node","is_submitting_click","is_submitting_keypress","keyCode","target","get_clicked_button","get_click_handler","ignore","click_handler","ignored_click_handler","get_keypress_handler","preventImplicitSubmit","el","implicit_event","trigger","click","keypress_handler","ignored_keypress_handler","catch_submit","listening_node","addEventListener","uncatch_submit","removeEventListener","property","debug","original_descriptor","getOwnPropertyDescriptor","descriptor","getPrototypeOf","setCustomValidity","valueAsDate","DOMException","getTime","value_date","valueAsNumber","isFinite","stepDown","stepUp","validationMessage","willValidate","gA","sA","gAb","sAb","gAn","sAn","install_properties","uninstall_properties","polyfills","checkValidity","validity","instances","Wrapper","existing","revalidator","revalidate","bind","install","get_wrapper","wrapped","destroy","uninstall","els","els_length","get_validated_elements","validateNameless","data","hyperform","w","deprecated_message","extend_fieldset","novalidate_on_elements","prevent_implicit_submit","strict","valid_event","NodeList","HTMLCollection","version","setLanguage","addTranslation","setRenderer","addValidator","addHook","removeHook","set_renderer","add_validator","set_message","currentScript","factory","Component","getID","qs","querySelectorAll","formValidationI18n","ru","TextTooShort","InvalidDate","Form","formValidationClasses","init","global","exports","module","define","amd","self","fp","flatpickr","l10ns","Russian","weekdays","shorthand","longhand","months","firstDayOfWeek","ordinal","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","time_24hr","default","__assign","assign","t","HOOKS","defaults","_disable","_enable","allowInput","altFormat","altInput","altInputClass","animate","navigator","userAgent","ariaDateFormat","clickOpens","closeOnSelect","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enable","enableSeconds","enableTime","errorHandler","err","warn","getWeek","givenDate","setHours","setDate","getDay","week1","round","hourIncrement","ignoredFocusElements","inline","locale","minuteIncrement","mode","monthSelectorType","nextArrow","noCalendar","now","onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","positionElement","prevArrow","shorthandCurrentMonth","showMonths","static","weekNumbers","wrap","english","daysInMonth","nth","hourAriaLabel","minuteAriaLabel","number","int","bool","debounce","wait","immediate","timeout","context","clearTimeout","arrayify","toggleClass","elem","tag","content","clearNode","firstChild","createNumberInput","inputClassName","opts","numInput","arrowUp","arrowDown","doNothing","monthToStr","monthNumber","revFormat","D","F","dateObj","monthName","setMonth","G","hour","parseFloat","H","J","day","K","M","shortMonth","S","seconds","setSeconds","U","_","unixSeconds","W","weekNum","weekNumber","Y","setFullYear","Z","ISODate","h","minutes","setMinutes","l","m","u","unixMillSeconds","y","tokenRegex","formats","toISOString","substring","createDateFormatter","_a","_b","config","_c","l10n","frmt","overrideLocale","formatDate","c","arr","join","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","format","datestr","trim","parseDate","matched","ops","matchIndex","regexStr","token_1","isBackSlash","escaped","exec","fn","val","forEach","compareDates","date1","date2","isBetween","ts","ts1","ts2","duration","DAY","_i","TypeError","_loop_1","source","keys","args_1","DEBOUNCED_CHANGE_MS","FlatpickrInstance","instanceConfig","defaultConfig","bindToInstance","setCalendarWidth","requestAnimationFrame","calendarContainer","style","visibility","display","daysContainer","daysWidth","days","offsetWidth","width","weekWrapper","removeProperty","updateTime","selectedDates","setDefaultTime","timeWrapper","isKeyDown","input","curValue","delta","which","newValue","isHourElem","hourElement","isMinuteElem","minuteElement","incrementNumInput","prevValue","_input","setHoursFromInputs","updateValue","_debouncedChange","hours","secondElement","limitMinHours","minTime","minDate","minDateHasTime","latestSelectedDateObj","limitMaxHours","maxTime","maxDate","maxDateHasTime","setHoursFromDate","setDefaultHours","minHr","minMinutes","maxHr","maxMinutes","isMobile","onYearInput","changeYear","handler","ev","_handlers","onClick","evt","triggerChange","triggerEvent","jumpToDate","jumpDate","jumpTo","oldYear","currentYear","oldMonth","currentMonth","buildMonthSwitch","redraw","timeIncrement","contains","inputElem","createDay","dayNumber","dateIsEnabled","isEnabled","dayElement","$i","todayDateElem","tabIndex","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","onMouseOver","getFirstAvailableDay","startMonth","endMonth","children","startIndex","endIndex","focusOnDay","offset","dayFocused","isInView","activeElement","body","startElem","getNextAvailableDay","givenMonth","loopDelta","numMonthDays","changeMonth","buildMonthDays","firstOfMonth","prevMonthDays","utils","getDaysInMonth","createDocumentFragment","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayIndex","dayNum","dayContainer","buildDays","frag","shouldBuildMonth","monthsDropdownContainer","innerHTML","buildMonth","container","monthElement","monthNavFragment","selectedMonth","yearInput","tabindex","yearElement","getElementsByTagName","buildMonths","monthNav","prevMonthNav","yearElements","monthElements","nextMonthNav","buildWeekdays","weekdayContainer","updateWeekdays","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","updateNavigationCurrentMonth","isCalendarElem","appendTo","documentClick","isOpen","eventTarget_1","composedPath","isCalendarElement","isInput","path","lostFocus","relatedTarget","isIgnored","timeContainer","close","clear","getEventTarget","newYear","newYearNum","isNewYear","dateToCheck","array","parsed","from","to","allowKeydown","allowInlineKeydown","blur","open","isTimeObj","focusAndClose","selectDate","delta_1","ctrlKey","stopPropagation","currentYearElement","elems","pluginElements","x","shiftKey","charAt","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","dayElem","timestamp","onResize","positionCalendar","minMaxDateSetter","inverseDateObj","setupLocale","JSON","parse","stringify","dataset","customPositionElement","_positionElement","calendarHeight","acc","child","offsetHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","getBoundingClientRect","distanceFromBottom","innerHeight","bottom","showOnTop","top","pageYOffset","left","pageXOffset","right","rightMost","centerMost","doc","styleSheets","bodyWidth","centerLeft","centerIndex","cssRules","centerStyle","insertRule","centerBefore","msMaxTouchPoints","isSelectable","findParent","condition","selectedDate","shouldChangeMonth","sort","a","showTimeInput","single","loadedPlugins","_bind","_setHoursFromDate","_positionCalendar","triggerChangeEvent","toInitial","mobileInput","_initialDate","_createElement","lastChild","_type","k","wasOpen","CALLBACKS","setSelectedDate","toggle","inputDate","parseDateRules","rule","hooks","getDateStr","dObj","mobileFormatStr","onMonthNavClick","isPrevMonth","isNextMonth","parseConfig","boolOpts","userConfig","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","pluginConf","querySelector","placeholder","required","setupDates","preloadedDate","defaultDate","_showTimeInput","yr","build","fragment","__hidePrevMonthArrow","__hideNextMonthArrow","innerContainer","buildWeeks","rContainer","buildTime","separator","hourInput","minuteInput","military2ampm","secondInput","customAppend","bindEvents","setupMobile","inputType","debouncedResize","ontouchstart","capture","isSafari","_flatpickr","nodeList","nodes","error","Node","localize","setDefaults","jQuery","fp_incr","rangePlugin","_secondInputFocused","_prevDates","plugin","cloneNode","createSecondInput","selDates","newSelectedDate","newDates","monthNumberToName","Datepicker","inputEl","togglerEl","datepicker","createDatepicker","calendar","currentDate","toLocaleLowerCase","connectedWith","isInline","outerHTML","dateStr","instance","setCurrentMonthView","formatValue","RangePlugin","actions","reset","ok","createConfig","$buttonReset","$buttonOk","callNow","pluralize","count","words","word","inc","v","dec","not","toBool","oneByOne","fns","Counter","displayEl","btnIncEl","btnDecEl","label","plurals","bindEventHandlers","attachEventHandlers","handleButtonDecClick","handleButtonIncClick","handleReset","handleNotify","CustomEvent","detail","numValue","strValue","Menu","menuItems","bindEventListeners","showSubmenu","hideSubmenu","currentItem","currentTarget","hasSubmenu","OffCanvas","mainContainer","parentElement","handleToggle","OffCanvasToggler","connectedWithEl","getElementById","handleClick","DropdownCounter","inputAltEl","okEl","resetEl","counterEls","actionsEl","resultType","showActions","model","Map","updateDOM","updateModel","handleValueAltClick","handleFocusOut","handleCounterUpdate","handleResetClick","handleOkClick","toggleCounters","showCounters","hideCounters","total","isInside","showActionsPanel"],"mappings":";AAAA,aA2DC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,QAAA,QAAA,EAnDD,MAAMA,EAA2B,WACzBC,MAAAA,EAAIC,SAASC,YAAY,SAGxBF,OAFPA,EAAEG,UAAU,OAAO,GAAM,GACzBH,EAAEI,iBACKJ,EAAEK,iBAJsB,GAOjC,IAAKN,EAAyB,CACtBO,MAAAA,EAAqBC,OAAOC,MAAMC,UAAUL,eAClDG,OAAOC,MAAMC,UAAUL,eAAiB,WACjC,KAAKM,aAIVJ,EAAmBK,KAAK,MAExBC,OAAOC,eAAe,KAAM,mBAAoB,CAC9CC,IAAK,WACI,OAAA,GAETC,cAAc,MAOb,SAASC,EAAaC,GAAM,QAAEC,GAAQ,EAAV,WAAgBR,GAAW,GAAS,IAC/DS,MAAAA,EAAQlB,SAASC,YAAY,SAE5BiB,OADPA,EAAMhB,UAAUc,EAAMC,EAASR,GACxBS,EAIM,SAASC,EAAAA,EAASD,GAAO,QACdD,GAAQ,EADM,WAEdR,GAAW,GACX,GAAIW,EAAQ,IAC7BF,aAAiBZ,OAAOC,QAC7BW,EAAQH,EAAaG,EAAO,CAAED,QAAAA,EAASR,WAAAA,KAGpC,IAAA,IAAIY,KAAOD,EACVA,EAAQE,eAAeD,KACzBH,EAAMG,GAAOD,EAAQC,IAMlBH,OAFPC,EAAQI,cAAcL,GAEfA;;AC1DT,aAYC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EARD,MAAMM,EAAKlB,OAAOmB,QAAQjB,UACpBkB,EAAiBF,EAAGG,SACHH,EAAGI,iBACHJ,EAAGK,mBACHL,EAAGM,sBAEX,SAASX,EAAAA,EAASY,GACxBL,OAAAA,EAAehB,KAAKS,EAASY;;ACXtC,aASe,SAASC,EAAAA,GAUfA,MATH,CAAC,SAAU,YAAYC,eAAeD,IAAQ,WACzCA,EAAIE,YACXvB,OAAOC,eAAeoB,EAAK,cAAe,CACxClB,cAAc,EACdqB,YAAY,EACZC,OAAO,KAIJJ,EACR,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;ACpBD,aAuEA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,mBAAA,EApEA,IAAA,EAAA,QAAA,aACA,EAAA,EAAA,QAAA,kBAmEA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA7DA,MAAMK,EAAQ,IAAIC,QAUZC,EAAgB,CAEpBC,IAAIrB,EAASsB,EAASC,GAAU,GAC1BvB,GAAAA,aAAmBb,OAAOqC,oBAAqB,CAC3CC,MAAAA,GAAe,EAAYzB,EAAAA,aAAAA,GAC7ByB,GAAAA,IAAkBA,EAAaC,SAASC,eAEnCP,OAAAA,EAkBJA,MAdgB,iBAAZE,IACTA,EAAU,IAAIM,OAAON,IAEnBC,IACFD,EAAQC,WAAY,IAEjBD,EAAAA,EAAAA,SAAAA,GACLJ,EAAMG,IAAIrB,EAASsB,GAGf,gCAAiCtB,GACnCA,EAAQ6B,4BAA4BP,EAAQQ,YAGvCV,GAGT1B,IAAIM,GACEsB,IAAAA,EAAUJ,EAAMxB,IAAIM,GAMjBsB,YALSS,IAAZT,GAA0B,gCAAiCtB,IAG7DsB,EAAU,IAAIM,OAAO5B,EAAQgC,8BAExBV,GAAmB,IAAIM,OAAO,KAGvCK,OAAOjC,EAASuB,GAAU,GACpB,gCAAiCvB,GACnCA,EAAQ6B,4BAA4B,IAElCP,IAAAA,EAAUJ,EAAMxB,IAAIM,GACpBsB,QAAAA,GAAWC,IAAeD,EAAQC,YAI/BL,EAAMe,OAAOjC,KAIxB,QAAA,cAAA;;ACvEA,aAmBC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAVD,IAAIkC,EAAM,EAQK,SAASC,EAAAA,EAAO,OACtBA,OAAAA,EAAWD,IAAUE,KAAKC,SAASP,SAAS,IAAIQ,OAAO;;AClBhE,aAOO,SAASC,EAAevC,GACzBA,OAAAA,EAAQwC,KACHC,MAAMpD,UAAUqD,OAAOnD,KAC5BS,EAAQwC,KAAKG,SACbC,GAAwB,UAAfA,EAAMC,MAAoBD,EAAM/C,OAASG,EAAQH,MAGvD,CAACG,GACT,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA;;ACfD,aAoHe8C,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAjHf,IAAA,EAAA,QAAA,mBACA,EAAA,QAAA,aACA,EAAA,EAAA,QAAA,yBACA,EAAA,QAAA,2BA8GeA,SAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,WAAAA,EAAAA,CAAAA,QAAAA,GA3Gf,MAAMC,EAAgB,IAAI5B,QAGpB6B,EAAkB,CAKtBC,cAAe,SAASC,EAASlD,GAG/BA,EAAQmD,WAAWC,aAAaF,EAASlD,EAAQqD,cAMnDC,cAAe,SAASJ,EAASlD,GAG3BkD,EAAQC,YACVD,EAAQC,WAAWI,YAAYL,IASnCM,YAAa,SAASxD,EAASyD,GAAqB,GAI9CA,GAAAA,GAAyC,UAAjBzD,EAAQ6C,OAChC,EAAe7C,EAAAA,gBAAAA,GAAS,KAAOA,EACjC,OAGI0D,MAAAA,EAAMtC,EAAc1B,cAAAA,IAAIM,GAAS8B,WACnCoB,IAAAA,EAAUH,EAAcrD,IAAIM,GAE5B0D,GAAAA,EAAK,CACH,IAAER,EAAS,CACPS,MAAAA,GAAU,EAAY3D,EAAAA,aAAAA,IAC5BkD,EAAUrE,SAAS+E,cAAc,QACzBC,UAAYF,GAAWA,EAAQjC,SAASoC,QAAQZ,SAAW,aACnEA,EAAQa,IAAK,EAAb,EAAA,WACAb,EAAQc,aAAa,YAAa,UAClCjB,EAAc1B,IAAIrB,EAASkD,GAG7BlD,EAAQgE,aAAa,oBAAqBd,EAAQa,IAC7C/D,EAAQiE,aAAa,qBACxBjE,EAAQgE,aAAa,mBAAoBd,EAAQa,IAEnDjB,EAASoB,WAAWhB,EAASQ,EAAK1D,GAClC8C,EAASG,cAAcC,EAASlD,QAEvBkD,GAAWA,EAAQC,aACxBnD,EAAQmE,aAAa,sBAAwBjB,EAAQa,IACvD/D,EAAQoE,gBAAgB,oBAE1BpE,EAAQoE,gBAAgB,qBACxBtB,EAASQ,cAAcJ,EAASlD,KAWpCkE,WAAY,SAAShB,EAAS5B,EAAStB,GACrCkD,EAAQmB,YAAc/C,IAMpBwB,EAAW,CAEfG,cAAeD,EAAgBC,cAC/BK,cAAeN,EAAgBM,cAC/BE,YAAaR,EAAgBQ,YAC7BU,WAAYlB,EAAgBkB,WAE5B7C,IAAK,SAASiD,EAAUC,GAClBD,EAASxD,QAAQ,MAAQ,IAG3B0D,QAAQC,IAAI,6CAA6CH,EAAS,mDAClEA,EAAWA,EAASI,QAAQ,YAAaC,GAAKA,EAAE,GAAGC,gBAE/CL,IACJA,EAASvB,EAAgBsB,IAE3BxB,EAASwB,GAAYC,GAGvBM,WAAY7E,GAAW+C,EAAcrD,IAAIM,IAK5B8C,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;ACpHf,aAqFC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,QAAA,UAAA,EAAA,QAAA,cAAA,QAAA,YAAA,EAAA,QAAA,WAAA,QAAA,SAAA,EAlFD,MAAMgC,EAAWtF,OAAOuF,OAAO,MAWxB,SAASC,EAAUC,GACpBC,IAAAA,EACEC,MAAAA,EAAY1C,MAAMpD,UAAU+F,MAAM7F,KAAK8F,UAAW,GAGtB,IAASC,EAapCJ,OAdHD,KAAQH,IACVI,EAASJ,EAASG,GAAMM,QAAiBD,EAUtCH,EARM,SAASK,EAAgBC,GACxBC,MAAAA,EAAgBD,EAAcE,MAAM,CACxCC,MAAOJ,EACPP,KAAMA,GACLK,GACKI,YAAkB3D,IAAlB2D,EAA8BA,EAAgBF,IAG3CN,IAGVA,EASF,SAASW,EAAUZ,EAAMa,GAC1BZ,IAAAA,EAASY,EACTX,EAAY1C,MAAMpD,UAAU+F,MAAM7F,KAAK8F,UAAW,GAa/CH,OAXHD,KAAQH,IACVI,EAASJ,EAASG,GAAMM,OAAO,SAASC,EAAgBC,GACtDN,EAAU,GAAKK,EACTE,MAAAA,EAAgBD,EAAcE,MAAM,CACxCC,MAAOJ,EACPP,KAAMA,GACLE,GACKO,YAAkB3D,IAAlB2D,EAA8BA,EAAgBF,GACrDN,IAGEA,EAMF,SAASa,EAAYd,EAAMV,GAC5BU,GAAAA,KAAQH,EACL,IAAA,IAAIkB,EAAI,EAAGA,EAAIlB,EAASG,GAAMgB,OAAQD,IACrClB,GAAAA,EAASG,GAAMe,KAAOzB,EAAQ,CAChCO,EAASG,GAAMiB,OAAOF,EAAG,GACzB,OAUD,SAASG,EAASlB,EAAMV,EAAQ6B,GAC9BnB,KAAQH,IACbA,EAASG,GAAQ,SAEFlD,IAAbqE,IACFA,EAAWtB,EAASG,GAAMgB,QAE5BnB,EAASG,GAAMiB,OAAOE,EAAU,EAAG7B;;ACpFrC,aA+BO,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,QAAA,OAAA,QAAA,sBAAA,QAAA,KAAA,QAAA,cAAA,QAAA,aAAA,QAAA,QAAA,QAAA,cAAA,QAAA,WAAA,EA5BA,MAAM8B,EAAQ,CAAE,WAAY,OAAQ,QAAS,OAAQ,QA4BrD,QAAA,MAAA,EA1BA,MAAMC,EAAgB,CAAE,SAAU,SA0BlC,QAAA,cAAA,EAtBA,MAAMC,EAAUF,EAAMG,OAAOF,EAAe,kBAsB5C,QAAA,QAAA,EAlBA,MAAMG,EAAe,CAAE,QAAS,OAkBhC,QAAA,aAAA,EAfA,MAAMC,EAAgB,CAAE,QAAS,OAAQ,QAAS,OAAQ,OAC/D,WAAY,iBAAkB,SAAU,QAAS,SAc5C,QAAA,cAAA,EAZA,MAAMC,EAAO,CAAE,OAAQ,SAAU,MAAO,YAAcH,OAAOC,GAY7D,QAAA,KAAA,EAPA,MAAMG,EAAwB,CAAE,WAAY,QAAS,OAAQ,QAClE,QAAS,UAAYJ,OAAOD,EAASI,GAMhC,QAAA,sBAAA,EAHA,MAAME,EAAS,CAAC,SAAU,SAAU,SAASL,OAAOI,GAGpD,QAAA,OAAA,EAAA,MAAME,EAAa,CAAC,aAAc,kBAAmB,YAArD,QAAA,WAAA;;AC/BP,aAgCC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EA7BD,IAAA,EAAA,QAAA,uBAMe,SAAS9G,EAAAA,GAClBA,GAAAA,aAAmBb,OAAO4H,oBACrB,MAAA,WAEF,GAAI/G,aAAmBb,OAAO6H,kBAC5BhH,OAAAA,EAAQiE,aAAa,YAAa,kBAAoB,aAExD,GAAIjE,aAAmBb,OAAO8H,kBAC5B,OAACjH,EAAQmE,aAAa,SAAW,UAAU+C,cAE7C,GAAIlH,aAAmBb,OAAOgI,iBAAkB,CAC/CC,MAAAA,GAAQpH,EAAQmE,aAAa,SAAW,IAAI+C,cAC9CE,OAAAA,GAAQP,EAAO/F,OAAAA,QAAQsG,IAAS,EAC3BA,EAIApH,EAAQ6C,MAAQ,OAKpB,MAAA;;AC/BT,aA2FC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAxFD,IAAA,EAAA,QAAA,uBACA,EAAA,QAAA,uBACA,EAAA,QAAA,yBACA,EAAA,EAAA,QAAA,sBAqFC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA7ED,SAASwE,EAAwBrH,GAC3BsH,IAAAA,EAAItH,EAAQmD,WACTmE,KAAAA,GAAoB,IAAfA,EAAEC,UAAgB,CACxBD,GAAAA,aAAanI,OAAOqC,qBACpB8F,EAAErD,aAAa,YAEV,OAAA,EACF,GAAiC,aAA7BqD,EAAEE,SAAS5C,cAMb,OAAA,EACF,GAAI0C,IAAMtH,EAAQwC,KAEvB,MAEF8E,EAAIA,EAAEnE,WAED,OAAA,EASM,SAASnD,EAAAA,GAGhByH,MAAAA,GAAW,EAAU,EAAA,WAAA,0BAA2B,KAAMzH,GACxDyH,GAAa,OAAbA,EACK,QAAGA,EAIRzH,GAAAA,aAAmBb,OAAO6H,mBAE1BhH,aAAmBb,OAAO4H,qBAE1B/G,aAAmBb,OAAO8H,mBAE1BjH,aAAmBb,OAAOgI,iBAAkB,CAExCtE,MAAAA,GAAO,EAAS7C,EAAAA,SAAAA,GAElB8G,IAAAA,EAAWhG,WAAAA,QAAQ+B,IAAS,GAC5B+D,EAAsB9F,sBAAAA,QAAQ+B,IAAS,KAGnC7C,EAAQiE,aAAa,cACrBjE,EAAQiE,aAAa,YAAa,CAEhCxC,MAAAA,GAAe,EAAYzB,EAAAA,aAAAA,GAEjC,IAEKyB,IAAkBA,EAAaC,SAASgG,uBAEtC1H,EAAQiE,aAAa,gBAAmBjE,EAAQ2H,cAI/CN,EAAwBrH,GAGrB,OAAA,GAQV,OAAA;;AC1FT,aAGe,SAAS4H,EAAAA,EAAMC,GACpBA,OAAAA,GACD,IAAA,OACI,OAACD,EAAKE,oBAAsBF,EAAKG,cAAcxI,KAAKqI,GACxD,IAAA,OACI,OAACA,EAAKI,oBAAsBJ,EAAKK,cAAc1I,KAAKqI,GACxD,IAAA,QACK,MAAA,uBAAwBA,EAC9BA,EAAKE,wBAAmB/F,EAAW,CACjCmG,KAAM,UACNC,MAAO,YAGTP,EAAKG,eAGT,QACS,OAACH,EAAKQ,gBAAkBR,EAAK9F,UAAUvC,KAAKqI,IAExD,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;ACtBD,aAGe,SAASS,EAAAA,KAAQ/C,GACxBgD,MAAAA,EAAchD,EAAKW,OACrBsC,IAAAA,EAAe,EAEZF,OAAAA,EAAI3D,QAAQ,sBAAuB,CAAC8D,EAAOpC,EAAUvD,KACtD4F,IAAAA,EAAcF,EACdnC,IACFqC,EAAcC,OAAOtC,EAAS1B,QAAQ,MAAO,KAAO,GAEtD6D,GAAgB,EAEZI,IAAAA,EAAM,GAiBHA,OAhBHL,EAAcG,IAChBE,EAAMrD,EAAKmD,KAGTE,aAAeC,MACA,iBAARD,GACPA,aAAeD,UAIfC,EADW,MAAT9F,GACK8F,EAAIP,gBAAkBO,EAAI7G,UAAUvC,KAAKoJ,GAE1CA,EAAI7G,YAIP6G,IAEV,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;ACjCD,aAqBe,SAASE,EAAAA,IAEtBA,EAAI,IAAID,MAAMC,IACZC,YAAY,EAAG,EAAG,GAGpBD,EAAEE,WAAWF,EAAEG,aAAe,GAAKH,EAAEI,aAAa,IAE5CC,MAAAA,EAAY,IAAIN,KAAKC,EAAEM,iBAAiB,EAAE,GAE1CC,EAAShH,KAAKiH,OAAUR,EAAIK,GAAa,MAAY,GAAG,GAEvD,MAAA,CAACL,EAAEM,iBAAkBC,GAC7B,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;AClCD,aAgEC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EA7DD,IAAA,EAAA,EAAA,QAAA,cACA,EAAA,EAAA,QAAA,uBA4DC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAzDD,SAASE,EAAIC,EAAKC,EAAK,GAEdC,IADHA,IAAAA,EAAIF,EAAM,GACPE,EAAExD,OAASuD,GAChBC,EAAI,IAAMA,EAELA,OAAAA,EAOM,SAASC,EAAe9B,EAAM+B,GACvC,KAAG/B,aAAgBgB,MACd,OAAA,KAGDe,OAAAA,GACD,IAAA,WACID,OAAAA,EAAe9B,EAAM,QAAU,IAC/B8B,EAAe9B,EAAM,QAEzB,IAAA,iBACI,OAAA,EAAQ,EAAA,SAAA,uBACAA,EAAKgC,cACLN,EAAI1B,EAAKiC,WAAa,GACtBP,EAAI1B,EAAKkC,WACTR,EAAI1B,EAAKmC,YACTT,EAAI1B,EAAKoC,cACTV,EAAI1B,EAAKqC,cACTX,EAAI1B,EAAKsC,kBAAmB,IAC5BxF,QAAQ,eAAgB,IAEpC,IAAA,OACI,OAAA,EAAQ,EAAA,SAAA,WACAkD,EAAKuB,iBACLG,EAAI1B,EAAKuC,cAAgB,GACzBb,EAAI1B,EAAKoB,eAErB,IAAA,QACI,OAAA,EAAQ,EAAA,SAAA,QAASpB,EAAKuB,iBACdG,EAAI1B,EAAKuC,cAAgB,IAErC,IAAA,OACGC,MAAAA,GAAS,EAAiBxC,EAAAA,SAAAA,GACzByC,OAAAA,EAAQ9K,QAAAA,KAAK,KAAM,SAAU6K,EAAO,GAAId,EAAIc,EAAO,KAEvD,IAAA,OACI,OAAA,EAAQ,EAAA,SAAA,cACCd,EAAI1B,EAAK0C,eACThB,EAAI1B,EAAK2C,iBACTjB,EAAI1B,EAAK4C,iBACTlB,EAAI1B,EAAK6C,qBAAsB,IAC/B/F,QAAQ,eAAgB,IAGrC,OAAA;;AC/DT,aAQe,SAASgG,EAAAA,EAAMxC,GACtBN,MAAAA,EAAO,IAAIgB,KAAKA,KAAK+B,IAAIzC,EAAM,EAAG,EAAiB,GAAZwC,EAAO,KAQ7C9C,OANHA,EAAKqB,aAAe,EACtBrB,EAAKmB,WAAWnB,EAAKoB,aAAepB,EAAKqB,YAAc,GAEvDrB,EAAKmB,WAAWnB,EAAKoB,aAAe,EAAIpB,EAAKqB,aAGxCrB,EACR,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;AClBD,aAgDC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EA7CD,IAAA,EAAA,EAAA,QAAA,yBA6CC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAvCc,SAASgD,EAAAA,EAAQjB,GAC1B/B,IAAAA,EACI+B,OAAAA,GACD,IAAA,WACC,MAAE,6HAA6HkB,KAAKD,IAGxIhD,EAAO,IAAIgB,KAAKgC,EAAO,KAChBE,MAAMlD,EAAKmD,WAAY,KAAOnD,GAH5B,KAKN,IAAA,OACC,MAAE,wDAAwDiD,KAAKD,IAGnEhD,EAAO,IAAIgB,KAAKgC,GACTE,MAAMlD,EAAKmD,WAAY,KAAOnD,GAH5B,KAKN,IAAA,QACC,MAAE,+BAA+BiD,KAAKD,IAG1ChD,EAAO,IAAIgB,KAAKgC,GACTE,MAAMlD,EAAKmD,WAAY,KAAOnD,GAH5B,KAKN,IAAA,OACC,MAAE,4CAA4CiD,KAAKD,IAGhD,EAAmBlC,EAAAA,SAAAA,OAAOsC,OAAOC,IAAKvC,OAAOsC,OAAOE,KAFlD,KAIN,IAAA,OACC,MAAE,yEAAyEL,KAAKD,GAGpFhD,EAAO,IAAIgB,KAAK,cAAcgC,EAAO,KAF5B,KAMN,OAAA;;AC/CT,aAgBC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAbD,IAAA,EAAA,EAAA,QAAA,qBAaC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAPc,SAASA,EAAAA,EAAQjB,GACtBwB,MAAAA,GAAO,EAAeP,EAAAA,SAAAA,EAAQjB,GAChCwB,OAAS,OAATA,GACMA,EAGHzC,OAAOkC;;ACflB,aAoFC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,QAAA,gBAAA,EAAA,QAAA,QAAA,EA5ED,MAAMQ,EAAU,CACdC,GAAI,CACFC,YAAa,6FACbC,aAAc,8BACdC,gBAAiB,gDACjBC,aAAc,sCACdC,YAAa,wBACbC,cAAe,qCACfC,aAAc,iCACdC,WAAY,sBACZC,gBAAiB,qCACjBC,yBAA0B,yCAC1BC,oBAAqB,iDACrBC,kBAAmB,kDACnBC,kBAAmB,kDACnBC,qBAAsB,iDACtBC,mBAAoB,oDACpBC,mBAAoB,oDACpBC,aAAc,2EACdC,qBAAsB,8DACtBC,eAAgB,2BAQpB,IAAIC,EAAW,KAMXC,EAAY,KAMT,SAASC,EAAaC,GAC3BH,EAAWG,EACXF,EAAYE,EAAQlI,QAAQ,SAAU,IAOjC,SAASmI,EAAgBC,EAAMC,GAC7BD,KAAQ1B,IACbA,EAAQ0B,GAAQ,IAEb,IAAA,IAAI5M,KAAO6M,EACVA,EAAY5M,eAAeD,KAC7BkL,EAAQ0B,GAAM5M,GAAO6M,EAAY7M,IAYxB,SAASuJ,EAAAA,GACjBgD,OAAAA,KAAYrB,GAAa3B,KAAK2B,EAAQqB,GAClCrB,EAAQqB,GAAUhD,GACfiD,KAAatB,GAAa3B,KAAK2B,EAAQsB,GAC1CtB,EAAQsB,GAAWjD,GACjBA,KAAK2B,EAAQC,GACfD,EAAQC,GAAG5B,GAEbA;;ACnFT,aAyBO,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,QAAA,YAAA,QAAA,kBAAA,QAAA,kBAAA,QAAA,kBAAA,EAtBA,MAAMuD,EAAe,CACR,iBAAA,GAClBC,SAAU,GACVC,KAAM,IAmBD,QAAA,aAAA,EAhBA,MAAMC,EAAoB,CACb,iBAAA,IAClBF,SAAU,IACVrF,KAAM,MACN8C,KAAM,OACNwC,KAAM,KAWD,QAAA,kBAAA,EARA,MAAME,EAAoB,CAC/B1C,MAAO,QAOF,QAAA,kBAAA,EAJA,MAAM2C,EAAc,CACzBC,MAAO,GAGF,QAAA,YAAA,EAAA,MAAMC,EAAc,CACzBD,MAAO,KADF,QAAA,YAAA;;ACzBP,aA4FC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAzFD,IAAA,EAAA,EAAA,QAAA,qBACA,EAAA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,eACA,EAAA,EAAA,QAAA,+BACA,EAAA,QAAA,+BAEA,EAAA,QAAA,uBAmFC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA7Ec,SAAStN,EAAAA,EAASwN,EAAE,GAC3B3K,MAAAA,GAAO,EAAS7C,EAAAA,SAAAA,GAEhByN,EAAOzN,EAAQmE,aAAa,OAC9BuJ,IAAAA,EAAML,EAAYxK,YAAAA,IAAS8K,IAC3BF,GAAAA,EAAM,CACFG,MAAAA,GAAO,EAAiBH,EAAAA,SAAAA,EAAM5K,GAC9BiI,MAAM8C,KACVF,EAAME,GAIJC,MAAAA,EAAO7N,EAAQmE,aAAa,OAC9B2J,IAAAA,EAAMP,EAAY1K,YAAAA,IAAS8K,IAC3BE,GAAAA,EAAM,CACFE,MAAAA,GAAO,EAAiBF,EAAAA,SAAAA,EAAMhL,GAC9BiI,MAAMiD,KACVD,EAAMC,GAIJC,MAAAA,EAAQhO,EAAQmE,aAAa,QAC/B8J,IAAAA,EAAOjB,EAAanK,aAAAA,IAAS,EAC7BmL,GAAAA,GAAiC,QAAxBA,EAAM9G,cAEV,MAAA,EAAC,EAAE,EAAA,SAAA,cAAc,EAAE,EAAA,SAAA,cACrB,GAAI8G,EAAO,CACVE,MAAAA,GAAQ,EAAiBF,EAAAA,SAAAA,EAAOnL,GAChCiI,MAAMoD,KACVD,EAAOC,GAILC,MAAAA,GAAgB,EAAiBnO,EAAAA,SAAAA,EAAQmE,aAAa,SAAUtB,GAEhE5B,GAAQ,EAAiBjB,EAAAA,SAAAA,EAAQiB,OACRjB,EAAQmE,aAAa,SAAUtB,GAE1DiI,GAAAA,MAAM7J,GAED,MAAA,EAAC,EAAE,EAAA,SAAA,oBAAoB,EAAE,EAAA,SAAA,oBAG5BmN,MAAAA,EACFtD,MAAM4C,GACJ5C,MAAMqD,GACNf,EAAkBvK,kBAAAA,IAAS,EADLsL,EADZT,EAOVW,EAAQlB,EAAkBtK,kBAAAA,IAAS,EAErCyL,IAAAA,EAAOF,EACThM,KAAKmM,OAAOtN,EAAQmN,IAAcH,EAAOI,KAAWJ,EAAOI,GAASb,EAClEgB,EAAOJ,GACRhM,KAAKmM,OAAOtN,EAAQmN,IAAcH,EAAOI,IAAU,IAAMJ,EAAOI,GAASb,EAoBrE,OAlBHc,EAAOZ,EACTY,EAAO,KACEA,EAAOR,IAChBQ,EAAOR,GAGLU,EAAOV,EACTU,EAAO,KACEA,EAAOd,IAChBc,EAAOd,GAILrH,EAAMvF,MAAAA,QAAQ+B,IAAS,IACzByL,GAAO,EAAe,EAAA,SAAA,IAAI1F,KAAK0F,GAAOzL,GACtC2L,GAAO,EAAe,EAAA,SAAA,IAAI5F,KAAK4F,GAAO3L,IAGjC,CAACyL,EAAME;;AC3FhB,aAUe,SAASnG,EAAAA,GACfA,OAAAA,EAAIG,MAAM,qIAAqIvC,OACvJ,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;ACZD,aAqDewI,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EA/Cf,MAAMvN,EAAQ,IAAIC,QAMZsN,EAAkB,CAEtBpN,IAAIrB,EAAS0O,EAAWpN,GAChBqN,MAAAA,EAAWzN,EAAMxB,IAAIM,IAAY,GAGhCyO,OAFPE,EAASD,GAAapN,EACtBJ,EAAMG,IAAIrB,EAAS2O,GACZF,GAGT/O,IAAIM,EAAS0O,EAAWE,GAChBD,MAAAA,EAAWzN,EAAMxB,IAAIM,GACvB2O,QAAa5M,IAAb4M,KAA6BD,KAAaC,GAAW,CACjDE,MAAAA,EAAU,QAAUH,EAAUhK,QAAQ,SAAU,OAAOwC,cACzDlH,OAAAA,EAAQiE,aAAa4K,GAMhB7O,EAAQmE,aAAa0K,GAEvBD,EAEFD,OAAAA,EAASD,IAGlBzM,OAAOjC,EAAS0O,EAAU,MACpB,IAAEA,EACGxN,OAAAA,EAAMe,OAAOjC,GAEhB2O,MAAAA,EAAWzN,EAAMxB,IAAIM,IAAY,GACnC0O,OAAAA,KAAaC,WACRA,EAASD,GAChBxN,EAAMG,IAAIrB,EAAS2O,IACZ,KAOEF,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;ACrDf,aA+BeK,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EA5Bf,MAAMC,EAAoB,IAAI5N,QASxB2N,EAA4B,CAEhCzN,IAAIrB,EAAS0O,GACLM,MAAAA,EAAUD,EAAkBrP,IAAIM,IAAY,GAG3C8O,OAFPE,EAAQC,KAAKP,GACbK,EAAkB1N,IAAIrB,EAASgP,GACxBF,GAGTpP,IAAIM,GACK+O,EAAkBrP,IAAIM,IAAY,GAG3CiC,OAAOjC,GACE+O,EAAkB9M,OAAOjC,IAKrB8O,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;AC/Bf,aA8DC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EA3DD,IAAA,EAAA,EAAA,QAAA,sBACA,EAAA,EAAA,QAAA,4BACA,EAAA,QAAA,uBAyDC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAnDc,SAAS9O,EAAAA,GAChB6C,MAAAA,GAAO,EAAS7C,EAAAA,SAAAA,GAElB0G,IAAiC,IAAjCA,EAAc5F,cAAAA,QAAQ+B,GAEjB,OAAA,EAQL,IAAE7C,EAAQiB,MACR,QAAA,uBAAwBjB,IACtBA,EAAQkP,mBAAmBnO,eACtBf,EAAQkP,mBAAmBC,SAMpCjK,IAAAA,GAAS,EACLrC,OAAAA,GACD,IAAA,QACHqC,EAAS,iBAAiB2F,KAAK7K,EAAQiB,OACvC,MACG,IAAA,SACA,IAAA,QACHiE,GAAW4F,MAAMpC,OAAO1I,EAAQiB,QAChC,MACG,IAAA,WACA,IAAA,OACA,IAAA,QACA,IAAA,OACA,IAAA,OACHiE,EAAiD,QAAxC,EAAelF,EAAAA,SAAAA,EAAQiB,MAAO4B,GACvC,MACG,IAAA,iBACHqC,EAAS,8HAA8H2F,KAAK7K,EAAQiB,OAWjJiE,OAAAA;;AC7DT,aAmCC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAhCD,IAAA,EAAA,EAAA,QAAA,sBACA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,4BA8BC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GArBc,SAASlF,EAAAA,GAChB6C,MAAAA,GAAO,EAAS7C,EAAAA,SAAAA,GAElB,IAAEA,EAAQiB,QAAWjB,EAAQiE,aAAa,OAErC,OAAA,EAGLhD,IAAAA,EAAO6M,EAYHhD,OAXJzE,EAAMvF,MAAAA,QAAQ+B,IAAS,GAEzB5B,EAAkB,QADlBA,GAAQ,EAAejB,EAAAA,SAAAA,EAAQiB,MAAO4B,IACd8K,KAAO1M,EAE/B6M,EAAc,QADdA,GAAM,EAAe9N,EAAAA,SAAAA,EAAQmE,aAAa,OAAQtB,IAC9B8K,KAAOG,IAE3B7M,EAAQyH,OAAO1I,EAAQiB,OACvB6M,EAAMpF,OAAO1I,EAAQmE,aAAa,SAI5B2G,MAAMgD,IAAQhD,MAAM7J,IAAUA,GAAS6M;;AClCjD,aAkCC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EA/BD,IAAA,EAAA,EAAA,QAAA,sBACA,EAAA,EAAA,QAAA,mCACA,EAAA,QAAA,uBA6BC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAvBc,SAAS9N,EAAAA,GAElB,IAAEA,EAAQiB,QAEiC,IAA3CmO,EAAWtO,KAAAA,SAAQ,EAASd,EAAAA,SAAAA,MAE1BA,EAAQiE,aAAa,eAErBjE,EAAQmE,aAAa,aAElB,OAAA,EAGHkL,MAAAA,EAAYC,SAAStP,EAAQmE,aAAa,aAAc,IAK1D2G,SAAAA,MAAMuE,IAAcA,EAAY,KAI7B,EAAsBrP,EAAAA,SAAAA,EAAQiB,QAAUoO;;ACjCjD,aAmCC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAhCD,IAAA,EAAA,EAAA,QAAA,sBACA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,4BA8BC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GArBc,SAASrP,EAAAA,GAChB6C,MAAAA,GAAO,EAAS7C,EAAAA,SAAAA,GAElB,IAAEA,EAAQiB,QAAWjB,EAAQiE,aAAa,OAErC,OAAA,EAGLhD,IAAAA,EAAOyM,EAYH5C,OAXJzE,EAAMvF,MAAAA,QAAQ+B,IAAS,GAEzB5B,EAAkB,QADlBA,GAAQ,EAAejB,EAAAA,SAAAA,EAAQiB,MAAO4B,IACd8K,KAAO1M,EAE/ByM,EAAc,QADdA,GAAM,EAAe1N,EAAAA,SAAAA,EAAQmE,aAAa,OAAQtB,IAC9B8K,KAAOD,IAE3BzM,EAAQyH,OAAO1I,EAAQiB,OACvByM,EAAMhF,OAAO1I,EAAQmE,aAAa,SAI5B2G,MAAM4C,IAAQ5C,MAAM7J,IAAUA,GAASyM;;AClCjD,aAgCC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EA7BD,IAAA,EAAA,EAAA,QAAA,sBACA,EAAA,EAAA,QAAA,mCACA,EAAA,QAAA,uBA2BC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GArBc,SAAS1N,EAAAA,GAElB,IAAEA,EAAQiB,QAEiC,IAA3CmO,EAAWtO,KAAAA,SAAQ,EAASd,EAAAA,SAAAA,MAE1BA,EAAQiE,aAAa,eAErBjE,EAAQmE,aAAa,aAElB,OAAA,EAGHoL,MAAAA,EAAYD,SAAStP,EAAQmE,aAAa,aAAc,IAG1D2G,SAAAA,MAAMyE,IAAcA,EAAY,KAI7B,EAAsBvP,EAAAA,SAAAA,EAAQiB,QAAUsO;;AC/BjD,aAMe,SAASvP,EAAAA,GAElB,OAAEA,EAAQiB,QAERjB,EAAQiE,aAAa,YAEtB,IAAI+G,OAAO,OAAQhL,EAAQmE,aAAa,WAAY,MAAO0G,KAAK7K,EAAQiB,OAE9E,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;ACdD,aAsEC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAnED,IAAA,EAAA,QAAA,2BAGA,SAASuO,EAAuBC,GAMxBC,MAAAA,GACFD,EAAOE,UACTF,EAAOjG,MAAQ,GACfiG,EAAOG,QAAQ3J,OAAS,GACxBwJ,EAAOG,QAAQ,GAAGzM,YAAcsM,GACJ,KAA5BA,EAAOG,QAAQ,GAAG3O,MAEpB,OAGEwO,EAAOI,eAAiB,GACxBpN,MAAMpD,UAAUyQ,KAAKvQ,KACnBkQ,EAAOG,QACPG,KAGOL,GAA2C,IAAjBK,EAAOC,SAElCD,EAAOE,UAETF,EAAOG,UAUF,SAASlQ,EAAAA,GAClBA,GAAiB,UAAjBA,EAAQ6C,KAAkB,CAExB7C,GAAAA,EAAQiE,aAAa,aAAejE,EAAQmQ,QACvC,OAAA,EAGHC,MAAAA,GAAa,EAAepQ,EAAAA,gBAAAA,GAI9BoQ,OAAAA,EAAWN,KAAKlN,GAASA,EAAMqB,aAAa,cACvCmM,EAAWN,KAAKlN,GAASA,EAAMuN,SAMtC,OAAEnQ,EAAQiE,aAAa,cAKvBjE,aAAmBb,OAAO6H,kBACrBwI,EAAuBxP,GAGP,aAAjBA,EAAQ6C,KAAsB7C,EAAQmQ,UAAcnQ,EAAQiB;;ACrEtE,aAiEC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EA9DD,IAAA,EAAA,EAAA,QAAA,sBACA,EAAA,QAAA,uBACA,EAAA,QAAA,+BACA,EAAA,EAAA,QAAA,8BA2DC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GArDc,SAASjB,EAAAA,GAChB6C,MAAAA,GAAO,EAAS7C,EAAAA,SAAAA,GAElB,IAAEA,EAAQiB,QACiB,IAA3BsF,EAAQzF,QAAAA,QAAQ+B,IACuC,SAAtD7C,EAAQmE,aAAa,SAAW,IAAI+C,cAGhC,OAAA,EAGL+G,IAAAA,EAAOjO,EAAQmE,aAAa,QAO5B8J,IALFA,EADEA,GACK,EAAiBA,EAAAA,SAAAA,EAAMpL,GAEvBmK,EAAanK,aAAAA,IAAS,IAGnB,GAAKiI,MAAMmD,GAGd,OAAA,EAGHI,MAAAA,EAAQlB,EAAkBtK,kBAAAA,IAAS,EAErC5B,IAAAA,GAAQ,EAAiBjB,EAAAA,SAAAA,EAAQiB,MAAO4B,GACxC6K,GAAM,EAAiB1N,EAAAA,SAAAA,EAAQmE,aAAa,QACzBnE,EAAQmE,aAAa,UAAY,GAAItB,GAExDiI,GAAAA,MAAM7J,GAGD,OAAA,EAGL6J,MAAM4C,KACRA,EAAMN,EAAkBvK,kBAAAA,IAAS,GAGtB,UAATA,IAIF6K,EAAyC,GAAlC,IAAI9E,KAAK8E,GAAMvE,iBAAyB,IAAIP,KAAK8E,GAAMvD,cAC9DlJ,EAA6C,GAApC,IAAI2H,KAAK3H,GAAQkI,iBAAyB,IAAIP,KAAK3H,GAAQkJ,eAGhEjF,MAAAA,EAAS9C,KAAKiO,IAAI3C,EAAMzM,IAAUgN,EAAOI,GAEvCnJ,OAAAA,EAAS,MAETA,EAAU+I,EAAOI,EAAS;;AChEpC,aAaC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAVD,MAAMiC,EAAqB,qCAQZ,SAASjI,EAAAA,GACfA,OAAAA,EAAI3D,QAAQ4L,EAAoB;;ACZzC,aAiBC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAdD,IAAA,EAAA,EAAA,QAAA,WAcC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAJc,SAASjI,EAAAA,GACfA,OAAAA,EAAIkI,MAAM,KACNC,IAAIC,IAAQ,EAAKA,EAAAA,SAAAA,IACjB/N,OAAOgO,GAAGA;;AChBvB,aAuGC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EApGD,IAUIC,EAVJ,EAAA,EAAA,QAAA,yBACA,EAAA,EAAA,QAAA,sBACA,EAAA,EAAA,QAAA,kBACA,EAAA,QAAA,uBAiGC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAvFD,MAAMC,EAAgB,wIAKP,SAAS5Q,EAAAA,GAChB6C,MAAAA,GAAO,EAAS7C,EAAAA,SAAAA,GAEjB6C,GAAS,SAATA,IAAqB7C,EAAQiB,OACpB,SAAT4B,IAAmD,IAAhC4D,EAAa3F,aAAAA,QAAQ+B,GAEpC,OAAA,EAGLgO,IAAAA,GAAW,EAEPhO,OAAAA,GACD,IAAA,MACK8N,IACJA,EAAa9R,SAAS+E,cAAc,MAEhC3C,MAAAA,GAAQ,EAAKjB,EAAAA,SAAAA,EAAQiB,OAC3B0P,EAAWG,KAAO7P,EAClB4P,EAAYF,EAAWG,OAAS7P,GACpB0P,EAAWG,OAAS7P,EAAM,IACtC,MACC,IAAA,QAEC4P,EADE7Q,EAAQiE,aAAa,aACZ,EAAYjE,EAAAA,SAAAA,EAAQiB,OACjB8P,MAAM9P,GAAS2P,EAAc/F,KAAK5J,IAErC2P,EAAc/F,MAAK,EAAK7K,EAAAA,SAAAA,EAAQiB,QAE7C,MACC,IAAA,OACG,GAAA,UAAWjB,GAAWA,EAAQgR,MAAM/K,QACpCjG,EAAQiE,aAAa,UAAW,CAC5BgN,MAAAA,GAAW,EAAYjR,EAAAA,SAAAA,EAAQmE,aAAa,WAC/CqM,IAAIU,IACC,4BAA4BrG,KAAKqG,KACnCA,EAAU,IAAIlG,OAAO,IAAIA,OAAOE,GAAG,SAE9BgG,IAGP,IAAED,EAAShL,OACb,MAGFkL,EACA,IAAK,IAAInL,EAAI,EAAGA,EAAIhG,EAAQgR,MAAM/K,OAAQD,IAAK,CAEzCoL,IAAAA,GAAa,EAEjBC,EACA,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAShL,OAAQqL,IAAK,CAClCC,MAAAA,EAAOvR,EAAQgR,MAAMhL,GACrBkL,EAAUD,EAASK,GAErBE,IAAAA,EAAWD,EAAK1O,KAEhB,GAAmB,iBAAZqO,GAAiD,MAAzBA,EAAQ5O,OAAO,EAAG,GAAY,CAC3DiP,IAA2B,IAA3BA,EAAK1R,KAAK4R,OAAO,KAEVJ,SAAAA,EAGXG,EAAWD,EAAK1R,KAAKyC,OAAOiP,EAAK1R,KAAK6R,YAAY,MAGhDF,GAA6B,IAA7BA,EAASC,OAAOP,GAAgB,CAElCE,GAAa,EACPC,MAAAA,GAKN,IAAED,EAAY,CAChBP,GAAW,EACLM,MAAAA,KAMXN,OAAAA;;ACtGT,aAwTe,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EA9Sf,IAAA,EAAA,EAAA,QAAA,kBACA,EAAA,EAAA,QAAA,qBACA,EAAA,EAAA,QAAA,eACA,EAAA,EAAA,QAAA,cACA,EAAA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,qBACA,EAAA,EAAA,QAAA,4BACA,EAAA,EAAA,QAAA,kCACA,EAAA,EAAA,QAAA,+BACA,EAAA,QAAA,+BACA,EAAA,EAAA,QAAA,2BACA,EAAA,QAAA,yBACA,EAAA,EAAA,QAAA,4BACA,EAAA,EAAA,QAAA,sBACA,EAAA,EAAA,QAAA,4BACA,EAAA,EAAA,QAAA,sBACA,EAAA,EAAA,QAAA,4BACA,EAAA,EAAA,QAAA,0BACA,EAAA,EAAA,QAAA,2BACA,EAAA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,uBA0Re,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GApRf,SAASc,EAAM9G,EAAM+G,GACZ5R,OAAAA,IACC6R,MAAAA,GAAYhH,EAAK7K,GAIhB6R,OAHHA,GACFD,EAAM5R,GAED6R,GAQX,SAASC,EAAQ9R,EAAS+R,EAASnD,GACnBvN,EAAAA,cAAAA,IAAIrB,EAASyO,EAAgB/O,QAAAA,IAAIM,EAAS+R,EAASnD,IAInE,MAAMO,EAAWwC,EAAMK,EAAD,QAAiBhS,GAAW8R,EAAQ9R,EAAS,YAC5C,EAAE,EAAA,SAAA,sCAGzB,SAASiS,EAAYjS,GAIfA,GAAAA,EAAQkS,+BAAgC,CACpCxO,MAAAA,EAAMtC,EAAc1B,cAAAA,IAAIM,GACtB0D,OAAAA,GAAOA,EAAInC,UAKf4Q,MAAAA,EAAoBC,EAAwB1S,QAAAA,IAAIM,GAChDqS,EAAMF,EAAkBlM,OAC1BqM,IAAAA,GAAQ,EAERD,GAAAA,EAAK,CACPrS,EAAQkS,gCAAiC,EACpC,IAAA,IAAIlM,EAAI,EAAGA,EAAIqM,EAAKrM,IAAK,CACtBd,MAAAA,EAASiN,EAAkBnM,GAAGhG,GAChCkF,QAAWnD,IAAXmD,IAA0BA,EAAQ,CACpCoN,GAAQ,EAER,cAGGtS,EAAQkS,+BAIbI,GAAAA,EAAO,CACH5O,MAAAA,EAAMtC,EAAc1B,cAAAA,IAAIM,GAC9BsS,IAAW5O,EAAI5B,YAAe,cAAe4B,GAGxC,OAAE4O,EAIX,MAAMC,EAAkBZ,EAAMa,EAAD,QAAexS,IAC1C8R,EAAQ9R,EAAS,kBACfA,EAAQyS,OACN,EAAQ,EAAA,UAAA,EAAE,EAAA,SAAA,4BAA6BzS,EAAQyS,QAE/C,EAAE,EAAA,SAAA,sBAUFC,EAAgBf,EAAMgB,EAAD,QAAW3S,IAC9B6C,MAAAA,GAAO,EAAS7C,EAAAA,SAAAA,GAChB2D,GAAU,EAAY3D,EAAAA,aAAAA,GACtB4S,EAAkBjP,GAAWA,EAAQjC,SAASoC,QAAQ+O,YAAc,kBACpEC,EAAenP,GAAWA,EAAQjC,SAASoC,QAAQiP,SAAW,cAEhErP,IAAAA,EAEIb,OAAAA,GACD,IAAA,OACA,IAAA,WACA,IAAA,iBACHa,GAAM,EAAQ,EAAA,UAAA,EAAE,EAAA,SAAA,sBACF,EAAY,EAAA,UAAA,EAAe1D,EAAAA,SAAAA,EAAQmE,aAAa,OAAQtB,GAAOA,IAC7E,MACG,IAAA,OACHa,GAAM,EAAQ,EAAA,UAAA,EAAE,EAAA,SAAA,sBACF,EAAY,EAAA,UAAA,EAAe1D,EAAAA,SAAAA,EAAQmE,aAAa,OAAQtB,GAAOA,IAC7E,MAEF,QACEa,GAAM,EAAQ,EAAA,UAAA,EAAE,EAAA,SAAA,wBACF,EAAiB1D,EAAAA,SAAAA,EAAQmE,aAAa,OAAQtB,IAIhEiP,EAAQ9R,EAAS,gBAAiB0D,GAClC1D,EAAQgT,UAAUC,IAAIL,GACtB5S,EAAQgT,UAAUE,OAAOJ,KAIrBK,EAAiBxB,EAAMyB,EAAD,QAAWpT,IAC/B6C,MAAAA,GAAO,EAAS7C,EAAAA,SAAAA,GAChB2D,GAAU,EAAY3D,EAAAA,aAAAA,GACtB4S,EAAkBjP,GAAWA,EAAQjC,SAASoC,QAAQ+O,YAAc,kBACpEC,EAAenP,GAAWA,EAAQjC,SAASoC,QAAQiP,SAAW,cAEhErP,IAAAA,EAEIb,OAAAA,GACD,IAAA,OACA,IAAA,WACA,IAAA,iBACHa,GAAM,EAAQ,EAAA,UAAA,EAAE,EAAA,SAAA,uBACF,EAAY,EAAA,UAAA,EAAe1D,EAAAA,SAAAA,EAAQmE,aAAa,OAAQtB,GAAOA,IAC7E,MACG,IAAA,OACHa,GAAM,EAAQ,EAAA,UAAA,EAAE,EAAA,SAAA,uBACF,EAAY,EAAA,UAAA,EAAe1D,EAAAA,SAAAA,EAAQmE,aAAa,OAAQtB,GAAOA,IAC7E,MAEF,QACEa,GAAM,EAAQ,EAAA,UAAA,EAAE,EAAA,SAAA,yBACF,EAAiB1D,EAAAA,SAAAA,EAAQmE,aAAa,OAAQtB,IAIhEiP,EAAQ9R,EAAS,iBAAkB0D,GACnC1D,EAAQgT,UAAUC,IAAIL,GACtB5S,EAAQgT,UAAUE,OAAOJ,KAIrBO,EAAe1B,EAAM2B,EAAD,QAAYtT,IAC9BuT,MAAAA,GAAO,EAAevT,EAAAA,SAAAA,GACtB0N,EAAM6F,EAAK,GACXzF,EAAMyF,EAAK,GACbC,IACA9P,EADA8P,GAAO,EAGC,OAAR9F,EACF8F,EAAO1F,EACU,OAARA,IACT0F,EAAO9F,GAQToE,EAAQ9R,EAAS,eAJf0D,GADW,IAAT8P,GACI,EAAQ,EAAA,UAAA,EAAE,EAAA,SAAA,wBAAyBA,IAEnC,EAAQ,EAAA,UAAA,EAAE,EAAA,SAAA,gBAAiB9F,EAAKI,MAMpC2F,EAAU9B,EAAM+B,EAAD,QAAiB1T,IACpC8R,EAAQ9R,EAAS,WACT,EAAQ,EAAA,UAAA,EAAE,EAAA,SAAA,eAAgBA,EAAQmE,aAAa,cACvC,EAAsBnE,EAAAA,SAAAA,EAAQiB,WAI1C0S,EAAWhC,EAAMiC,EAAD,QAAiB5T,IACrC8R,EAAQ9R,EAAS,YACT,EAAQ,EAAA,UAAA,EAAE,EAAA,SAAA,+FACFA,EAAQmE,aAAa,cACrB,EAAsBnE,EAAAA,SAAAA,EAAQiB,WAI1C4S,EAAelC,EAAMmC,EAAD,QAAY9T,IAChC0D,IAAAA,GAAM,EAAE,EAAA,SAAA,sCACNb,MAAAA,GAAO,EAAS7C,EAAAA,SAAAA,GAET,UAAT6C,EAEAa,EADE1D,EAAQiE,aAAa,aACjB,EAAE,EAAA,SAAA,4DAEF,EAAE,EAAA,SAAA,gBAEQ,QAATpB,EACTa,GAAM,EAAE,EAAA,SAAA,cACU,SAATb,IACTa,GAAM,EAAE,EAAA,SAAA,8CAGVoO,EAAQ9R,EAAS,eAAgB0D,KAI7BqQ,EAAepC,EAAMqC,EAAD,QAAgBhU,IACpC0D,IAAAA,GAAM,EAAE,EAAA,SAAA,gBACNb,MAAAA,GAAO,EAAS7C,EAAAA,SAAAA,GAET,aAAT6C,EACFa,GAAM,EAAE,EAAA,SAAA,mBACU,UAATb,EACTa,GAAM,EAAE,EAAA,SAAA,gBACU,SAATb,EAEPa,EADE1D,EAAQiE,aAAa,aACjB,EAAE,EAAA,SAAA,qCAEF,EAAE,EAAA,SAAA,eAEDjE,aAAmBb,OAAO6H,oBACnCtD,GAAM,EAAE,EAAA,SAAA,kBAGVoO,EAAQ9R,EAAS,eAAgB0D,KAW7B4O,EAAQtS,IACN2D,MAAAA,GAAU,EAAY3D,EAAAA,aAAAA,GACtBiU,EAAatQ,GAAWA,EAAQjC,SAASoC,QAAQwO,OAAS,WAC1D4B,EAAevQ,GAAWA,EAAQjC,SAASoC,QAAQ+N,SAAW,aAC9DsC,EAAmBxQ,GAAWA,EAAQjC,SAASoC,QAAQsQ,aAAe,kBACtEC,EAAiB1Q,GAAWA,EAAQjC,SAASoC,QAAQwQ,WAAa,gBAClExB,EAAenP,GAAWA,EAAQjC,SAASoC,QAAQiP,SAAW,cAC9DH,EAAkBjP,GAAWA,EAAQjC,SAASoC,QAAQ+O,YAAc,kBACpE0B,EAAiB5Q,GAAWA,EAAQjC,SAASoC,QAAQ0Q,WAAa,eAExExU,EAAQgT,UAAUC,IAAIsB,GAEjB,IAAA,IAAIE,IAAW,CAACtF,EAAU8C,EAAaM,EAAiBG,EACxCS,EAAgBE,EAAcI,EAASE,EACvCE,EAAcE,GAC7BU,GAAAA,EAAQzU,GAeH,OAdPA,EAAQgT,UAAUC,IAAIiB,GACtBlU,EAAQgT,UAAUE,OAAOe,GACzBjU,EAAQgT,UAAUE,OAAOmB,IAED,aAAjBrU,EAAQ6C,MAAwC,UAAjB7C,EAAQ6C,OACxC7C,EAAQmQ,UAAYnQ,EAAQ0U,gBAG9B1U,EAAQiB,QAAUjB,EAAQ2U,aAC5B3U,EAAQgT,UAAUC,IAAIkB,GAEtBnU,EAAQgT,UAAUE,OAAOiB,GAE3BnU,EAAQgE,aAAa,eAAgB,SAC9B,EAgBJ,OAZO/B,EAAAA,cAAAA,OAAOjC,GACrBA,EAAQgT,UAAUE,OAAOgB,GACzBlU,EAAQgT,UAAUE,OAAOiB,GACzBnU,EAAQgT,UAAUE,OAAON,GACzB5S,EAAQgT,UAAUC,IAAIgB,GACtBjU,EAAQgT,UAAUC,IAAIH,GAClB9S,EAAQiB,QAAUjB,EAAQ2U,aAC5B3U,EAAQgT,UAAUC,IAAIoB,GAEtBrU,EAAQgT,UAAUE,OAAOmB,GAE3BrU,EAAQgE,aAAa,eAAgB,UAC9B,GAIM,IAAA,EAAA,CACbmL,SAAAA,EACA8C,YAAAA,EACAM,gBAAAA,EACAG,cAAAA,EACAS,eAAAA,EACAE,aAAAA,EACAI,QAAAA,EACAE,SAAAA,EACAE,aAAAA,EACAE,aAAAA,EACAzB,MAAAA,GAXa,QAAA,QAAA;;ACxTf,aAqEesC,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAlEf,IAAA,EAAA,EAAA,QAAA,qCACA,EAAA,EAAA,QAAA,kBACA,EAAA,EAAA,QAAA,qCAgEeA,SAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,WAAAA,EAAAA,CAAAA,QAAAA,GA1Df,MAAMA,EAAgB,SAAS5U,GACzB,KAAGA,aAAmBb,OAAO0V,aACzB,MAAA,IAAIC,MAAM,mDAGZC,MAAAA,EAASH,EAAcI,MAAMtV,IAAIM,GACnC+U,OAAAA,IAIG,gBAAgBH,GAKlB5U,KAAAA,QAAUA,OACf4U,EAAcI,MAAM3T,IAAIrB,EAAS,OAJxB,IAAI4U,EAAc5U,KAWvBiV,EAAyB,GAC/BL,EAAcvV,UAAY4V,EAE1BL,EAAcI,MAAQ,IAAI7T,QAI1B,MAAM+T,EAAiBC,IACd,WACD,QAAE,EAAwB,EAAA,SAAA,KAAKnV,UAI5BmV,EAAK,KAAKnV,WAQrB,IAAK,IAAIoV,KAAQC,EAAjB,QACE7V,OAAOC,eAAewV,EAAwBG,EAAM,CAClDzV,cAAc,EACdqB,YAAY,EACZtB,IAAKwV,EAAeG,EAAwBD,QAAAA,IAC5C/T,SAAKU,KAOT,EAAKkT,EAAAA,SAAAA,GAEUL,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;ACrEf,aAwCC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EArCD,IAAA,EAAA,QAAA,mCACA,EAAA,EAAA,QAAA,2BACA,EAAA,EAAA,QAAA,2BACA,EAAA,EAAA,QAAA,oBACA,EAAA,QAAA,yBAiCC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA3Bc,SAASU,EAAetV,GAEjCA,GAAAA,aAAmBb,OAAOoW,gBAAiB,CAC7CvV,EAAQwV,sBAAuB,EACzBC,MAAAA,GAAa,EAAuBzV,EAAAA,wBAAAA,GAASwQ,IAAI8E,GAAgBvE,MAAML,GAAGA,GAEzE+E,cADAzV,EAAQwV,qBACRC,EAKHnD,MAAAA,GAAQ,EAActS,EAAAA,SAAAA,GAASsS,MACjCvS,IAAAA,EACAuS,GAAAA,EAAO,CACH7Q,MAAAA,GAAe,EAAYzB,EAAAA,aAAAA,GAC7ByB,GAAgBA,EAAaC,SAASgU,aACxC3V,GAAQ,EAAcC,EAAAA,SAAAA,EAAS,QAAS,CAAEV,YAAY,UAGxDS,GAAQ,EAAcC,EAAAA,SAAAA,EAAS,UAAW,CAAEV,YAAY,IAOnDgT,OAJDvS,GAAWA,EAAMd,kBACZuE,EAAAA,QAAAA,YAAYxD,EAAUA,EAAQwC,MAAQxC,EAAQwC,KAAKgT,sBAGvDlD;;ACvCT,aAkUC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,QAAA,eAAA,EA/TD,IAAA,EAAA,EAAA,QAAA,oBACA,EAAA,EAAA,QAAA,cACA,EAAA,QAAA,4BACA,EAAA,EAAA,QAAA,gCACA,EAAA,QAAA,uBACA,EAAA,QAAA,yBA0TC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA9SD,SAASqD,EAAgB3V,GAUnB4V,IAAAA,EAEAC,GAAe,EAAa,EAAA,cAAA,SAAU,CAAEvW,YAAY,IAExDuW,EAAa7W,iBACbQ,OAAOC,eAAeoW,EAAc,mBAAoB,CACtD5U,OAAO,EACP6U,UAAU,IAEZtW,OAAOC,eAAeoW,EAAc,iBAAkB,CACpD5U,MAAO,IAAM4U,EAAa5W,iBAAmB2W,GAAsB,EACnEE,UAAU,KAEE9V,EAAAA,EAAAA,SAAAA,EAAQwC,KAAMqT,EAAc,GAAI,CAAEE,aAAc/V,IAExD4V,IACJI,EAAiBhW,GACjBb,OAAOoW,gBAAgBlW,UAAU4W,OAAO1W,KAAKS,EAAQwC,MACrDrD,OAAO+W,WAAW,IAAMC,EAAoBnW,KAShD,SAASgW,EAAiBI,GACpB,GAAA,CAAC,QAAS,UAAUtV,QAAQsV,EAAOvT,OAAS,GAAKuT,EAAOvW,KAAM,CAC1D8D,MAAAA,GAAU,EAAYyS,EAAAA,aAAAA,EAAO5T,OAAS,GACxC6T,IAAAA,EAAgB1S,EAAQ0S,cACxBA,EACEA,EAAclT,YAChBkT,EAAclT,WAAWI,YAAY8S,KAGvCA,EAAgBxX,SAAS+E,cAAc,UACzBf,KAAO,SACrBc,EAAQ0S,cAAgBA,GAE1BA,EAAcxW,KAAOuW,EAAOvW,KAC5BwW,EAAcpV,MAAQmV,EAAOnV,MAC7BmV,EAAO5T,KAAK8T,YAAYD,IAQ5B,SAASF,EAAoBC,GACvB,GAAA,CAAC,QAAS,UAAUtV,QAAQsV,EAAOvT,OAAS,GAAKuT,EAAOvW,KAAM,CAC1D8D,MACA0S,IADU,EAAYD,EAAAA,aAAAA,EAAO5T,OAAS,IACd6T,cAC1BA,GAAiBA,EAAclT,YACjCkT,EAAclT,WAAWI,YAAY8S,IAc3C,SAAS1E,EAAMyE,GAITG,KAFc,EAAcH,EAAAA,SAAAA,EAAO5T,KAAM,WACb,CAAElD,YAAY,IAChCL,iBAAVsX,CAMAjE,IACAkE,EADAlE,GAAQ,EAEZ8D,EAAO5T,KAAKgT,sBAAuB,GACZY,EAAAA,EAAAA,wBAAAA,EAAO5T,MAAMgO,IAAIxQ,KAChC,EAAeA,EAAAA,SAAAA,KACnBsS,GAAQ,GACFkE,GAAkB,UAAWxW,IACjCwW,EAAgBxW,aAIfoW,EAAO5T,KAAKgT,qBAEflD,EACFqD,EAAgBS,GACPI,IAETA,EAAcC,SAEAL,EAAAA,EAAAA,SAAAA,EAAO5T,KAAM,iBAQ/B,SAASkU,EAAiBC,GACxB,QAEqB,UAAlBA,EAAKnP,UACa,WAAlBmP,EAAKnP,UAGS,UAAdmP,EAAK9T,MAAkC,WAAd8T,EAAK9T,MAQnC,SAAS+T,EAAoB7W,EAAOqW,GAClC,OAEIrW,EAAMd,qBAGJ,WAAYc,IACfA,EAAMqW,OAAS,IAGhBM,EAAiBN,IAGjBA,EAAO5T,OAGL4T,EAAO5T,KAAKyB,aAAa,cAQ/B,SAAS4S,EAAuB9W,GAC9B,OAEIA,EAAMd,mBAKc,KAAlBc,EAAM+W,SAGoB,UAA1B/W,EAAMgX,OAAOvP,UAGF1G,EAAAA,KAAAA,QAAQf,EAAMgX,OAAOlU,OAAS,IAGtB,KAAlB9C,EAAM+W,SACY,KAAlB/W,EAAM+W,UAGPJ,EAAiB3W,EAAMgX,UAK3BhX,EAAMgX,OAAOvU,OAGXzC,EAAMgX,OAAOvU,KAAKyB,aAAa,cAQrC,SAAS+S,EAAmBhX,GACtB0W,OAAAA,EAAiB1W,GACZA,GACE,EAAQA,EAAAA,SAAAA,EAAS,iDACnBgX,EAAmBhX,EAAQmD,YAE3B,KAQX,SAAS8T,EAAkBC,GAAO,GACzB,OAAA,SAASnX,GACRqW,MAAAA,EAASY,EAAmBjX,EAAMgX,QACpCX,GAAUQ,EAAoB7W,EAAOqW,KACvCrW,EAAMf,iBACFkY,GAAUd,EAAOnS,aAAa,kBAEhC0R,EAAgBS,GAEhBzE,EAAMyE,KAKd,MAAMe,EAAgBF,IAChBG,EAAwBH,GAAkB,GAMhD,SAASI,EAAqBH,GACrB,OAAA,SAA0BnX,GAC3B8W,GAAAA,EAAuB9W,GAAS,CAI9B4D,GAHJ5D,EAAMf,mBAEU,EAAYe,EAAAA,aAAAA,EAAMgX,OAAOvU,OAAS,CAAEd,SAAU,KAClDA,SAAS4V,sBAEnB,OAKIC,MAAAA,EAAKxX,EAAMgX,OAAOvU,KAAKG,SAASsD,OAClCgQ,IAAAA,EACC,IAAA,IAAIjQ,EAAI,EAAGA,EAAIuR,EAAIvR,IAClB,GAAA,CAAC,QAAS,UAAUlF,QAAQf,EAAMgX,OAAOvU,KAAKG,SAASqD,GAAGnD,OAAS,EAAG,CACxEoT,EAASlW,EAAMgX,OAAOvU,KAAKG,SAASqD,GACpC,MAYAwR,IAPmB,EAAczX,EAAAA,SAAAA,EAAMgX,OAAOvU,KAAM,kBACtD,CACElD,YAAY,GACX,CACDmY,QAAS1X,EAAMgX,OACfhB,aAAcE,GAAUlW,EAAMgX,SAEf9X,iBAEjB,OAGEgX,EACFA,EAAOyB,QACER,EACTvB,EAAgB5V,EAAMgX,QAEtBpF,EAAM5R,EAAMgX,UAKpB,MAAMY,EAAmBN,IACnBO,EAA2BP,GAAqB,GAU/C,SAASQ,EAAaC,EAAgBZ,GAAO,GAC9CA,GACFY,EAAeC,iBAAiB,QAASX,GACzCU,EAAeC,iBAAiB,WAAYH,KAE5CE,EAAeC,iBAAiB,QAASZ,GACzCW,EAAeC,iBAAiB,WAAYJ,IAQzC,SAASK,EAAeF,GAC7BA,EAAeG,oBAAoB,QAASb,GAC5CU,EAAeG,oBAAoB,WAAYL,GAC/CE,EAAeG,oBAAoB,QAASd,GAC5CW,EAAeG,oBAAoB,WAAYN;;ACjUjD,aA8BC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EA3BD,IAAA,EAAA,QAAA,yBAMe,SAAS3X,EAAAA,EAASkY,GAC3B,WACKlY,EAAQkY,GACf,MAAOtZ,GAGD+E,MAAAA,GAAU,EAAY3D,EAAAA,aAAAA,GAKrB,OAJH2D,GAAWA,EAAQjC,SAASyW,OAE9B3T,QAAQC,IAAI,gDAAgDyT,IAEvD,EAGHE,MAAAA,EAAsB5Y,OAAO6Y,yBAAyBrY,EAC9B,aAAakY,GAEvCE,GACF5Y,OAAOC,eAAeO,EAASkY,EAAUE;;AC3B7C,aA8DC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EA3DD,IAAA,EAAA,QAAA,yBAae,SAASpY,EAAAA,EAASkY,EAAUI,GACzCA,EAAW3Y,cAAe,EAC1B2Y,EAAWtX,YAAa,EACpB,UAAWsX,IACbA,EAAWxC,UAAW,GAMpBsC,IAAAA,EAAsB5Y,OAAO6Y,yBAAyBrY,EAASkY,GAK/DE,QAJwBrW,IAAxBqW,IACFA,EAAsB5Y,OAAO6Y,yBAAyB7Y,OAAO+Y,eAAevY,GAAUkY,IAGpFE,EAAqB,CAEnBA,IAAqC,IAArCA,EAAoBzY,aAAwB,CAGxCgE,MAAAA,GAAU,EAAY3D,EAAAA,aAAAA,GAKrB,OAJH2D,GAAWA,EAAQjC,SAASyW,OAE9B3T,QAAQC,IAAI,8CAA8CyT,IAErD,EAIJE,GAAAA,EAAoB1Y,KAAO0Y,EAAoB1Y,IAAIqB,aACnDqX,EAAoBnX,OAASmX,EAAoBnX,MAAMF,YAC1D,OAIFvB,OAAOC,eACLO,EACA,aAAakY,EACbE,GAOG,cAHApY,EAAQkY,GACf1Y,OAAOC,eAAeO,EAASkY,EAAUI,IAElC;;AC7DT,aAEe,SAAStY,EAAAA,GAEdA,OAAAA,aAAmBb,OAAO8H,mBAC1BjH,aAAmBb,OAAOgI,kBAC1BnH,aAAmBb,OAAO6H,mBAC1BhH,aAAmBb,OAAO4H,qBAC1B/G,aAAmBb,OAAOqC,qBAC1BxB,IAAYb,OAAO8H,kBAAkB5H,WACrCW,IAAYb,OAAOgI,iBAAiB9H,WACpCW,IAAYb,OAAO6H,kBAAkB3H,WACrCW,IAAYb,OAAO4H,oBAAoB1H,WACvCW,IAAYb,OAAOqC,oBAAoBnC,UAEhD,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;ACfD,aAwBC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EArBD,IAAA,EAAA,QAAA,+BACA,EAAA,EAAA,QAAA,2BACA,EAAA,EAAA,QAAA,qCAmBC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAbc,SAASmZ,EAAkBxY,EAAS0D,GAC3CA,EAGUrC,EAAAA,cAAAA,IAAIrB,EAAS0D,GAAK,GAFlBzB,EAAAA,cAAAA,OAAOjC,GAAS,GAK1BkD,MAAAA,EAAUJ,EAAS+B,QAAAA,WAAW7E,GAChCkD,GACOgB,EAAAA,QAAAA,WAAWhB,EAASQ,EAAK1D,GAGZsS,EAAAA,QAAAA,MAAMtS;;ACvBhC,aA6CC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EA1CD,IAAA,EAAA,EAAA,QAAA,sBACA,EAAA,EAAA,QAAA,4BACA,EAAA,EAAA,QAAA,4BACA,EAAA,QAAA,uBAuCC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA/Bc,SAASyY,EAAYzY,EAASiB,GACrC4B,MAAAA,GAAO,EAAS7C,EAAAA,SAAAA,GAClBqG,GAAAA,EAAMvF,MAAAA,QAAQ+B,IAAS,EAAG,CACxB5B,QAAUc,IAAVd,EAAqB,CAEnBA,GAAU,OAAVA,EACFjB,EAAQiB,MAAQ,OACX,CAAA,KAAIA,aAAiB2H,MAOpB,MAAA,IAAIzJ,OAAOuZ,aACf,+CAAgD,aAP9C5N,MAAM7J,EAAM0X,WACd3Y,EAAQiB,MAAQ,GAEhBjB,EAAQiB,OAAQ,EAAeA,EAAAA,SAAAA,EAAO4B,GAM1C,OAGI+V,MAAAA,GAAa,EAAe5Y,EAAAA,SAAAA,EAAQiB,MAAO4B,GAC1C+V,OAAAA,aAAsBhQ,KAAMgQ,EAAa,KAE3C,QAAc7W,IAAVd,EAEH,MAAA,IAAI9B,OAAOuZ,aACf,qDACA,qBAGG,OAAA;;AC5CT,aAuDC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EApDD,IAAA,EAAA,EAAA,QAAA,sBACA,EAAA,EAAA,QAAA,8BACA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,kBAiDC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAzCc,SAASG,EAAc7Y,EAASiB,GACvC4B,MAAAA,GAAO,EAAS7C,EAAAA,SAAAA,GAClBuG,GAAAA,EAAQzF,QAAAA,QAAQ+B,IAAS,EAAG,CAC1BA,GAAS,UAATA,GAAoB7C,EAAQiE,aAAa,YAEpC0J,OAAAA,IAGL1M,QAAUc,IAAVd,EAAqB,CAEnB6J,GAAAA,MAAM7J,GACRjB,EAAQiB,MAAQ,OACX,CAAA,GAAqB,iBAAVA,IAAsB9B,OAAO2Z,SAAS7X,GAahD,MAAA,IAAI9B,OAAOuZ,aACf,iDAAkD,aAbhD,KAEU1Y,EAAAA,EAAAA,SAAAA,EAAS,IAAI4I,KAAK3H,IAC9B,MAAOrC,GAEH,KAAGA,aAAaO,OAAOuZ,cACnB9Z,MAAAA,EAGRoB,EAAQiB,MAAQA,EAAMa,YAM1B,OAGK,OAAA,EAAiB9B,EAAAA,SAAAA,EAAQiB,MAAO4B,GAElC,QAAcd,IAAVd,EAEH,MAAA,IAAI9B,OAAOuZ,aACf,yDACA,qBAGG/K,OAAAA;;ACtDT,aA2BC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAxBD,IAAA,EAAA,EAAA,QAAA,4BACA,EAAA,EAAA,QAAA,sBACA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,oBAqBC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAfc,SAASoL,EAAS/Y,EAASwN,EAAE,GACtCjH,IAAwC,IAAxCA,EAAQzF,QAAAA,SAAQ,EAASd,EAAAA,SAAAA,IACrB,MAAA,IAAIb,OAAOuZ,aAAa,oCACA,qBAE5B,GAAuD,SAAtD1Y,EAAQmE,aAAa,SAAW,IAAI+C,cACjC,MAAA,IAAI/H,OAAOuZ,aAAa,kCACA,qBAG1BpK,MAAAA,GAAO,EAAetO,EAAAA,SAAAA,EAASwN,GAAG,GAE3B,OAATc,IACYtO,EAAAA,EAAAA,SAAAA,EAASsO;;ACzB3B,aA2BC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAxBD,IAAA,EAAA,EAAA,QAAA,4BACA,EAAA,EAAA,QAAA,sBACA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,oBAqBC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAfc,SAAS0K,EAAOhZ,EAASwN,EAAE,GACpCjH,IAAwC,IAAxCA,EAAQzF,QAAAA,SAAQ,EAASd,EAAAA,SAAAA,IACrB,MAAA,IAAIb,OAAOuZ,aAAa,kCACA,qBAE5B,GAAuD,SAAtD1Y,EAAQmE,aAAa,SAAW,IAAI+C,cACjC,MAAA,IAAI/H,OAAOuZ,aAAa,gCACA,qBAG1BlK,MAAAA,GAAO,EAAexO,EAAAA,SAAAA,EAASwN,GAAG,GAE3B,OAATgB,IACYxO,EAAAA,EAAAA,SAAAA,EAASwO;;ACzB3B,aAkBC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAfD,IAAA,EAAA,QAAA,+BAOe,SAASyK,EAAkBjZ,GAClC0D,MAAAA,EAAMtC,EAAc1B,cAAAA,IAAIM,GAC1B,OAAE0D,EAKCA,EAAI5B,WAJF;;ACbX,aAWC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EARD,IAAA,EAAA,EAAA,QAAA,qCAQC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAFc,SAASoX,EAAalZ,GAC5B,OAAA,EAAwBA,EAAAA,SAAAA;;ACVjC,aAmEC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,mBAAA,EAAA,QAAA,qBAAA,EAhED,IAAA,EAAA,EAAA,QAAA,gCACA,EAAA,EAAA,QAAA,kCACA,EAAA,QAAA,uBA8DC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA3DD,MAAMmZ,EAAK/D,IAAQ,WACV,OAAA,EAAU,EAAA,WAAA,YAAYA,EAAM,KAAKjR,aAAaiR,GAAO,QAGxDgE,EAAKhE,IAAQ,SAASnU,GACrB+C,KAAAA,aAAaoR,GAAM,EAAU,EAAA,WAAA,YAAYA,EAAMnU,EAAO,SAGvDoY,EAAMjE,IAAQ,WACX,OAAA,EAAU,EAAA,WAAA,YAAYA,EAAM,KAAKnR,aAAamR,GAAO,QAGxDkE,EAAMlE,IAAQ,SAASnU,IACvB,EAAU,EAAA,WAAA,YAAYmU,EAAMnU,EAAO,MAChC+C,KAAAA,aAAaoR,EAAMA,GAEnBhR,KAAAA,gBAAgBgR,KAInBmE,EAAMnE,IAAQ,WACX,OAAA,EAAU,EAAA,WAAA,YAAYA,EAAMhT,KAAK0L,IAAI,EAAGpF,OAAO,KAAKvE,aAAaiR,KAAS,QAG7EoE,EAAMpE,IAAQ,SAASnU,GAC3BA,GAAQ,EAAU,EAAA,WAAA,YAAYmU,EAAMnU,EAAO,MACvC,WAAW4J,KAAK5J,IACb+C,KAAAA,aAAaoR,EAAMnU,KAI5B,SAASwY,EAAmBzZ,GACrB,IAAA,IAAIoV,IAAQ,CAAE,SAAU,MAAO,MAAO,UAAW,cAAe,SAClDpV,EAAAA,EAAAA,SAAAA,EAASoV,EAAM,CAC9B1V,IAAKyZ,EAAG/D,GACR/T,IAAK+X,EAAGhE,KAIP,IAAA,IAAIA,IAAQ,CAAE,WAAY,WAAY,aACxBpV,EAAAA,EAAAA,SAAAA,EAASoV,EAAM,CAC9B1V,IAAK2Z,EAAIjE,EAAKlO,eACd7F,IAAKiY,EAAIlE,EAAKlO,iBAIb,IAAA,IAAIkO,IAAQ,CAAE,YAAa,cACbpV,EAAAA,EAAAA,SAAAA,EAASoV,EAAM,CAC9B1V,IAAK6Z,EAAInE,EAAKlO,eACd7F,IAAKmY,EAAIpE,EAAKlO,iBAKpB,SAASwS,EAAqB1Z,GACvB,IAAA,IAAIoV,IAAQ,CAAE,SAAU,MAAO,MAAO,UAAW,cAAe,OAChE,WAAY,WAAY,WAAY,YAAa,cACjCpV,EAAAA,EAAAA,SAAAA,EAASoV;;ACjEhC,aAqEC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAlED,IAAA,EAAA,EAAA,QAAA,yBACA,EAAA,EAAA,QAAA,eACA,EAAA,EAAA,QAAA,WAEA,EAAA,EAAA,QAAA,+BACA,EAAA,EAAA,QAAA,gCACA,EAAA,EAAA,QAAA,mCACA,EAAA,EAAA,QAAA,0BACA,EAAA,EAAA,QAAA,wBACA,EAAA,EAAA,QAAA,mCACA,EAAA,EAAA,QAAA,+BACA,EAAA,EAAA,QAAA,6BACA,EAAA,EAAA,QAAA,+BACA,EAAA,EAAA,QAAA,8BACA,EAAA,QAAA,2BAoDC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAjDD,MAAMuE,EAAY,CACdC,cAAe,CACb3Y,OAAO,EAAK,EAAA,SAAA,WAAoB,OAAA,EAAc,EAAA,SAAA,SAEhDqU,eAAgB,CACdrU,OAAO,EAAK,EAAA,SAAA,WAAoB,OAAA,EAAe,EAAA,SAAA,SAEjDuX,kBAAmB,CACjBvX,OAAO,EAAK,EAAA,SAAA,SAAUyC,GAAc,OAAA,EAAkB,EAAA,SAAA,KAAMA,MAE9DqV,SAAU,CACR9X,OAAO,EAAK,EAAA,SAAA,SAASuM,EAAE,GAAY,OAAA,EAAS,EAAA,SAAA,KAAMA,MAEpDwL,OAAQ,CACN/X,OAAO,EAAK,EAAA,SAAA,SAASuM,EAAE,GAAY,OAAA,EAAO,EAAA,SAAA,KAAMA,MAElDyL,kBAAmB,CACjBvZ,KAAK,EAAK,EAAA,SAAA,WAAoB,OAAA,EAAkB,EAAA,SAAA,SAElDma,SAAU,CACRna,KAAK,EAAK,EAAA,SAAA,WAAoB,OAAA,EAAc,EAAA,SAAA,SAE9C+Y,YAAa,CACX/Y,KAAK,EAAK,EAAA,SAAA,WAAoB,OAAA,EAAY,EAAA,SAAA,QAC1C2B,KAAK,EAAK,EAAA,SAAA,SAASJ,IAAqB,EAAA,EAAA,SAAA,KAAMA,MAEhD4X,cAAe,CACbnZ,KAAK,EAAK,EAAA,SAAA,WAAoB,OAAA,EAAc,EAAA,SAAA,QAC5C2B,KAAK,EAAK,EAAA,SAAA,SAASJ,IAAuB,EAAA,EAAA,SAAA,KAAMA,MAElDiY,aAAc,CACZxZ,KAAK,EAAK,EAAA,SAAA,WAAoB,OAAA,EAAa,EAAA,SAAA,UAIlC,SAASM,EAAAA,GAClB,IAAA,EAASA,EAAAA,SAAAA,GAAU,CAEhB,IAAA,IAAIoV,KAAQuE,GACE3Z,EAAAA,EAAAA,SAAAA,EAASoV,EAAMuE,EAAUvE,KAGzBpV,EAAAA,EAAAA,oBAAAA,QAEVA,aAAmBb,OAAOoW,iBAC1BvV,IAAYb,OAAOoW,gBAAgBlW,cAC3BW,EAAAA,EAAAA,SAAAA,EAAS,gBAAiB2Z,EAAUC,gBACpC5Z,EAAAA,EAAAA,SAAAA,EAAS,iBAAkB2Z,EAAUrE;;ACnE1D,aA4BC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAzBD,IAAA,EAAA,EAAA,QAAA,eACA,EAAA,EAAA,QAAA,2BACA,EAAA,QAAA,2BAuBC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GApBc,SAAStV,EAAAA,IAClB,EAASA,EAAAA,SAAAA,KAEQA,EAAAA,EAAAA,SAAAA,EAAS,kBACTA,EAAAA,EAAAA,SAAAA,EAAS,mBACTA,EAAAA,EAAAA,SAAAA,EAAS,sBACTA,EAAAA,EAAAA,SAAAA,EAAS,aACTA,EAAAA,EAAAA,SAAAA,EAAS,WACTA,EAAAA,EAAAA,SAAAA,EAAS,sBACTA,EAAAA,EAAAA,SAAAA,EAAS,aACTA,EAAAA,EAAAA,SAAAA,EAAS,gBACTA,EAAAA,EAAAA,SAAAA,EAAS,kBACTA,EAAAA,EAAAA,SAAAA,EAAS,iBAEPA,EAAAA,EAAAA,sBAAAA,IAEZA,aAAmBb,OAAOoW,mBAChBvV,EAAAA,EAAAA,SAAAA,EAAS,kBACTA,EAAAA,EAAAA,SAAAA,EAAS;;AC1BhC,aAsMC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAAA,QAAA,YAAA,EAnMD,IAAA,EAAA,QAAA,yBACA,EAAA,EAAA,QAAA,+BACA,EAAA,EAAA,QAAA,gCACA,EAAA,EAAA,QAAA,kCACA,EAAA,EAAA,QAAA,sBACA,EAAA,EAAA,QAAA,wBA8LC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA3LD,MAAM8Z,EAAY,IAAI3Y,QAOP,SAAS4Y,EAAQvX,EAAMd,GAIhCsY,IAAAA,EAAWF,EAAUpa,IAAI8C,GACzBwX,GAAAA,EAEKA,OADPA,EAAStY,SAAWA,EACbsY,EAGJxX,KAAAA,KAAOA,EACPd,KAAAA,SAAWA,EACXuY,KAAAA,YAAc,KAAKC,WAAWC,KAAK,MAExCL,EAAUzY,IAAImB,EAAM,OAEPA,EAAAA,EAAAA,cAAAA,EAA8B,UAAxBd,EAASwY,YAExB1X,IAASrD,QAA4B,IAAlBqD,EAAK+E,UAErB6S,KAAAA,QAAQ,CACXjb,OAAO8H,kBAAkB5H,UACzBF,OAAOgI,iBAAiB9H,UACxBF,OAAO6H,kBAAkB3H,UACzBF,OAAO4H,oBAAoB1H,UAC3BF,OAAOqC,oBAAoBnC,aAEpBF,EAAAA,EAAAA,SAAAA,OAAOoW,mBACP/S,aAAgBrD,OAAOoW,iBACvB/S,aAAgBrD,OAAOqC,uBAC3B4Y,KAAAA,QAAQ5X,EAAKG,UACdH,aAAgBrD,OAAOoW,kBAChB/S,EAAAA,EAAAA,SAAAA,IAIe,YAAxBd,EAASwY,YAAoD,WAAxBxY,EAASwY,aAGhD1X,EAAKuV,iBAAiB,QAAS,KAAKkC,aACpCzX,EAAKuV,iBAAiB,SAAU,KAAKkC,cAEX,WAAxBvY,EAASwY,YAAmD,WAAxBxY,EAASwY,YAI/C1X,EAAKuV,iBAAiB,OAAQ,KAAKkC,aAAa,GAkH7C,SAASI,EAAYra,GACtBsa,IAAAA,EAQG,IANHta,EAAQwC,OAEV8X,EAAUR,EAAUpa,IAAIM,EAAQwC,QAIzB8X,GAAWta,GAClBsa,EAAUR,EAAUpa,IAAIM,GACxBA,EAAUA,EAAQmD,WAQbmX,OALDA,IAEJA,EAAUR,EAAUpa,IAAIP,SAGnBmb,EAhITP,EAAQ1a,UAAY,CAElBkb,WACiB,EAAA,EAAA,gBAAA,KAAK/X,MACpBsX,EAAU7X,OAAO,KAAKO,MACjBA,KAAAA,KAAKyV,oBAAoB,QAAS,KAAKgC,aACvCzX,KAAAA,KAAKyV,oBAAoB,SAAU,KAAKgC,aACxCzX,KAAAA,KAAKyV,oBAAoB,OAAQ,KAAKgC,aAAa,GACpD,KAAKzX,OAASrD,QAAiC,IAAvB,KAAKqD,KAAK+E,UAC/BiT,KAAAA,UAAU,CACbrb,OAAO8H,kBAAkB5H,UACzBF,OAAOgI,iBAAiB9H,UACxBF,OAAO6H,kBAAkB3H,UACzBF,OAAO4H,oBAAoB1H,UAC3BF,OAAOqC,oBAAoBnC,aAElBF,EAAAA,EAAAA,SAAAA,OAAOoW,mBACT,KAAK/S,gBAAgBrD,OAAOoW,iBAC5B,KAAK/S,gBAAgBrD,OAAOqC,uBAChCgZ,KAAAA,UAAU,KAAKhY,KAAKG,UACrB,KAAKH,gBAAgBrD,OAAOoW,kBACnB,EAAA,EAAA,SAAA,KAAK/S,QAQtB0X,WAAWna,IACLA,EAAMgX,kBAAkB5X,OAAO8H,mBAC/BlH,EAAMgX,kBAAkB5X,OAAO4H,qBAC/BhH,EAAMgX,kBAAkB5X,OAAO6H,mBAC/BjH,EAAMgX,kBAAkB5X,OAAOgI,oBAEA,WAA7B,KAAKzF,SAASwY,WAIG,SAAfna,EAAM8C,MACN9C,EAAMgX,OAAO9V,QAAUlB,EAAMgX,OAAOpC,eACpC,EAAc5U,EAAAA,SAAAA,EAAMgX,QAAQzE,OAIfvS,EAAAA,EAAAA,SAAAA,EAAMgX,SACI,UAAfhX,EAAM8C,MAAsC,IAAlB9C,EAAM+W,SACjB,WAAf/W,EAAM8C,QACZ,EAAc9C,EAAAA,SAAAA,EAAMgX,QAAQzE,QAGfvS,EAAAA,EAAAA,SAAAA,EAAMgX,QAID,UAAfhX,EAAM8C,MAAsC,IAAlB9C,EAAM+W,UAG1B/W,EAAAA,EAAAA,SAAAA,EAAMgX,UAkB3BqD,QAAQK,GACFA,aAAetb,OAAOmB,UACxBma,EAAM,CAAEA,IAGJC,MAAAA,EAAaD,EAAIxU,OAElB,IAAA,IAAID,EAAI,EAAGA,EAAI0U,EAAY1U,KACrByU,EAAAA,EAAAA,SAAAA,EAAIzU,KAIjBwU,UAAUC,GACJA,aAAetb,OAAOmB,UACxBma,EAAM,CAAEA,IAGJC,MAAAA,EAAaD,EAAIxU,OAElB,IAAA,IAAID,EAAI,EAAGA,EAAI0U,EAAY1U,KACnByU,EAAAA,EAAAA,SAAAA,EAAIzU;;ACrKrB,aAuBC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,uBAAA,EApBD,IAAA,EAAA,QAAA,yBASO,SAAS2U,EAAuBnY,GAC/Bf,MAAAA,GAAe,EAAYe,EAAAA,aAAAA,GAE1BC,OAAAA,MAAMpD,UAAUqD,OAAOnD,KAAKiD,EAAKG,SAAU3C,MAE5CA,EAAQmE,aAAa,SACpB1C,GAAgBA,EAAaC,SAASkZ;;AClB/C,aAsBC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAnBD,IAAA,EAAA,QAAA,0BASe,SAAS3V,EAAAA,EAAMV,GACrB,OAAA,WACCsW,MAAAA,GAAO,EAAU5V,EAAAA,WAAAA,EAAMxC,MAAMpD,UAAU+F,MAAM7F,KAAK8F,YAEpDwV,YAAS9Y,IAAT8Y,EACKA,EAGFtW,EAAOoB,MAAM,KAAMN;;ACpB9B,aAkCeuU,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EA/Bf,IAAA,EAAA,QAAA,mCACA,EAAA,EAAA,QAAA,4BACA,EAAA,EAAA,QAAA,2BACA,EAAA,EAAA,QAAA,oBACA,EAAA,QAAA,yBA2BeA,SAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,WAAAA,EAAAA,CAAAA,QAAAA,GArBf,MAAMA,GAAgB,EAAe,EAAA,SAAA,gBAAiB,SAAS5Z,GAEzDA,GAAAA,aAAmBb,OAAOoW,gBACrB,OAAA,EAAuBvV,EAAAA,wBAAAA,GAASwQ,IAAIoJ,GAAe7I,MAAML,GAAGA,GAI/D4B,MAAAA,GAAQ,EAActS,EAAAA,SAAAA,GAASsS,MACjCA,GAAAA,EAAO,CACH7Q,MAAAA,GAAe,EAAYzB,EAAAA,aAAAA,GAC7ByB,GAAgBA,EAAaC,SAASgU,aAC1B1V,EAAAA,EAAAA,SAAAA,EAAS,cAGXA,EAAAA,EAAAA,SAAAA,EAAS,UAAW,CAAEV,YAAY,IAG3CgT,OAAAA,IAIMsH,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;AClCf,aACe,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,SAAA,QAAA,QAAA;;ACDf,aA8IekB,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EA3If,IAAA,EAAA,EAAA,QAAA,8BACA,EAAA,EAAA,QAAA,+BACA,EAAA,EAAA,QAAA,kCACA,EAAA,EAAA,QAAA,yBACA,EAAA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,kCACA,EAAA,EAAA,QAAA,8BACA,EAAA,EAAA,QAAA,4BACA,EAAA,EAAA,QAAA,8BACA,EAAA,EAAA,QAAA,6BACA,EAAA,EAAA,QAAA,iCACA,EAAA,QAAA,sBACA,EAAA,QAAA,6BACA,EAAA,EAAA,QAAA,0BACA,EAAA,EAAA,QAAA,0BACA,EAAA,EAAA,QAAA,yBACA,EAAA,EAAA,QAAA,oBACA,EAAA,EAAA,QAAA,cA0HeA,SAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,WAAAA,EAAAA,CAAAA,QAAAA,GApHf,SAASC,EAAElb,GAGT2E,QAAQC,KAAI,EAAQuW,EAAAA,SAFO,oHAEanb,IAO1C,SAASib,EAAUtY,GAAM,QACJsB,EADI,MAEJqU,GAAM,EAFF,gBAGJ8C,EAHI,eAIJtZ,EAJI,uBAKJuZ,EALI,qBAMJxT,EANI,wBAOJyT,EAPI,sBAQJ7D,EARI,WASJ4C,EATI,OAUJkB,GAAO,EAVH,YAWJC,EAXI,WAYJ3F,EAZI,iBAaJkF,GAAiB,GACjB,IAEb9W,IACJA,EAAU,SAGW/B,IAAnBJ,SACsBI,IAApBkZ,EACFtZ,GAAmByZ,GAEnBL,EAAE,mBACFpZ,EAAiBsZ,SAGQlZ,IAAzB2F,SAC6B3F,IAA3BmZ,EACFxT,GAAyB0T,GAEzBL,EAAE,0BACFrT,EAAuBwT,SAGGnZ,IAA1BuV,SAC8BvV,IAA5BoZ,EACF7D,GAAwB,GAExByD,EAAE,2BACFzD,EAAwB6D,SAGTpZ,IAAfmY,IAEFA,EAAakB,EAAQ,WAAa,eAEjBrZ,IAAf2T,SACkB3T,IAAhBsZ,EACF3F,GAAe0F,GAEfL,EAAE,eACFrF,EAAa2F,IAIX3Z,MAAAA,EAAW,CAAEyW,MAAAA,EAAOiD,OAAAA,EAAQ9D,sBAAAA,EAAuB4C,WAAAA,EACtCxE,WAAAA,EAAY/T,eAAAA,EAAgBmC,QAAAA,EAAS4D,qBAAAA,EACrCkT,iBAAAA,GAGfpY,OAAAA,aAAgBrD,OAAOmc,UACvB9Y,aAAgBrD,OAAOoc,gBACvB/Y,aAAgBC,MACXA,MAAMpD,UAAUmR,IAAIjR,KAAKiD,EACAxC,GAAW8a,EAAU9a,EAAS0B,IAGzD,IAAIqY,EAAJ,QAAYvX,EAAMd,GAG3BoZ,EAAUU,QAAUA,EAApB,QAEAV,EAAUlB,cAAgBA,EAA1B,QACAkB,EAAUxF,eAAiBA,EAA3B,QACAwF,EAAUtC,kBAAoBA,EAA9B,QACAsC,EAAU/B,SAAWA,EAArB,QACA+B,EAAU9B,OAASA,EAAnB,QACA8B,EAAU7B,kBAAoBA,EAA9B,QACA6B,EAAUlG,cAAgBA,EAA1B,QACAkG,EAAUrC,YAAcA,EAAxB,QACAqC,EAAUjC,cAAgBA,EAA1B,QACAiC,EAAU5B,aAAeA,EAAzB,QAEA4B,EAAUW,YAAc3O,CAAAA,KAAuBA,EAAAA,EAAAA,cAAAA,GAAcgO,IAC7DA,EAAUY,eAAiB,EAAC5O,EAAM1B,MAA8B0B,EAAAA,EAAAA,iBAAAA,EAAM1B,GAAiB0P,IACvFA,EAAUa,YAAc,EAACrX,EAAUC,KAAsBlD,EAAAA,QAAAA,IAAIiD,EAAUC,GAAgBuW,IACvFA,EAAUc,aAAe,EAAC5b,EAAS0O,KAAwCrN,EAAAA,QAAAA,IAAIrB,EAAS0O,GAAmBoM,IAC3GA,EAAU5W,WAAa,EAAClE,EAAS0O,EAAWpN,KAA8BD,EAAAA,QAAAA,IAAIrB,EAAS0O,EAAWpN,GAAiBwZ,IACnHA,EAAUe,QAAU,EAAC5W,EAAMV,EAAQ6B,MAAwBnB,EAAAA,EAAAA,UAAAA,EAAMV,EAAQ6B,GAAkB0U,IAC3FA,EAAUgB,WAAa,EAAC7W,EAAMV,MAAyBU,EAAAA,EAAAA,aAAAA,EAAMV,GAAgBuW,IAG7EA,EAAUnO,aAAeG,CAAAA,IAAUiO,EAAE,iBAA8BjO,EAAAA,EAAAA,cAAAA,GAAcgO,IACjFA,EAAUjO,gBAAkB,EAACC,EAAM1B,KAAc2P,EAAE,oBAAoCjO,EAAAA,EAAAA,iBAAAA,EAAM1B,GAAiB0P,IAC9GA,EAAUiB,aAAe,EAACzX,EAAUC,KAAawW,EAAE,gBAA0B1Z,EAAAA,QAAAA,IAAIiD,EAAUC,GAAgBuW,IAC3GA,EAAUkB,cAAgB,EAAChc,EAAS0O,KAAgBqM,EAAE,iBAA0C1Z,EAAAA,QAAAA,IAAIrB,EAAS0O,GAAmBoM,IAChIA,EAAUmB,YAAc,EAACjc,EAAS0O,EAAWpN,KAAcyZ,EAAE,eAAgC1Z,EAAAA,QAAAA,IAAIrB,EAAS0O,EAAWpN,GAAiBwZ,IACtIA,EAAU3U,SAAW,EAAClB,EAAMV,EAAQ6B,KAAe2U,EAAE,aAAsB9V,EAAAA,EAAAA,UAAAA,EAAMV,EAAQ6B,GAAkB0U,IAC3GA,EAAU/U,YAAc,EAACd,EAAMV,KAAawW,EAAE,gBAA4B9V,EAAAA,EAAAA,aAAAA,EAAMV,GAAgBuW,IAE5Fjc,SAASqd,eAAiBrd,SAASqd,cAAcjY,aAAa,qBAChE6W,EAAU3b,QAGG2b,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;ACzId,aAAA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,mDAAA,SAAA,EAAA,GAAA,GAAA,OAAA,YAAA,OAAA,IAAA,uBAAA,OAAA,UAAA,SAAA,KAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,CAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,EAAA,QAAA,EAAA,EAAA,OAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,GALD,SAASqB,EAAQC,GACTrY,IAAAA,EAAKqY,EAAUC,QACfC,EAAcvY,SAAAA,OAAAA,EAApB,KAEO,OAAA,EADUlF,SAAS0d,iBAAiBD,IACtB9L,IAAI,SAAA+G,GAAM,OAAA,IAAI6E,EAAU7E,KAC9C,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;ACmED,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAxEA,IAAA,EAAA,EAAA,QAAA,cACA,EAAA,QAAA,yBAuEA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EArEA,IAAMiF,EAAqB,CACzBC,GAAI,CACFnR,YACE,kGACFoR,aACE,oFACFnR,aAAc,kCACdC,gBAAiB,2DACjBC,aAAc,+CACdC,YAAa,6BACbC,cAAe,wCACfC,aAAc,+CACdC,WAAY,iCACZ8Q,YAAa,2BACb7Q,gBAAiB,sDACjBC,yBAA0B,0DAC1BC,oBAAqB,mDACrBC,kBAAmB,gDACnBC,kBAAmB,gDACnBC,qBAAsB,8CACtBC,mBAAoB,mDACpBC,mBAAoB,mDACpBC,aACE,sFACFC,qBACE,6EACFC,eAAgB,4BACoB,mCAAA,+CACI,uCAAA,iDAEtC,8FAAA,0FACoC,qCAAA,6CAEpC,0DAAA,qEAC2C,4CAAA,8CACT,mCAAA,kDACvB,YAAA,iBACM,kBAAA,8BAIjBoQ,EA4BN,WA3BcrF,SAAAA,EAAAA,GAAI,EAAA,KAAA,GACTzK,KAAAA,KAAO,KACPyK,KAAAA,GAAKA,EACLsF,KAAAA,sBAAwB,CAC3B3Z,QAAS,0BACToP,MAAO,mBACPT,QAAS,qBACT2C,UAAW,wBAERsI,KAAAA,OAkBT,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,OAXS,MAAA,YACK,EAAA,EAAA,SAAA,KAAKvF,GAAI,CACjBzT,QAAS,KAAK+Y,sBACdjC,kBAAkB,EAClBtD,uBAAuB,IAEfoE,EAAAA,QAAAA,eAAe,KAAK5O,KAAM0P,EAAmB,KAAK1P,OAClD2O,EAAAA,QAAAA,YAAY,KAAK3O,SAI/B,CAAA,CAAA,IAAA,QAfiB,MAAA,WACN,MAAA,WAcX,EAAA,GAAA,QAAA,KAAA,GAAA,EAAQ8P,EAAAA,SAAAA;;;;ACxER,IAAA,EAAA,EAAA,UAAA,IAAC,SAAUG,EAAQZ,GACE,iBAAZa,SAA0C,oBAAXC,OAAyBd,EAAQa,SACrD,mBAAXE,GAAyBA,EAAOC,IAAMD,EAAO,CAAC,WAAYf,GACvCA,GAAzBY,EAASA,GAAUK,MAAqBX,GAAK,IAH/C,CAIC,KAAM,SAAUO,GAAW,aAEvBK,IAAAA,EAAuB,oBAAXle,aAA+C4C,IAArB5C,OAAOme,UAC3Cne,OAAOme,UACP,CACEC,MAAO,IAEXC,EAAU,CACVC,SAAU,CACNC,UAAW,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAChDC,SAAU,CACN,cACA,cACA,UACA,QACA,UACA,UACA,YAGRC,OAAQ,CACJF,UAAW,CACP,MACA,MACA,OACA,MACA,MACA,OACA,OACA,MACA,MACA,MACA,MACA,OAEJC,SAAU,CACN,SACA,UACA,OACA,SACA,MACA,OACA,OACA,SACA,WACA,UACA,SACA,YAGRE,eAAgB,EAChBC,QAAS,WACE,MAAA,IAEXC,eAAgB,MAChBC,iBAAkB,OAClBC,YAAa,4BACbC,YAAa,2BACbC,KAAM,CAAC,KAAM,MACbC,cAAe,MACfC,WAAW,GAEfhB,EAAGE,MAAMd,GAAKe,EACVf,IAAAA,EAAKY,EAAGE,MAEZP,EAAQQ,QAAUA,EAClBR,EAAQsB,QAAU7B,EAElBjd,OAAOC,eAAeud,EAAS,aAAc,CAAE/b,OAAO;;;;ACvExD,IAAA,EAAA,EAAA,UAAA,IAAC,SAAU8b,EAAQZ,GACI,iBAAZa,SAA0C,oBAAXC,OAAyBA,OAAOD,QAAUb,IAC9D,mBAAXe,GAAyBA,EAAOC,IAAMD,EAAOf,IACnDY,EAASA,GAAUK,MAAaE,UAAYnB,IAHhD,CAIC,KAAM,WAAc,aAiBdoC,IAAAA,EAAW,WAQJA,OAPPA,EAAW/e,OAAOgf,QAAU,SAAkBC,GACrC,IAAA,IAAIhV,EAAGzD,EAAI,EAAGwH,EAAInI,UAAUY,OAAQD,EAAIwH,EAAGxH,IAEvC,IAAA,IAAIsB,KADTmC,EAAIpE,UAAUW,GACOxG,OAAOH,UAAUc,eAAeZ,KAAKkK,EAAGnC,KAAImX,EAAEnX,GAAKmC,EAAEnC,IAEvEmX,OAAAA,IAEK9Y,MAAM,KAAMN,YAG5BqZ,EAAQ,CACR,WACA,UACA,cACA,YACA,YACA,gBACA,SACA,gBACA,UACA,gBACA,eACA,yBAEAC,EAAW,CACXC,SAAU,GACVC,QAAS,GACTC,YAAY,EACZC,UAAW,SACXC,UAAU,EACVC,cAAe,qBACfC,QAA2B,iBAAX/f,SACoC,IAAhDA,OAAOggB,UAAUC,UAAUte,QAAQ,QACvCue,eAAgB,SAChBC,YAAY,EACZC,eAAe,EACfC,YAAa,KACbC,WAAY,QACZC,YAAa,GACbC,cAAe,EACfC,eAAgB,EAChBC,QAAS,GACTC,eAAe,EACfC,OAAQ,GACRC,eAAe,EACfC,YAAY,EACZC,aAAc,SAAUC,GACb,MAAmB,oBAAZ3b,SAA2BA,QAAQ4b,KAAKD,IAE1DE,QAAS,SAAUC,GACX1Y,IAAAA,EAAO,IAAIgB,KAAK0X,EAAU3H,WAC9B/Q,EAAK2Y,SAAS,EAAG,EAAG,EAAG,GAEvB3Y,EAAK4Y,QAAQ5Y,EAAKkC,UAAY,GAAMlC,EAAK6Y,SAAW,GAAK,GAErDC,IAAAA,EAAQ,IAAI9X,KAAKhB,EAAKgC,cAAe,EAAG,GAEpC,OAAA,EACJxH,KAAKue,QAAQ/Y,EAAK+Q,UAAY+H,EAAM/H,WAAa,MAC7C,GACE+H,EAAMD,SAAW,GAAK,GACxB,IAEZG,cAAe,EACfC,qBAAsB,GACtBC,QAAQ,EACRC,OAAQ,UACRC,gBAAiB,EACjBC,KAAM,SACNC,kBAAmB,WACnBC,UAAW,yOACXC,YAAY,EACZC,IAAK,IAAIzY,KACT0Y,SAAU,GACVC,QAAS,GACTC,YAAa,GACbC,UAAW,GACXC,UAAW,GACXC,cAAe,GACfC,OAAQ,GACRC,cAAe,GACfC,QAAS,GACTC,cAAe,GACfC,aAAc,GACdC,sBAAuB,GACvBC,QAAS,GACT9b,SAAU,OACV+b,qBAAiBpgB,EACjBqgB,UAAW,uOACXC,uBAAuB,EACvBC,WAAY,EACZC,QAAQ,EACRlE,WAAW,EACXmE,aAAa,EACbC,MAAM,GAGNC,EAAU,CACVjF,SAAU,CACNC,UAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACtDC,SAAU,CACN,SACA,SACA,UACA,YACA,WACA,SACA,aAGRC,OAAQ,CACJF,UAAW,CACP,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJC,SAAU,CACN,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,aAGRgF,YAAa,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC1D9E,eAAgB,EAChBC,QAAS,SAAU8E,GACXnZ,IAAAA,EAAImZ,EAAM,IACVnZ,GAAAA,EAAI,GAAKA,EAAI,GACb,MAAO,KACHA,OAAAA,EAAI,IACH,KAAA,EACM,MAAA,KACN,KAAA,EACM,MAAA,KACN,KAAA,EACM,MAAA,KACX,QACW,MAAA,OAGnBsU,eAAgB,OAChBC,iBAAkB,KAClBC,YAAa,sBACbC,YAAa,kBACbC,KAAM,CAAC,KAAM,MACbC,cAAe,OACfyE,cAAe,OACfC,gBAAiB,SACjBzE,WAAW,GAGX/U,EAAM,SAAUyZ,GAAiB,OAAC,IAAMA,GAAQ3d,OAAO,IACvD4d,EAAM,SAAUC,GAAgBA,OAAS,IAATA,EAAgB,EAAI,GAE/CC,SAAAA,EAAS/N,EAAMgO,EAAMC,GAEtBC,IAAAA,EACG,YAFW,IAAdD,IAAwBA,GAAY,GAEjC,WACCE,IAAAA,EAAU,KAAMhe,EAAOD,UACf,OAAZge,GAAoBE,aAAaF,GACjCA,EAAUlkB,OAAO+W,WAAW,WACxBmN,EAAU,KACLD,GACDjO,EAAKxP,MAAM2d,EAAShe,IACzB6d,GACCC,IAAcC,GACdlO,EAAKxP,MAAM2d,EAAShe,IAG5Bke,IAAAA,EAAW,SAAU3iB,GACdA,OAAAA,aAAe4B,MAAQ5B,EAAM,CAACA,IAGhC4iB,SAAAA,EAAYC,EAAM7f,EAAWof,GAC9BA,IAAS,IAATA,EACA,OAAOS,EAAK1Q,UAAUC,IAAIpP,GAC9B6f,EAAK1Q,UAAUE,OAAOrP,GAEjBD,SAAAA,EAAc+f,EAAK9f,EAAW+f,GAC/BhlB,IAAAA,EAAIO,OAAON,SAAS+E,cAAc+f,GAM/B/kB,OALPiF,EAAYA,GAAa,GACzB+f,EAAUA,GAAW,GACrBhlB,EAAEiF,UAAYA,OACE9B,IAAZ6hB,IACAhlB,EAAEyF,YAAcuf,GACbhlB,EAEFilB,SAAAA,EAAUlN,GACRA,KAAAA,EAAKmN,YACRnN,EAAKpT,YAAYoT,EAAKmN,YASrBC,SAAAA,EAAkBC,EAAgBC,GACnCtgB,IAAAA,EAAUC,EAAc,MAAO,mBAAoBsgB,EAAWtgB,EAAc,QAAS,YAAcogB,GAAiBG,EAAUvgB,EAAc,OAAQ,WAAYwgB,EAAYxgB,EAAc,OAAQ,aAQlMqgB,IAP6C,IAA7C9E,UAAUC,UAAUte,QAAQ,YAC5BojB,EAASrhB,KAAO,UAGhBqhB,EAASrhB,KAAO,OAChBqhB,EAAShT,QAAU,aAEVnP,IAATkiB,EACA,IAAK,IAAI/jB,KAAO+jB,EACZC,EAASlgB,aAAa9D,EAAK+jB,EAAK/jB,IAIjCyD,OAHPA,EAAQ2S,YAAY4N,GACpBvgB,EAAQ2S,YAAY6N,GACpBxgB,EAAQ2S,YAAY8N,GACbzgB,EAUP0gB,IAAAA,EAAY,aACZC,EAAa,SAAUC,EAAa7G,EAAWqD,GAAiBA,OAAAA,EAAOnD,OAAOF,EAAY,YAAc,YAAY6G,IACpHC,EAAY,CACZC,EAAGJ,EACHK,EAAG,SAAUC,EAASC,EAAW7D,GAC7B4D,EAAQE,SAAS9D,EAAOnD,OAAOD,SAAS7c,QAAQ8jB,KAEpDE,EAAG,SAAUH,EAASI,GAClBJ,EAAQpE,SAASyE,WAAWD,KAEhCE,EAAG,SAAUN,EAASI,GAClBJ,EAAQpE,SAASyE,WAAWD,KAEhCG,EAAG,SAAUP,EAASQ,GAClBR,EAAQnE,QAAQwE,WAAWG,KAE/BC,EAAG,SAAUT,EAASxG,EAAM4C,GACxB4D,EAAQpE,SAAUoE,EAAQ5a,WAAa,GACnC,GAAKiZ,EAAI,IAAIhY,OAAO+V,EAAO5C,KAAK,GAAI,KAAKtT,KAAKsT,MAEtDkH,EAAG,SAAUV,EAASW,EAAYvE,GAC9B4D,EAAQE,SAAS9D,EAAOnD,OAAOF,UAAU5c,QAAQwkB,KAErDC,EAAG,SAAUZ,EAASa,GAClBb,EAAQc,WAAWT,WAAWQ,KAElCE,EAAG,SAAUC,EAAGC,GAAsB,OAAA,IAAIhd,KAA+B,IAA1Boc,WAAWY,KAC1DC,EAAG,SAAUlB,EAASmB,EAAS/E,GACvBgF,IAAAA,EAAazW,SAASwW,GACtBle,EAAO,IAAIgB,KAAK+b,EAAQ/a,cAAe,EAAG,EAAuB,GAAlBmc,EAAa,GAAQ,EAAG,EAAG,EAAG,GAE1Ene,OADPA,EAAK4Y,QAAQ5Y,EAAKkC,UAAYlC,EAAK6Y,SAAWM,EAAOlD,gBAC9CjW,GAEXoe,EAAG,SAAUrB,EAASzc,GAClByc,EAAQsB,YAAYjB,WAAW9c,KAEnCge,EAAG,SAAUP,EAAGQ,GAAkB,OAAA,IAAIvd,KAAKud,IAC3Ctd,EAAG,SAAU8b,EAASQ,GAClBR,EAAQnE,QAAQwE,WAAWG,KAE/BiB,EAAG,SAAUzB,EAASI,GAClBJ,EAAQpE,SAASyE,WAAWD,KAEhC/e,EAAG,SAAU2e,EAAS0B,GAClB1B,EAAQ2B,WAAWtB,WAAWqB,KAElC/U,EAAG,SAAUqT,EAASQ,GAClBR,EAAQnE,QAAQwE,WAAWG,KAE/BoB,EAAGlC,EACHmC,EAAG,SAAU7B,EAASxc,GAClBwc,EAAQE,SAASG,WAAW7c,GAAS,IAEzCqF,EAAG,SAAUmX,EAASxc,GAClBwc,EAAQE,SAASG,WAAW7c,GAAS,IAEzCsB,EAAG,SAAUkb,EAASa,GAClBb,EAAQc,WAAWT,WAAWQ,KAElCiB,EAAG,SAAUd,EAAGe,GACL,OAAA,IAAI9d,KAAKoc,WAAW0B,KAE/B3L,EAAGsJ,EACHsC,EAAG,SAAUhC,EAASzc,GAClByc,EAAQsB,YAAY,IAAOjB,WAAW9c,MAG1C0e,EAAa,CACbnC,EAAG,SACHC,EAAG,SACHI,EAAG,eACHG,EAAG,eACHC,EAAG,mBACHE,EAAG,GACHC,EAAG,SACHE,EAAG,eACHG,EAAG,OACHG,EAAG,eACHG,EAAG,WACHE,EAAG,OACHrd,EAAG,eACHud,EAAG,eACHpgB,EAAG,eACHsL,EAAG,eACHiV,EAAG,SACHC,EAAG,eACHhZ,EAAG,eACH/D,EAAG,eACHgd,EAAG,OACH1L,EAAG,eACH4L,EAAG,YAEHE,EAAU,CAEVX,EAAG,SAAUte,GAAeA,OAAAA,EAAKkf,eAEjCrC,EAAG,SAAU7c,EAAMmZ,EAAQnR,GAChBmR,OAAAA,EAAOtD,SAASC,UAAUmJ,EAAQ9L,EAAEnT,EAAMmZ,EAAQnR,KAG7D8U,EAAG,SAAU9c,EAAMmZ,EAAQnR,GAChB0U,OAAAA,EAAWuC,EAAQrZ,EAAE5F,EAAMmZ,EAAQnR,GAAW,GAAG,EAAOmR,IAGnE+D,EAAG,SAAUld,EAAMmZ,EAAQnR,GAChBtG,OAAAA,EAAIud,EAAQT,EAAExe,EAAMmZ,EAAQnR,KAGvCqV,EAAG,SAAUrd,GAAe0B,OAAAA,EAAI1B,EAAKmC,aAErCmb,EAAG,SAAUtd,EAAMmZ,GACRA,YAAmBhf,IAAnBgf,EAAOjD,QACRlW,EAAKkC,UAAYiX,EAAOjD,QAAQlW,EAAKkC,WACrClC,EAAKkC,WAGfsb,EAAG,SAAUxd,EAAMmZ,GAAiBA,OAAAA,EAAO5C,KAAK6E,EAAIpb,EAAKmC,WAAa,MAEtEsb,EAAG,SAAUzd,EAAMmZ,GACRuD,OAAAA,EAAW1c,EAAKiC,YAAY,EAAMkX,IAG7CwE,EAAG,SAAU3d,GAAe0B,OAAAA,EAAI1B,EAAKqC,eAErCyb,EAAG,SAAU9d,GAAeA,OAAAA,EAAK+Q,UAAY,KAC7CkN,EAAG,SAAUje,EAAM+d,EAAG/V,GACXA,OAAAA,EAAQyQ,QAAQzY,IAG3Boe,EAAG,SAAUpe,GAAeA,OAAAA,EAAKgC,eAEjCf,EAAG,SAAUjB,GAAe0B,OAAAA,EAAI1B,EAAKkC,YAErCsc,EAAG,SAAUxe,GAAgBA,OAAAA,EAAKmC,WAAa,GAAKnC,EAAKmC,WAAa,GAAK,IAE3E/D,EAAG,SAAU4B,GAAe0B,OAAAA,EAAI1B,EAAKoC,eAErCsH,EAAG,SAAU1J,GAAeA,OAAAA,EAAKkC,WAEjCyc,EAAG,SAAU3e,EAAMmZ,GACRA,OAAAA,EAAOtD,SAASE,SAAS/V,EAAK6Y,WAGzC+F,EAAG,SAAU5e,GAAe0B,OAAAA,EAAI1B,EAAKiC,WAAa,IAElD2D,EAAG,SAAU5F,GAAeA,OAAAA,EAAKiC,WAAa,GAE9CJ,EAAG,SAAU7B,GAAeA,OAAAA,EAAKqC,cAEjCwc,EAAG,SAAU7e,GAAeA,OAAAA,EAAK+Q,WAEjCoC,EAAG,SAAUnT,GAAeA,OAAAA,EAAK6Y,UAEjCkG,EAAG,SAAU/e,GAAehG,OAAAA,OAAOgG,EAAKgC,eAAemd,UAAU,KAGjEC,EAAsB,SAAUC,GAC5BC,IAAAA,EAAKD,EAAGE,OAAQA,OAAgB,IAAPD,EAAgBvI,EAAWuI,EAAIE,EAAKH,EAAGI,KAAMA,OAAc,IAAPD,EAAgB1E,EAAU0E,EACpG,OAAA,SAAUzC,EAAS2C,EAAMC,GACxBxG,IAAAA,EAASwG,GAAkBF,EAC3BF,YAAsBplB,IAAtBolB,EAAOK,WACAL,EAAOK,WAAW7C,EAAS2C,EAAMvG,GAErCuG,EACF/W,MAAM,IACNC,IAAI,SAAUiX,EAAGzhB,EAAG0hB,GACdb,OAAAA,EAAQY,IAAqB,OAAfC,EAAI1hB,EAAI,GACvB6gB,EAAQY,GAAG9C,EAAS5D,EAAQoG,GACtB,OAANM,EACIA,EACA,KAETE,KAAK,MAGdC,EAAmB,SAAUX,GACzBC,IAAAA,EAAKD,EAAGE,OAAQA,OAAgB,IAAPD,EAAgBvI,EAAWuI,EAAIE,EAAKH,EAAGI,KAAMA,OAAc,IAAPD,EAAgB1E,EAAU0E,EACpG,OAAA,SAAUxf,EAAMigB,EAAaC,EAAUC,GACtCngB,GAAS,IAATA,GAAeA,EAAfA,CAEAmZ,IACAiH,EADAjH,EAASgH,GAAgBV,EAEzBY,EAAWrgB,EACXA,GAAAA,aAAgBgB,KAChBof,EAAa,IAAIpf,KAAKhB,EAAK+Q,gBAC1B,GAAoB,iBAAT/Q,QACK7F,IAAjB6F,EAAKsgB,QAGLF,EAAa,IAAIpf,KAAKhB,QACrB,GAAoB,iBAATA,EAAmB,CAE3BugB,IAAAA,EAASN,IAAgBV,GAAUxI,GAAUc,WAC7C2I,EAAUxmB,OAAOgG,GAAMygB,OACvBD,GAAY,UAAZA,EACAJ,EAAa,IAAIpf,KACjBkf,GAAW,OAEV,GAAI,KAAKjd,KAAKud,IACf,OAAOvd,KAAKud,GAEZJ,EAAa,IAAIpf,KAAKhB,QACrB,GAAIuf,GAAUA,EAAOmB,UACtBN,EAAab,EAAOmB,UAAU1gB,EAAMugB,OACnC,CACDH,EACKb,GAAWA,EAAO/F,WAEb,IAAIxY,MAAK,IAAIA,MAAO2X,SAAS,EAAG,EAAG,EAAG,IADtC,IAAI3X,MAAK,IAAIA,MAAOgB,cAAe,EAAG,EAAG,EAAG,EAAG,EAAG,GAGvD,IADD2e,IAAAA,OAAU,EAAQC,EAAM,GACnBxiB,EAAI,EAAGyiB,EAAa,EAAGC,EAAW,GAAI1iB,EAAImiB,EAAOliB,OAAQD,IAAK,CAC/D2iB,IAAAA,EAAUR,EAAOniB,GACjB4iB,EAA0B,OAAZD,EACdE,EAA4B,OAAlBV,EAAOniB,EAAI,IAAe4iB,EACpChC,GAAAA,EAAW+B,KAAaE,EAAS,CACjCH,GAAY9B,EAAW+B,GACnBngB,IAAAA,EAAQ,IAAIwC,OAAO0d,GAAUI,KAAKlhB,GAClCY,IAAU+f,GAAU,IACpBC,EAAgB,MAAZG,EAAkB,OAAS,WAAW,CACtCI,GAAIvE,EAAUmE,GACdK,IAAKxgB,IAAQigB,UAIfG,IACNF,GAAY,KAChBF,EAAIS,QAAQ,SAAUhC,GACd8B,IAAAA,EAAK9B,EAAG8B,GAAIC,EAAM/B,EAAG+B,IACjBhB,OAAAA,EAAae,EAAGf,EAAYgB,EAAKjI,IAAWiH,IAG5DA,EAAaO,EAAUP,OAAajmB,GAIxC,GAAEimB,aAAsBpf,OAASkC,MAAMkd,EAAWrP,WAM/CqP,OAFU,IAAbF,GACAE,EAAWzH,SAAS,EAAG,EAAG,EAAG,GAC1ByH,EALHb,EAAOjH,aAAa,IAAIpL,MAAM,0BAA4BmT,OAW7DiB,SAAAA,EAAaC,EAAOC,EAAOtB,GAE5BA,YADa,IAAbA,IAAuBA,GAAW,IACrB,IAAbA,EACQ,IAAIlf,KAAKugB,EAAMxQ,WAAW4H,SAAS,EAAG,EAAG,EAAG,GAChD,IAAI3X,KAAKwgB,EAAMzQ,WAAW4H,SAAS,EAAG,EAAG,EAAG,GAE7C4I,EAAMxQ,UAAYyQ,EAAMzQ,UAE/B0Q,IAAAA,EAAY,SAAUC,EAAIC,EAAKC,GACxBF,OAAAA,EAAKlnB,KAAKsL,IAAI6b,EAAKC,IAAQF,EAAKlnB,KAAK0L,IAAIyb,EAAKC,IAErDC,EAAW,CACXC,IAAK,OAGoB,mBAAlBlqB,OAAOgf,SACdhf,OAAOgf,OAAS,SAAUzH,GAEjB,IADDzR,IAAAA,EAAO,GACFqkB,EAAK,EAAGA,EAAKtkB,UAAUY,OAAQ0jB,IACpCrkB,EAAKqkB,EAAK,GAAKtkB,UAAUskB,GAEzB,IAAC5S,EACK6S,MAAAA,UAAU,8CAOf,IALDC,IAAAA,EAAU,SAAUC,GAChBA,GACAtqB,OAAOuqB,KAAKD,GAAQb,QAAQ,SAAU/oB,GAAe6W,OAAAA,EAAO7W,GAAO4pB,EAAO5pB,MAGzE+mB,EAAK,EAAG+C,EAAS1kB,EAAM2hB,EAAK+C,EAAO/jB,OAAQghB,IAAM,CAEtD4C,EADaG,EAAO/C,IAGjBlQ,OAAAA,IAIXkT,IAAAA,EAAsB,IACjBC,SAAAA,EAAkBlqB,EAASmqB,GAC5B/M,IAAAA,EAAO,CACP+J,OAAQ5I,EAAS,GAAII,EAAUrB,EAAU8M,eACzC/C,KAAM3E,GAqED2H,SAAAA,EAAetB,GACbA,OAAAA,EAAG5O,KAAKiD,GAEVkN,SAAAA,IACDnD,IAAAA,EAAS/J,EAAK+J,QACS,IAAvBA,EAAO3E,aAA+C,IAAtB2E,EAAO7E,aAEZ,IAAtB6E,EAAO/F,YACZjiB,OAAOorB,sBAAsB,WAKrBnN,QAJ2Brb,IAA3Bqb,EAAKoN,oBACLpN,EAAKoN,kBAAkBC,MAAMC,WAAa,SAC1CtN,EAAKoN,kBAAkBC,MAAME,QAAU,cAEhB5oB,IAAvBqb,EAAKwN,cAA6B,CAC9BC,IAAAA,GAAazN,EAAK0N,KAAKC,YAAc,GAAK5D,EAAO7E,WACrDlF,EAAKwN,cAAcH,MAAMO,MAAQH,EAAY,KAC7CzN,EAAKoN,kBAAkBC,MAAMO,MACzBH,QAC0B9oB,IAArBqb,EAAK6N,YACA7N,EAAK6N,YAAYF,YACjB,GACN,KACR3N,EAAKoN,kBAAkBC,MAAMS,eAAe,cAC5C9N,EAAKoN,kBAAkBC,MAAMS,eAAe,cAQnDC,SAAAA,EAAWvsB,GACkB,IAA9Bwe,EAAKgO,cAAcnlB,QACnBolB,UAEMtpB,IAANnD,GAA8B,SAAXA,EAAEiE,MAoyDpByoB,SAAY1sB,GACjBA,EAAEI,iBACEusB,IAAAA,EAAuB,YAAX3sB,EAAEiE,KAAoB2oB,EAAQ5sB,EAAEmY,YAC9BhV,IAAdqb,EAAKe,MAAsBvf,EAAEmY,SAAWqG,EAAKe,OAC7Cf,EAAKe,KAAK9Z,YACN+Y,EAAKiK,KAAKlJ,KAAK6E,EAAI5F,EAAKe,KAAK9Z,cAAgB+Y,EAAKiK,KAAKlJ,KAAK,MAEhEzQ,IAAAA,EAAMsX,WAAWwG,EAAMrnB,aAAa,QAAS2J,EAAMkX,WAAWwG,EAAMrnB,aAAa,QAAS8J,EAAO+W,WAAWwG,EAAMrnB,aAAa,SAAUsnB,EAAWnc,SAASkc,EAAMvqB,MAAO,IAAKyqB,EAAQ9sB,EAAE8sB,QACxLH,EAAyB,KAAZ3sB,EAAE+sB,MAAe,GAAK,EAAK,GACzCC,EAAWH,EAAWxd,EAAOyd,EAC7B,QAAuB,IAAhBF,EAAMvqB,OAAgD,IAAvBuqB,EAAMvqB,MAAMgF,OAAc,CAC5D4lB,IAAAA,EAAaL,IAAUpO,EAAK0O,YAAaC,EAAeP,IAAUpO,EAAK4O,cACvEJ,EAAWle,GACXke,EACI9d,EACI8d,EACA5I,GAAK6I,IACJ7I,EAAI6I,IAAe7I,GAAK5F,EAAKe,OAClC4N,GACAE,OAAkBlqB,GAAY,EAAGqb,EAAK0O,cAErCF,EAAW9d,IAChB8d,EACIJ,IAAUpO,EAAK0O,YAAcF,EAAW9d,EAAMkV,GAAK5F,EAAKe,MAAQzQ,EAChEqe,GACAE,OAAkBlqB,EAAW,EAAGqb,EAAK0O,cAEzC1O,EAAKe,MACL0N,IACU,IAAT5d,EACK2d,EAAWH,IAAa,GACxBrpB,KAAKiO,IAAIub,EAAWH,GAAYxd,KACtCmP,EAAKe,KAAK9Z,YACN+Y,EAAKiK,KAAKlJ,KAAK6E,EAAI5F,EAAKe,KAAK9Z,cAAgB+Y,EAAKiK,KAAKlJ,KAAK,MAEpEqN,EAAMvqB,MAAQqI,EAAIsiB,IAt0DlBN,CAAY1sB,GAEZstB,IAAAA,EAAY9O,EAAK+O,OAAOlrB,MAC5BmrB,IACAC,KACIjP,EAAK+O,OAAOlrB,QAAUirB,GACtB9O,EAAKkP,mBAkBJF,SAAAA,IACDhP,QAAqBrb,IAArBqb,EAAK0O,kBAAoD/pB,IAAvBqb,EAAK4O,cAAvC5O,CAEAmP,IAlBexH,EAAM5G,EAkBrBoO,GAASjd,SAAS8N,EAAK0O,YAAY7qB,MAAMmE,OAAO,GAAI,KAAO,GAAK,GAAIihB,GAAW/W,SAAS8N,EAAK4O,cAAc/qB,MAAO,KAAO,GAAK,GAAIukB,OAAiCzjB,IAAvBqb,EAAKoP,eAC9Ild,SAAS8N,EAAKoP,cAAcvrB,MAAO,KAAO,GAAK,GAChD,OACYc,IAAdqb,EAAKe,OArBU4G,EAsBOwH,EAtBDpO,EAsBQf,EAAKe,KAAK9Z,YAAvCkoB,EArBIxH,EAAO,GAAM,GAAK/B,EAAI7E,IAASf,EAAKiK,KAAKlJ,KAAK,KAuBlDsO,IAAAA,OAAwC1qB,IAAxBqb,EAAK+J,OAAOuF,SAC3BtP,EAAK+J,OAAOwF,SACTvP,EAAKwP,gBACLxP,EAAKyP,uBAED,IADJ3D,EAAa9L,EAAKyP,sBAAuBzP,EAAK+J,OAAOwF,SAAS,GAQlEG,QANwC/qB,IAAxBqb,EAAK+J,OAAO4F,SAC3B3P,EAAK+J,OAAO6F,SACT5P,EAAK6P,gBACL7P,EAAKyP,uBAED,IADJ3D,EAAa9L,EAAKyP,sBAAuBzP,EAAK+J,OAAO6F,SAAS,GAEnD,CACXD,IAAAA,OAAkChrB,IAAxBqb,EAAK+J,OAAO4F,QACpB3P,EAAK+J,OAAO4F,QACZ3P,EAAK+J,OAAO6F,SAClBT,EAAQnqB,KAAKsL,IAAI6e,EAAOQ,EAAQhjB,eAClBgjB,EAAQhjB,aAClBsc,EAAUjkB,KAAKsL,IAAI2Y,EAAS0G,EAAQ/iB,eACpCqc,IAAY0G,EAAQ/iB,eACpBwb,EAAUpjB,KAAKsL,IAAI8X,EAASuH,EAAQ9iB,eAExCwiB,GAAAA,EAAe,CACXC,IAAAA,OAAkC3qB,IAAxBqb,EAAK+J,OAAOuF,QACpBtP,EAAK+J,OAAOuF,QACZtP,EAAK+J,OAAOwF,SAClBJ,EAAQnqB,KAAK0L,IAAIye,EAAOG,EAAQ3iB,eAClB2iB,EAAQ3iB,aAClBsc,EAAUjkB,KAAK0L,IAAIuY,EAASqG,EAAQ1iB,eACpCqc,IAAYqG,EAAQ1iB,eACpBwb,EAAUpjB,KAAK0L,IAAI0X,EAASkH,EAAQziB,eAE5CsW,EAASgM,EAAOlG,EAASb,IAKpB0H,SAAAA,EAAiBvI,GAClB/c,IAAAA,EAAO+c,GAAWvH,EAAKyP,sBACvBjlB,GACA2Y,EAAS3Y,EAAKmC,WAAYnC,EAAKoC,aAAcpC,EAAKqC,cAEjDkjB,SAAAA,IACDZ,IAAAA,EAAQnP,EAAK+J,OAAOzH,YACpB2G,EAAUjJ,EAAK+J,OAAOxH,cACtB6F,EAAUpI,EAAK+J,OAAOvH,eACtBxC,QAAwBrb,IAAxBqb,EAAK+J,OAAOwF,QAAuB,CAC/BS,IAAAA,EAAQhQ,EAAK+J,OAAOwF,QAAQ5iB,WAC5BsjB,EAAajQ,EAAK+J,OAAOwF,QAAQ3iB,cACrCuiB,EAAQnqB,KAAK0L,IAAIye,EAAOa,MACVA,IACV/G,EAAUjkB,KAAK0L,IAAIuf,EAAYhH,IAC/BkG,IAAUa,GAAS/G,IAAYgH,IAC/B7H,EAAUpI,EAAK+J,OAAOwF,QAAQ1iB,cAElCmT,QAAwBrb,IAAxBqb,EAAK+J,OAAO6F,QAAuB,CAC/BM,IAAAA,EAAQlQ,EAAK+J,OAAO6F,QAAQjjB,WAC5BwjB,EAAanQ,EAAK+J,OAAO6F,QAAQhjB,cACrCuiB,EAAQnqB,KAAKsL,IAAI6e,EAAOe,MACVA,IACVjH,EAAUjkB,KAAKsL,IAAI6f,EAAYlH,IAC/BkG,IAAUe,GAASjH,IAAYkH,IAC/B/H,EAAUpI,EAAK+J,OAAO6F,QAAQ/iB,cAEtCsW,EAASgM,EAAOlG,EAASb,GAWpBjF,SAAAA,EAASgM,EAAOlG,EAASb,QACKzjB,IAA/Bqb,EAAKyP,uBACLzP,EAAKyP,sBAAsBtM,SAASgM,EAAQ,GAAIlG,EAASb,GAAW,EAAG,GAEtEpI,EAAK0O,aAAgB1O,EAAK4O,gBAAiB5O,EAAKoQ,WAErDpQ,EAAK0O,YAAY7qB,MAAQqI,EAAK8T,EAAK+J,OAAO9I,UAEpCkO,GADE,GAAKA,GAAS,GAAM,GAAKvJ,EAAIuJ,EAAQ,IAAO,IAEpDnP,EAAK4O,cAAc/qB,MAAQqI,EAAI+c,QACbtkB,IAAdqb,EAAKe,OACLf,EAAKe,KAAK9Z,YAAc+Y,EAAKiK,KAAKlJ,KAAK6E,EAAIuJ,GAAS,WAC7BxqB,IAAvBqb,EAAKoP,gBACLpP,EAAKoP,cAAcvrB,MAAQqI,EAAIkc,KAM9BiI,SAAAA,EAAY1tB,GACbmI,IAAAA,EAAOoH,SAASvP,EAAMgX,OAAO9V,QAAUlB,EAAM2rB,OAAS,IACtDxjB,EAAO,IAAO,GACC,UAAdnI,EAAMG,MAAoB,QAAQ2K,KAAK3C,EAAKpG,cAC7C4rB,EAAWxlB,GASViS,SAAAA,EAAKna,EAASD,EAAO4tB,EAAS/d,GAC/B7P,OAAAA,aAAiB0C,MACV1C,EAAMkpB,QAAQ,SAAU2E,GAAazT,OAAAA,EAAKna,EAAS4tB,EAAID,EAAS/d,KACvE5P,aAAmByC,MACZzC,EAAQipB,QAAQ,SAAU1R,GAAa4C,OAAAA,EAAK5C,EAAIxX,EAAO4tB,EAAS/d,MAC3E5P,EAAQ+X,iBAAiBhY,EAAO4tB,EAAS/d,QACzCwN,EAAKyQ,UAAU5e,KAAK,CAChBjP,QAASA,EACTD,MAAOA,EACP4tB,QAASA,EACT/d,QAASA,KAURke,SAAAA,EAAQH,GACN,OAAA,SAAUI,GACC,IAAdA,EAAIpC,OAAegC,EAAQI,IAG1BC,SAAAA,IACLC,GAAa,YAkERC,SAAAA,EAAWC,EAAUH,GACtBI,IAAAA,OAAsBrsB,IAAbosB,EACP/Q,EAAKkL,UAAU6F,GACf/Q,EAAKyP,wBACFzP,EAAK+J,OAAOwF,SAAWvP,EAAK+J,OAAOwF,QAAUvP,EAAKiE,IAC7CjE,EAAK+J,OAAOwF,QACZvP,EAAK+J,OAAO6F,SAAW5P,EAAK+J,OAAO6F,QAAU5P,EAAKiE,IAC9CjE,EAAK+J,OAAO6F,QACZ5P,EAAKiE,KACnBgN,EAAUjR,EAAKkR,YACfC,EAAWnR,EAAKoR,aAChB,SACezsB,IAAXqsB,IACAhR,EAAKkR,YAAcF,EAAOxkB,cAC1BwT,EAAKoR,aAAeJ,EAAOvkB,YAGnC,MAAOjL,GAEHA,EAAE0C,QAAU,0BAA4B8sB,EACxChR,EAAK+J,OAAOjH,aAAathB,GAEzBovB,GAAiB5Q,EAAKkR,cAAgBD,IACtCJ,GAAa,gBACbQ,MAEAT,GACC5Q,EAAKkR,cAAgBD,GAAWjR,EAAKoR,eAAiBD,GACvDN,GAAa,iBAEjB7Q,EAAKsR,SAMAC,SAAAA,EAAc/vB,IACdA,EAAEmY,OAAOlT,UAAU/C,QAAQ,UAC5BmrB,EAAkBrtB,EAAGA,EAAEmY,OAAO/D,UAAU4b,SAAS,WAAa,GAAK,GAWlE3C,SAAAA,EAAkBrtB,EAAG8sB,EAAOmD,GAC7B9X,IAAAA,EAASnY,GAAKA,EAAEmY,OAChByU,EAAQqD,GACP9X,GAAUA,EAAO5T,YAAc4T,EAAO5T,WAAW2gB,WAClD/jB,EAAQjB,GAAY,aACxBiB,EAAM2rB,MAAQA,EACdF,GAASA,EAAMprB,cAAcL,GA0DxB+uB,SAAAA,EAAUjrB,EAAW+D,EAAMmnB,EAAW/oB,GACvCgpB,IAAAA,EAAgBC,EAAUrnB,GAAM,GAAOsnB,EAAatrB,EAAc,OAAQ,iBAAmBC,EAAW+D,EAAKkC,UAAUhI,YAuCpHotB,OAtCPA,EAAWvK,QAAU/c,EACrBsnB,EAAWC,GAAKnpB,EAChBkpB,EAAWlrB,aAAa,aAAcoZ,EAAKoK,WAAW5f,EAAMwV,EAAK+J,OAAO9H,kBACnC,IAAjCxb,EAAU/C,QAAQ,WACe,IAAjCooB,EAAathB,EAAMwV,EAAKiE,OACxBjE,EAAKgS,cAAgBF,EACrBA,EAAWlc,UAAUC,IAAI,SACzBic,EAAWlrB,aAAa,eAAgB,SAExCgrB,GACAE,EAAWG,UAAY,EACnBC,GAAe1nB,KACfsnB,EAAWlc,UAAUC,IAAI,YACzBmK,EAAKmS,iBAAmBL,EACC,UAArB9R,EAAK+J,OAAOlG,OACZwC,EAAYyL,EAAY,aAAc9R,EAAKgO,cAAc,IACD,IAApDlC,EAAathB,EAAMwV,EAAKgO,cAAc,IAAI,IAC9C3H,EAAYyL,EAAY,WAAY9R,EAAKgO,cAAc,IACC,IAApDlC,EAAathB,EAAMwV,EAAKgO,cAAc,IAAI,IAC5B,iBAAdvnB,GACAqrB,EAAWlc,UAAUC,IAAI,cAKrCic,EAAWlc,UAAUC,IAAI,sBAEJ,UAArBmK,EAAK+J,OAAOlG,MA81CXuO,SAAc5nB,GACfwV,QAAqB,UAArBA,EAAK+J,OAAOlG,MAAoB7D,EAAKgO,cAAcnlB,OAAS,IAExDijB,EAAathB,EAAMwV,EAAKgO,cAAc,KAAO,GACjDlC,EAAathB,EAAMwV,EAAKgO,cAAc,KAAO,EAj2CzCoE,CAAc5nB,KAAU0nB,GAAe1nB,IACvCsnB,EAAWlc,UAAUC,IAAI,WAE7BmK,EAAKoF,aACsB,IAA3BpF,EAAK+J,OAAO7E,YACE,iBAAdze,GACAkrB,EAAY,GAAM,GAClB3R,EAAKoF,YAAYiN,mBAAmB,YAAa,+BAAiCrS,EAAK+J,OAAO9G,QAAQzY,GAAQ,WAElHqmB,GAAa,cAAeiB,GACrBA,EAEFQ,SAAAA,EAAeC,GACpBA,EAAWlZ,QACc,UAArB2G,EAAK+J,OAAOlG,MACZ2O,GAAYD,GAEXE,SAAAA,EAAqBnE,GAGrB,IAFDoE,IAAAA,EAAapE,EAAQ,EAAI,EAAItO,EAAK+J,OAAO7E,WAAa,EACtDyN,EAAWrE,EAAQ,EAAItO,EAAK+J,OAAO7E,YAAc,EAC5CkE,EAAIsJ,EAAYtJ,GAAKuJ,EAAUvJ,GAAKkF,EAIpC,IAHDvjB,IAAAA,EAAQiV,EAAKwN,cAAcoF,SAASxJ,GACpCyJ,EAAavE,EAAQ,EAAI,EAAIvjB,EAAM6nB,SAAS/pB,OAAS,EACrDiqB,EAAWxE,EAAQ,EAAIvjB,EAAM6nB,SAAS/pB,QAAU,EAC3CD,EAAIiqB,EAAYjqB,GAAKkqB,EAAUlqB,GAAK0lB,EAAO,CAC5CjE,IAAAA,EAAItf,EAAM6nB,SAAShqB,GACnByhB,IAAmC,IAAnCA,EAAE5jB,UAAU/C,QAAQ,WAAoBmuB,EAAUxH,EAAE9C,SACpD,OAAO8C,GA+Bd0I,SAAAA,EAAWnhB,EAASohB,GACrBC,IAAAA,EAAaC,GAASzxB,SAAS0xB,eAAiB1xB,SAAS2xB,MACzDC,OAAwB1uB,IAAZiN,EACVA,EACAqhB,EACIxxB,SAAS0xB,mBACiBxuB,IAA1Bqb,EAAKmS,kBAAkCe,GAASlT,EAAKmS,kBACjDnS,EAAKmS,sBACkBxtB,IAAvBqb,EAAKgS,eAA+BkB,GAASlT,EAAKgS,eAC9ChS,EAAKgS,cACLS,EAAqBO,EAAS,EAAI,GAAK,GACrDK,YAAc1uB,IAAd0uB,EACOrT,EAAK+O,OAAO1V,QAClB4Z,OAvCAK,SAAoB1hB,EAAS0c,GAM7B,IALDiF,IAAAA,GAAqD,IAAxC3hB,EAAQnL,UAAU/C,QAAQ,SACrCkO,EAAQ2V,QAAQ9a,WAChBuT,EAAKoR,aACPuB,EAAWrE,EAAQ,EAAItO,EAAK+J,OAAO7E,YAAc,EACjDsO,EAAYlF,EAAQ,EAAI,GAAK,EACxBlF,EAAImK,EAAavT,EAAKoR,aAAchI,GAAKuJ,EAAUvJ,GAAKoK,EAQxD,IAPDzoB,IAAAA,EAAQiV,EAAKwN,cAAcoF,SAASxJ,GACpCyJ,EAAaU,EAAavT,EAAKoR,eAAiBhI,EAC9CxX,EAAQmgB,GAAKzD,EACbA,EAAQ,EACJvjB,EAAM6nB,SAAS/pB,OAAS,EACxB,EACN4qB,EAAe1oB,EAAM6nB,SAAS/pB,OACzBD,EAAIiqB,EAAYjqB,GAAK,GAAKA,EAAI6qB,GAAgB7qB,IAAM0lB,EAAQ,EAAImF,GAAgB,GAAI7qB,GAAK4qB,EAAW,CACrGnJ,IAAAA,EAAItf,EAAM6nB,SAAShqB,GACnByhB,IAAmC,IAAnCA,EAAE5jB,UAAU/C,QAAQ,WACpBmuB,EAAUxH,EAAE9C,UACZviB,KAAKiO,IAAIrB,EAAQmgB,GAAKnpB,IAAM5D,KAAKiO,IAAIqb,GACrC,OAAOgE,EAAejI,GAGlCrK,EAAK0T,YAAYF,GACjBT,EAAWN,EAAqBe,GAAY,GAkB5CF,CAAoBD,EAAWL,GADpBV,EAAee,GAGrBM,SAAAA,EAAe7oB,EAAMC,GAMnB4mB,IALHiC,IAAAA,GAAgB,IAAIpoB,KAAKV,EAAMC,EAAO,GAAGsY,SAAWrD,EAAKiK,KAAKxJ,eAAiB,GAAK,EACpFoT,EAAgB7T,EAAK8T,MAAMC,gBAAgBhpB,EAAQ,EAAI,IAAM,IAC7Dwa,EAAcvF,EAAK8T,MAAMC,eAAehpB,GAAQ2iB,EAAO3rB,OAAON,SAASuyB,yBAA0BC,EAAejU,EAAK+J,OAAO7E,WAAa,EAAGgP,EAAoBD,EAAe,sBAAwB,eAAgBE,EAAoBF,EAAe,sBAAwB,eAClRtC,EAAYkC,EAAgB,EAAID,EAAcQ,EAAW,EAEtDzC,GAAakC,EAAelC,IAAayC,IAC5C1G,EAAKxU,YAAYwY,EAAUwC,EAAmB,IAAI1oB,KAAKV,EAAMC,EAAQ,EAAG4mB,GAAYA,EAAWyC,IAG9FzC,IAAAA,EAAY,EAAGA,GAAapM,EAAaoM,IAAayC,IACvD1G,EAAKxU,YAAYwY,EAAU,GAAI,IAAIlmB,KAAKV,EAAMC,EAAO4mB,GAAYA,EAAWyC,IAG3E,IAAA,IAAIC,EAAS9O,EAAc,EAAG8O,GAAU,GAAKT,IAClB,IAA3B5T,EAAK+J,OAAO7E,YAAoBkP,EAAW,GAAM,GAAIC,IAAUD,IAChE1G,EAAKxU,YAAYwY,EAAUyC,EAAmB,IAAI3oB,KAAKV,EAAMC,EAAQ,EAAGspB,EAAS9O,GAAc8O,EAAQD,IAGvGE,IAAAA,EAAe9tB,EAAc,MAAO,gBAEjC8tB,OADPA,EAAapb,YAAYwU,GAClB4G,EAEFC,SAAAA,IACDvU,QAAuBrb,IAAvBqb,EAAKwN,cAALxN,CAGJyG,EAAUzG,EAAKwN,eAEXxN,EAAKoF,aACLqB,EAAUzG,EAAKoF,aAEd,IADDoP,IAAAA,EAAO/yB,SAASuyB,yBACXprB,EAAI,EAAGA,EAAIoX,EAAK+J,OAAO7E,WAAYtc,IAAK,CACzC6C,IAAAA,EAAI,IAAID,KAAKwU,EAAKkR,YAAalR,EAAKoR,aAAc,GACtD3lB,EAAEgc,SAASzH,EAAKoR,aAAexoB,GAC/B4rB,EAAKtb,YAAYya,EAAeloB,EAAEe,cAAef,EAAEgB,aAEvDuT,EAAKwN,cAActU,YAAYsb,GAC/BxU,EAAK0N,KAAO1N,EAAKwN,cAAc9G,WACN,UAArB1G,EAAK+J,OAAOlG,MAAkD,IAA9B7D,EAAKgO,cAAcnlB,QACnD2pB,MAGCnB,SAAAA,IACDrR,KAAAA,EAAK+J,OAAO7E,WAAa,GACS,aAAlClF,EAAK+J,OAAOjG,mBADZ9D,CAGAyU,IAAAA,EAAmB,SAAU1pB,GACzBiV,aAAwBrb,IAAxBqb,EAAK+J,OAAOwF,SACZvP,EAAKkR,cAAgBlR,EAAK+J,OAAOwF,QAAQ/iB,eACzCzB,EAAQiV,EAAK+J,OAAOwF,QAAQ9iB,oBAGC9H,IAAxBqb,EAAK+J,OAAO6F,SACjB5P,EAAKkR,cAAgBlR,EAAK+J,OAAO6F,QAAQpjB,eACzCzB,EAAQiV,EAAK+J,OAAO6F,QAAQnjB,aAEpCuT,EAAK0U,wBAAwBzC,UAAY,EACzCjS,EAAK0U,wBAAwBC,UAAY,GACpC,IAAA,IAAI/rB,EAAI,EAAGA,EAAI,GAAIA,IAChB,GAAC6rB,EAAiB7rB,GAAlB,CAEAmC,IAAAA,EAAQvE,EAAc,SAAU,iCACpCuE,EAAMlH,MAAQ,IAAI2H,KAAKwU,EAAKkR,YAAatoB,GAAG6D,WAAW/H,WACvDqG,EAAM9D,YAAcigB,EAAWte,EAAGoX,EAAK+J,OAAO9E,sBAAuBjF,EAAKiK,MAC1Elf,EAAMknB,UAAY,EACdjS,EAAKoR,eAAiBxoB,IACtBmC,EAAM+H,UAAW,GAErBkN,EAAK0U,wBAAwBxb,YAAYnO,KAGxC6pB,SAAAA,IACDC,IAEAC,EAFAD,EAAYruB,EAAc,MAAO,mBACjCuuB,EAAmBhzB,OAAON,SAASuyB,yBAEnChU,EAAK+J,OAAO7E,WAAa,GACS,WAAlClF,EAAK+J,OAAOjG,kBACZgR,EAAetuB,EAAc,OAAQ,cAGrCwZ,EAAK0U,wBAA0BluB,EAAc,SAAU,kCACvDuW,EAAKiD,EAAK0U,wBAAyB,SAAU,SAAUlzB,GAC/CmY,IAAAA,EAASnY,EAAEmY,OACXqb,EAAgB9iB,SAASyH,EAAO9V,MAAO,IAC3Cmc,EAAK0T,YAAYsB,EAAgBhV,EAAKoR,cACtCP,GAAa,mBAEjBQ,IACAyD,EAAe9U,EAAK0U,yBAEpBO,IAAAA,EAAYtO,EAAkB,WAAY,CAAEuO,SAAU,OACtDC,EAAcF,EAAUG,qBAAqB,SAAS,GAC1DD,EAAYvuB,aAAa,aAAcoZ,EAAKiK,KAAKjJ,eAC7ChB,EAAK+J,OAAOwF,SACZ4F,EAAYvuB,aAAa,MAAOoZ,EAAK+J,OAAOwF,QAAQ/iB,cAAc9H,YAElEsb,EAAK+J,OAAO6F,UACZuF,EAAYvuB,aAAa,MAAOoZ,EAAK+J,OAAO6F,QAAQpjB,cAAc9H,YAClEywB,EAAYtiB,WACNmN,EAAK+J,OAAOwF,SACVvP,EAAK+J,OAAOwF,QAAQ/iB,gBAAkBwT,EAAK+J,OAAO6F,QAAQpjB,eAElE4kB,IAAAA,EAAe5qB,EAAc,MAAO,2BAKjC,OAJP4qB,EAAalY,YAAY4b,GACzB1D,EAAalY,YAAY+b,GACzBF,EAAiB7b,YAAYkY,GAC7ByD,EAAU3b,YAAY6b,GACf,CACHF,UAAWA,EACXM,YAAaA,EACbL,aAAcA,GAGbO,SAAAA,IACL5O,EAAUzG,EAAKsV,UACftV,EAAKsV,SAASpc,YAAY8G,EAAKuV,cAC3BvV,EAAK+J,OAAO7E,aACZlF,EAAKwV,aAAe,GACpBxV,EAAKyV,cAAgB,IAEpB,IAAA,IAAIrM,EAAIpJ,EAAK+J,OAAO7E,WAAYkE,KAAM,CACnCre,IAAAA,EAAQ6pB,IACZ5U,EAAKwV,aAAa3jB,KAAK9G,EAAMoqB,aAC7BnV,EAAKyV,cAAc5jB,KAAK9G,EAAM+pB,cAC9B9U,EAAKsV,SAASpc,YAAYnO,EAAM8pB,WAEpC7U,EAAKsV,SAASpc,YAAY8G,EAAK0V,cA4F1BC,SAAAA,IACA3V,EAAK4V,iBAGNnP,EAAUzG,EAAK4V,kBAFf5V,EAAK4V,iBAAmBpvB,EAAc,MAAO,sBAG5C,IAAA,IAAIoC,EAAIoX,EAAK+J,OAAO7E,WAAYtc,KAAM,CACnCisB,IAAAA,EAAYruB,EAAc,MAAO,8BACrCwZ,EAAK4V,iBAAiB1c,YAAY2b,GAG/B7U,OADP6V,IACO7V,EAAK4V,iBAEPC,SAAAA,IACD,GAAC7V,EAAK4V,iBAAN,CAGAnV,IAAAA,EAAiBT,EAAKiK,KAAKxJ,eAC3BJ,EAAWL,EAAKiK,KAAK5J,SAASC,UAAUtY,QACxCyY,EAAiB,GAAKA,EAAiBJ,EAASxX,SAChDwX,EAAWA,EAASvX,OAAO2X,EAAgBJ,EAASxX,QAAQO,OAAOiX,EAASvX,OAAO,EAAG2X,KAErF,IAAA,IAAI7X,EAAIoX,EAAK+J,OAAO7E,WAAYtc,KACjCoX,EAAK4V,iBAAiBhD,SAAShqB,GAAG+rB,UAAY,qDAAuDtU,EAASkK,KAAK,2CAA6C,2BAe/JmJ,SAAAA,EAAY7vB,EAAOiyB,QACP,IAAbA,IAAuBA,GAAW,GAClCxH,IAAAA,EAAQwH,EAAWjyB,EAAQA,EAAQmc,EAAKoR,aACvC9C,EAAQ,IAAkC,IAA7BtO,EAAK+V,qBAClBzH,EAAQ,IAAkC,IAA7BtO,EAAKgW,sBAEvBhW,EAAKoR,cAAgB9C,GACjBtO,EAAKoR,aAAe,GAAKpR,EAAKoR,aAAe,MAC7CpR,EAAKkR,aAAelR,EAAKoR,aAAe,GAAK,GAAK,EAClDpR,EAAKoR,cAAgBpR,EAAKoR,aAAe,IAAM,GAC/CP,GAAa,gBACbQ,KAEJkD,IACA1D,GAAa,iBACboF,MAgHKC,SAAAA,EAAe5P,GAChBtG,SAAAA,EAAK+J,OAAOoM,WAAYnW,EAAK+J,OAAOoM,SAAS3E,SAASlL,KAEnDtG,EAAKoN,kBAAkBoE,SAASlL,GAElC8P,SAAAA,EAAc50B,GACfwe,GAAAA,EAAKqW,SAAWrW,EAAK+J,OAAOrG,OAAQ,CAChC4S,IAAAA,EAxtCsB,mBADd3zB,EAytCuBnB,GAxtC1B+0B,aACF5zB,EAAM4zB,eACL,GAET5zB,EAAMgX,OAqtCD6c,EAAoBN,EAAeI,GACnCG,EAAUH,IAAkBtW,EAAKoO,OACjCkI,IAAkBtW,EAAK4B,UACvB5B,EAAKpd,QAAQ4uB,SAAS8E,IAGrB90B,EAAEk1B,MACCl1B,EAAEk1B,KAAKhzB,WACLlC,EAAEk1B,KAAKhzB,QAAQsc,EAAKoO,SACjB5sB,EAAEk1B,KAAKhzB,QAAQsc,EAAK4B,WAC7B+U,EAAuB,SAAXn1B,EAAEiE,KACZgxB,GACEj1B,EAAEo1B,gBACDV,EAAe10B,EAAEo1B,gBACnBH,IACED,IACAN,EAAe10B,EAAEo1B,eACtBC,GAAa7W,EAAK+J,OAAOtG,qBAAqB/Q,KAAK,SAAU4T,GACtDA,OAAAA,EAAKkL,SAAS8E,KAErBK,GAAaE,SACclyB,IAAvBqb,EAAK8W,oBACkBnyB,IAAvBqb,EAAK4O,oBACgBjqB,IAArBqb,EAAK0O,aACLX,IAEJ/N,EAAK+W,QACoB,UAArB/W,EAAK+J,OAAOlG,MAAkD,IAA9B7D,EAAKgO,cAAcnlB,SACnDmX,EAAKgX,OAAM,GACXhX,EAAKsR,WAvvChB2F,IAAet0B,EA4vCX2tB,SAAAA,EAAW4G,GACZ,MAACA,GACAlX,EAAK+J,OAAOwF,SAAW2H,EAAUlX,EAAK+J,OAAOwF,QAAQ/iB,eACrDwT,EAAK+J,OAAO6F,SAAWsH,EAAUlX,EAAK+J,OAAO6F,QAAQpjB,eAFtD,CAIA2qB,IAAAA,EAAaD,EAASE,EAAYpX,EAAKkR,cAAgBiG,EAC3DnX,EAAKkR,YAAciG,GAAcnX,EAAKkR,YAClClR,EAAK+J,OAAO6F,SACZ5P,EAAKkR,cAAgBlR,EAAK+J,OAAO6F,QAAQpjB,cACzCwT,EAAKoR,aAAepsB,KAAKsL,IAAI0P,EAAK+J,OAAO6F,QAAQnjB,WAAYuT,EAAKoR,cAE7DpR,EAAK+J,OAAOwF,SACjBvP,EAAKkR,cAAgBlR,EAAK+J,OAAOwF,QAAQ/iB,gBACzCwT,EAAKoR,aAAepsB,KAAK0L,IAAIsP,EAAK+J,OAAOwF,QAAQ9iB,WAAYuT,EAAKoR,eAElEgG,IACApX,EAAKsR,SACLT,GAAa,gBACbQ,MAGCQ,SAAAA,EAAUrnB,EAAMkgB,QACJ,IAAbA,IAAuBA,GAAW,GAClC2M,IAAAA,EAAcrX,EAAKkL,UAAU1gB,OAAM7F,EAAW+lB,GAC7C1K,GAAAA,EAAK+J,OAAOwF,SACb8H,GACAvL,EAAauL,EAAarX,EAAK+J,OAAOwF,aAAsB5qB,IAAb+lB,EAAyBA,GAAY1K,EAAKwP,gBAAkB,GAC1GxP,EAAK+J,OAAO6F,SACTyH,GACAvL,EAAauL,EAAarX,EAAK+J,OAAO6F,aAAsBjrB,IAAb+lB,EAAyBA,GAAY1K,EAAK6P,gBAAkB,EAC/G,OAAO,EACP7P,GAA8B,IAA9BA,EAAK+J,OAAOpH,OAAO9Z,QAA+C,IAA/BmX,EAAK+J,OAAOtH,QAAQ5Z,OACvD,OAAO,EACPwuB,QAAgB1yB,IAAhB0yB,EACA,OAAO,EAEN,IADDxR,IAAAA,EAAO7F,EAAK+J,OAAOpH,OAAO9Z,OAAS,EAAGyuB,EAAQzR,EAAO7F,EAAK+J,OAAOpH,OAAS3C,EAAK+J,OAAOtH,QACjF7Z,EAAI,EAAG6C,OAAI,EAAQ7C,EAAI0uB,EAAMzuB,OAAQD,IAAK,CAE3C,GAAa,mBADjB6C,EAAI6rB,EAAM1uB,KAEN6C,EAAE4rB,GAEF,OAAOxR,EACN,GAAIpa,aAAaD,WACF7G,IAAhB0yB,GACA5rB,EAAE8P,YAAc8b,EAAY9b,UAErBsK,OAAAA,EACN,GAAiB,iBAANpa,QAAkC9G,IAAhB0yB,EAA2B,CAErDE,IAAAA,EAASvX,EAAKkL,UAAUzf,OAAG9G,GAAW,GACnC4yB,OAAAA,GAAUA,EAAOhc,YAAc8b,EAAY9b,UAC5CsK,GACCA,EAEN,GAEQ,iBAANpa,QACa9G,IAAhB0yB,GACA5rB,EAAE+rB,MACF/rB,EAAEgsB,IACFJ,EAAY9b,WAAa9P,EAAE+rB,KAAKjc,WAChC8b,EAAY9b,WAAa9P,EAAEgsB,GAAGlc,UAC9B,OAAOsK,EAER,OAACA,EAEHqN,SAAAA,GAAS5M,GACVtG,YAAuBrb,IAAvBqb,EAAKwN,iBACyC,IAAtClH,EAAK7f,UAAU/C,QAAQ,WAC3Bsc,EAAKwN,cAAcgE,SAASlL,IAG/BhC,SAAAA,GAAU9iB,GAWXi1B,IAAAA,EAAUj1B,EAAEmY,SAAWqG,EAAK+O,OAC5BrN,EAAa1B,EAAK+J,OAAOrI,WACzBgW,EAAe1X,EAAKqW,UAAY3U,IAAe+U,GAC/CkB,EAAqB3X,EAAK+J,OAAOrG,QAAU+S,IAAY/U,EACvDlgB,GAAc,KAAdA,EAAEkY,SAAkB+c,EAAS,CACzB/U,GAAAA,EAIOlgB,OAHPwe,EAAKoD,QAAQpD,EAAK+O,OAAOlrB,OAAO,EAAMrC,EAAEmY,SAAWqG,EAAK4B,SAClD5B,EAAK+J,OAAOpI,UACZ3B,EAAK+J,OAAO1H,YACX7gB,EAAEmY,OAAOie,OAGhB5X,EAAK6X,YAGR,GAAI3B,EAAe10B,EAAEmY,SACtB+d,GACAC,EAAoB,CAChBG,IAAAA,IAAc9X,EAAK8W,eACnB9W,EAAK8W,cAActF,SAAShwB,EAAEmY,QAC1BnY,OAAAA,EAAEkY,SACD,KAAA,GACGoe,GACAt2B,EAAEI,iBACFmsB,IACAgK,MAGAC,GAAWx2B,GACf,MACC,KAAA,GACDA,EAAEI,iBACFm2B,KACA,MACC,KAAA,EACA,KAAA,GACGtB,IAAYzW,EAAK+J,OAAOrI,aACxBlgB,EAAEI,iBACFoe,EAAKgX,SAET,MACC,KAAA,GACA,KAAA,GACG,GAACc,GAAcrB,EAeVzW,EAAK0O,aACV1O,EAAK0O,YAAYrV,aAdb2G,GADJxe,EAAEI,sBACyB+C,IAAvBqb,EAAKwN,iBACW,IAAf9L,GACIjgB,SAAS0xB,eAAiBD,GAASzxB,SAAS0xB,gBAAkB,CAC/D8E,IAAAA,EAAwB,KAAdz2B,EAAEkY,QAAiB,GAAK,EACjClY,EAAE02B,SAGH12B,EAAE22B,kBACFzE,EAAYuE,GACZlF,EAAWN,EAAqB,GAAI,IAJpCM,OAAWpuB,EAAWszB,GAUlC,MACC,KAAA,GACA,KAAA,GACDz2B,EAAEI,iBACE0sB,IAAAA,EAAsB,KAAd9sB,EAAEkY,QAAiB,GAAK,EAC/BsG,EAAKwN,oBAAiC7oB,IAAhBnD,EAAEmY,OAAOoY,IAChCvwB,EAAEmY,SAAWqG,EAAKoO,OAClB5sB,EAAEmY,SAAWqG,EAAK4B,SACdpgB,EAAE02B,SACF12B,EAAE22B,kBACF7H,EAAWtQ,EAAKkR,YAAc5C,GAC9ByE,EAAWN,EAAqB,GAAI,IAE9BqF,GACN/E,OAAWpuB,EAAmB,EAAR2pB,GAErB9sB,EAAEmY,SAAWqG,EAAKoY,mBACvB9H,EAAWtQ,EAAKkR,YAAc5C,GAEzBtO,EAAK+J,OAAOlH,cACZiV,GAAa9X,EAAK0O,aACnB1O,EAAK0O,YAAYrV,QACrB0U,EAAWvsB,GACXwe,EAAKkP,oBAET,MACC,KAAA,EACG4I,GAAAA,EAAW,CACPO,IAAAA,EAAQ,CACRrY,EAAK0O,YACL1O,EAAK4O,cACL5O,EAAKoP,cACLpP,EAAKe,MAEJ3X,OAAO4W,EAAKsY,gBACZhzB,OAAO,SAAUizB,GAAYA,OAAAA,IAC9B3vB,EAAIyvB,EAAM30B,QAAQlC,EAAEmY,QACpB/Q,IAAO,IAAPA,EAAU,CACN+Q,IAAAA,EAAS0e,EAAMzvB,GAAKpH,EAAEg3B,UAAY,EAAI,IAC1Ch3B,EAAEI,kBACD+X,GAAUqG,EAAK+O,QAAQ1V,cAGtB2G,EAAK+J,OAAO/F,YAClBhE,EAAKwN,eACLxN,EAAKwN,cAAcgE,SAAShwB,EAAEmY,SAC9BnY,EAAEg3B,WACFh3B,EAAEI,iBACFoe,EAAK+O,OAAO1V,UAOxB2G,QAAcrb,IAAdqb,EAAKe,MAAsBvf,EAAEmY,SAAWqG,EAAKe,KACrCvf,OAAAA,EAAEsB,KACDkd,KAAAA,EAAKiK,KAAKlJ,KAAK,GAAG0X,OAAO,GACzBzY,KAAAA,EAAKiK,KAAKlJ,KAAK,GAAG0X,OAAO,GAAG3uB,cAC7BkW,EAAKe,KAAK9Z,YAAc+Y,EAAKiK,KAAKlJ,KAAK,GACvCiO,IACAC,KACA,MACCjP,KAAAA,EAAKiK,KAAKlJ,KAAK,GAAG0X,OAAO,GACzBzY,KAAAA,EAAKiK,KAAKlJ,KAAK,GAAG0X,OAAO,GAAG3uB,cAC7BkW,EAAKe,KAAK9Z,YAAc+Y,EAAKiK,KAAKlJ,KAAK,GACvCiO,IACAC,MAIRwH,GAAWP,EAAe10B,EAAEmY,UAC5BkX,GAAa,YAAarvB,GAGzBgxB,SAAAA,GAAYlM,GACbtG,GAA8B,IAA9BA,EAAKgO,cAAcnlB,UAClByd,GACKA,EAAK1Q,UAAU4b,SAAS,mBACtBlL,EAAK1Q,UAAU4b,SAAS,uBAHhCxR,CAUC,IALD0Y,IAAAA,EAAYpS,EACVA,EAAKiB,QAAQhM,UACbyE,EAAK0N,KAAKiL,kBAAkBpR,QAAQhM,UAAWqd,EAAc5Y,EAAKkL,UAAUlL,EAAKgO,cAAc,QAAIrpB,GAAW,GAAM4W,UAAWsd,EAAiB7zB,KAAKsL,IAAIooB,EAAW1Y,EAAKgO,cAAc,GAAGzS,WAAYud,EAAe9zB,KAAK0L,IAAIgoB,EAAW1Y,EAAKgO,cAAc,GAAGzS,WACjQwd,GAAmB,EACnBC,EAAW,EAAGC,EAAW,EACpB5X,EAAIwX,EAAgBxX,EAAIyX,EAAczX,GAAKgL,EAASC,IACpDuF,EAAU,IAAIrmB,KAAK6V,IAAI,KACxB0X,EACIA,GAAqB1X,EAAIwX,GAAkBxX,EAAIyX,EAC/CzX,EAAIuX,KAAiBI,GAAY3X,EAAI2X,GACrCA,EAAW3X,EACNA,EAAIuX,KAAiBK,GAAY5X,EAAI4X,KAC1CA,EAAW5X,IAGlB,IAAA,IAAI+H,EAAI,EAAGA,EAAIpJ,EAAK+J,OAAO7E,WAAYkE,IAiCnC,IAhCDre,IAAAA,EAAQiV,EAAKwN,cAAcoF,SAASxJ,GACpCqD,EAAU,SAAU7jB,EAAGugB,GACnB+P,IAAAA,EAAUnuB,EAAM6nB,SAAShqB,GACzBuwB,EADoCD,EAAQ3R,QAC3BhM,UACjB9F,EAAcujB,EAAW,GAAKG,EAAYH,GACzCC,EAAW,GAAKE,EAAYF,EAC7BxjB,OAAAA,GACAyjB,EAAQtjB,UAAUC,IAAI,cACrB,CAAA,UAAW,aAAc,YAAYgW,QAAQ,SAAUxB,GACpD6O,EAAQtjB,UAAUE,OAAOuU,KAEtB,YAEF0O,IAAqBtjB,EACnB,YACV,CAAA,aAAc,UAAW,WAAY,cAAcoW,QAAQ,SAAUxB,GAClE6O,EAAQtjB,UAAUE,OAAOuU,eAEhB1lB,IAAT2hB,IACAA,EAAK1Q,UAAUC,IAAI6iB,GAAa1Y,EAAKgO,cAAc,GAAGzS,UAChD,aACA,YACFqd,EAAcF,GAAaS,IAAcP,EACzCM,EAAQtjB,UAAUC,IAAI,cACjB+iB,EAAcF,GAAaS,IAAcP,GAC9CM,EAAQtjB,UAAUC,IAAI,YACtBsjB,GAAaH,IACC,IAAbC,GAAkBE,GAAaF,IAChChN,EAAUkN,EAAWP,EAAaF,IAClCQ,EAAQtjB,UAAUC,IAAI,eAGzBjN,EAAI,EAAGugB,EAAIpe,EAAM6nB,SAAS/pB,OAAQD,EAAIugB,EAAGvgB,IAC9C6jB,EAAQ7jB,IAIXwwB,SAAAA,MACDpZ,EAAKqW,QAAWrW,EAAK+J,OAAO5E,QAAWnF,EAAK+J,OAAOrG,QACnD2V,KAECpL,SAAAA,KACLjO,EAAKoD,aAAgCze,IAAxBqb,EAAK+J,OAAOwF,QACnB,IAAI/jB,KAAKwU,EAAK+J,OAAOwF,QAAQhU,WAC7B,IAAI/P,MAAQ,GAClBukB,IACAd,KAqCKqK,SAAAA,GAAiB7zB,GACf,OAAA,SAAU+E,GACT+c,IAAAA,EAAWvH,EAAK+J,OAAO,IAAMtkB,EAAO,QAAUua,EAAKkL,UAAU1gB,EAAMwV,EAAK+J,OAAO1H,YAC/EkX,EAAiBvZ,EAAK+J,OAAO,KAAgB,QAATtkB,EAAiB,MAAQ,OAAS,aAC1Dd,IAAZ4iB,IACAvH,EAAc,QAATva,EAAiB,iBAAmB,kBACrC8hB,EAAQ5a,WAAa,GACjB4a,EAAQ3a,aAAe,GACvB2a,EAAQ1a,aAAe,GAE/BmT,EAAKgO,gBACLhO,EAAKgO,cAAgBhO,EAAKgO,cAAc1oB,OAAO,SAAUmG,GAAYomB,OAAAA,EAAUpmB,KAC1EuU,EAAKgO,cAAcnlB,QAAmB,QAATpD,GAC9BqqB,EAAiBvI,GACrB0H,MAEAjP,EAAKwN,gBACL8D,UACgB3sB,IAAZ4iB,EACAvH,EAAKoY,mBAAmB3yB,GAAQ8hB,EAAQ/a,cAAc9H,WAEtDsb,EAAKoY,mBAAmBpxB,gBAAgBvB,GAC5Cua,EAAKoY,mBAAmBvlB,WAClB0mB,QACc50B,IAAZ4iB,GACAgS,EAAe/sB,gBAAkB+a,EAAQ/a,gBA8GpDgtB,SAAAA,KAC6B,iBAAvBxZ,EAAK+J,OAAOpG,aAC4B,IAAxCzD,EAAUC,MAAMH,EAAK+J,OAAOpG,SACnC3D,EAAK+J,OAAOjH,aAAa,IAAIpL,MAAM,6BAA+BsI,EAAK+J,OAAOpG,SAClF3D,EAAKiK,KAAO9I,EAAS,GAAIjB,EAAUC,MAAV,QAA2D,iBAAvBH,EAAK+J,OAAOpG,OACnE3D,EAAK+J,OAAOpG,OACW,YAAvB3D,EAAK+J,OAAOpG,OACRzD,EAAUC,MAAMH,EAAK+J,OAAOpG,aAC5Bhf,GACV6kB,EAAWxB,EAAI,IAAMhI,EAAKiK,KAAKlJ,KAAK,GAAK,IAAMf,EAAKiK,KAAKlJ,KAAK,GAAK,IAAMf,EAAKiK,KAAKlJ,KAAK,GAAGjX,cAAgB,IAAMkW,EAAKiK,KAAKlJ,KAAK,GAAGjX,cAAgB,SAEtHnF,IADZwc,EAAS,GAAI4L,EAAgB0M,KAAKC,MAAMD,KAAKE,UAAU/2B,EAAQg3B,SAAW,MAC5E3Y,gBAC2Btc,IAAtCub,EAAU8M,cAAc/L,YACxBjB,EAAK+J,OAAO9I,UAAYjB,EAAKiK,KAAKhJ,WAEtCjB,EAAKoK,WAAaR,EAAoB5J,GACtCA,EAAKkL,UAAYV,EAAiB,CAAET,OAAQ/J,EAAK+J,OAAQE,KAAMjK,EAAKiK,OAE/DoP,SAAAA,GAAiBQ,GAClB7Z,QAA2Brb,IAA3Bqb,EAAKoN,kBAALpN,CAEJ6Q,GAAa,yBACT9L,IAAAA,EAAkB8U,GAAyB7Z,EAAK8Z,iBAChDC,EAAiB10B,MAAMpD,UAAUkG,OAAOhG,KAAK6d,EAAKoN,kBAAkBwF,SAAW,SAAUoH,EAAKC,GAAgBD,OAAAA,EAAMC,EAAMC,cAAkB,GAAIC,EAAgBna,EAAKoN,kBAAkBO,YAAayM,EAAYpa,EAAK+J,OAAO/gB,SAASmK,MAAM,KAAMknB,EAAoBD,EAAU,GAAIE,EAAsBF,EAAUvxB,OAAS,EAAIuxB,EAAU,GAAK,KAAMG,EAAcxV,EAAgByV,wBAAyBC,EAAqB14B,OAAO24B,YAAcH,EAAYI,OAAQC,EAAkC,UAAtBP,GAC/b,UAAtBA,GACGI,EAAqBV,GACrBQ,EAAYM,IAAMd,EACtBc,EAAM94B,OAAO+4B,YACbP,EAAYM,KACVD,GAAgDb,EAAiB,EAArDhV,EAAgBmV,aAAe,GAG7Cla,GAFJqG,EAAYrG,EAAKoN,kBAAmB,YAAawN,GACjDvU,EAAYrG,EAAKoN,kBAAmB,cAAewN,IAC/C5a,EAAK+J,OAAOrG,OAAZ1D,CAEA+a,IAAAA,EAAOh5B,OAAOi5B,YACdT,EAAYQ,MACY,MAAvBT,GAAuD,WAAxBA,GACzBH,EAAgBI,EAAY3M,OAAS,EACtC,GACNqN,EAAQl5B,OAAON,SAAS2xB,KAAKzF,aAAe5rB,OAAOi5B,YAAcT,EAAYU,OAC7EC,EAAYH,EAAOZ,EAAgBp4B,OAAON,SAAS2xB,KAAKzF,YACxDwN,EAAaF,EAAQd,EAAgBp4B,OAAON,SAAS2xB,KAAKzF,YAE1D3N,GADJqG,EAAYrG,EAAKoN,kBAAmB,YAAa8N,IAC7Clb,EAAK+J,OAAO5E,OAGZ,GADJnF,EAAKoN,kBAAkBC,MAAMwN,IAAMA,EAAM,KACpCK,EAIA,GAAKC,EAIL,CACGC,IAAAA,EAAM35B,SAAS45B,YAAY,GAE3BD,QAAQz2B,IAARy2B,EACA,OACAE,IAAAA,EAAYv5B,OAAON,SAAS2xB,KAAKzF,YACjC4N,EAAav2B,KAAK0L,IAAI,EAAG4qB,EAAY,EAAInB,EAAgB,GAGzDqB,EAAcJ,EAAIK,SAAS5yB,OAC3B6yB,EAAc,SAAWnB,EAAYQ,KAAO,kBAChD1U,EAAYrG,EAAKoN,kBAAmB,aAAa,GACjD/G,EAAYrG,EAAKoN,kBAAmB,cAAc,GAClDgO,EAAIO,WAAWC,6EAAmCF,EAAaF,GAC/Dxb,EAAKoN,kBAAkBC,MAAM0N,KAAOQ,EAAa,KACjDvb,EAAKoN,kBAAkBC,MAAM4N,MAAQ,YAlBrCjb,EAAKoN,kBAAkBC,MAAM0N,KAAO,OACpC/a,EAAKoN,kBAAkBC,MAAM4N,MAAQA,EAAQ,UAL7Cjb,EAAKoN,kBAAkBC,MAAM0N,KAAOA,EAAO,KAC3C/a,EAAKoN,kBAAkBC,MAAM4N,MAAQ,SAwBpC3J,SAAAA,KACDtR,EAAK+J,OAAO/F,YAAchE,EAAKoQ,WAEnC6F,KACA1B,KAEKwD,SAAAA,KACL/X,EAAK+O,OAAO1V,SACwC,IAAhDtX,OAAOggB,UAAUC,UAAUte,QAAQ,cACJiB,IAA/Bod,UAAU8Z,iBAEV/iB,WAAWkH,EAAK+W,MAAO,GAGvB/W,EAAK+W,QAGJiB,SAAAA,GAAWx2B,GAChBA,EAAEI,iBACFJ,EAAE22B,kBACE2D,IAMAza,EAh0DH0a,SAAAA,EAAWxiB,EAAMyiB,GAClBA,OAAAA,EAAUziB,GACHA,EACFA,EAAKxT,WACHg2B,EAAWxiB,EAAKxT,WAAYi2B,QADlC,EA6zDOD,CAAWv6B,EAAEmY,OANF,SAAUoO,GAClBA,OAAAA,EAAInS,WACPmS,EAAInS,UAAU4b,SAAS,mBACtBzJ,EAAInS,UAAU4b,SAAS,wBACvBzJ,EAAInS,UAAU4b,SAAS,gBAG5BnQ,QAAM1c,IAAN0c,EAAAA,CAEA1H,IAAAA,EAAS0H,EACT4a,EAAgBjc,EAAKyP,sBAAwB,IAAIjkB,KAAKmO,EAAO4N,QAAQhM,WACrE2gB,GAAqBD,EAAaxvB,WAAauT,EAAKoR,cACpD6K,EAAaxvB,WACTuT,EAAKoR,aAAepR,EAAK+J,OAAO7E,WAAa,IAC5B,UAArBlF,EAAK+J,OAAOlG,KAEZ7D,GADJA,EAAKmS,iBAAmBxY,EACC,WAArBqG,EAAK+J,OAAOlG,KACZ7D,EAAKgO,cAAgB,CAACiO,QACrB,GAAyB,aAArBjc,EAAK+J,OAAOlG,KAAqB,CAClCpR,IAAAA,EAAgByf,GAAe+J,GAC/BxpB,EACAuN,EAAKgO,cAAcllB,OAAOoJ,SAASO,GAAgB,GAEnDuN,EAAKgO,cAAcnc,KAAKoqB,OAEF,UAArBjc,EAAK+J,OAAOlG,OACiB,IAA9B7D,EAAKgO,cAAcnlB,QACnBmX,EAAKgX,OAAM,GAAO,GAEtBhX,EAAKyP,sBAAwBwM,EAC7Bjc,EAAKgO,cAAcnc,KAAKoqB,GAEwC,IAA5DnQ,EAAamQ,EAAcjc,EAAKgO,cAAc,IAAI,IAClDhO,EAAKgO,cAAcmO,KAAK,SAAUC,EAAG9oB,GAAY8oB,OAAAA,EAAE7gB,UAAYjI,EAAEiI,aAGrE2gB,GADJlN,IACIkN,EAAmB,CACf9E,IAAAA,EAAYpX,EAAKkR,cAAgB+K,EAAazvB,cAClDwT,EAAKkR,YAAc+K,EAAazvB,cAChCwT,EAAKoR,aAAe6K,EAAaxvB,WAC7B2qB,IACAvG,GAAa,gBACbQ,KAEJR,GAAa,iBAkBb7Q,GAhBJiW,KACA1B,IACAtF,KACIjP,EAAK+J,OAAOlH,YACZ/J,WAAW,WAAsBkH,OAAAA,EAAKqc,eAAgB,GAAU,IAE/DH,GACoB,UAArBlc,EAAK+J,OAAOlG,MACe,IAA3B7D,EAAK+J,OAAO7E,gBAEmBvgB,IAA1Bqb,EAAKmS,uBACWxtB,IAArBqb,EAAK0O,aACL1O,EAAKmS,kBAAoBnS,EAAKmS,iBAAiB9Y,QAH/CiZ,EAAe3Y,QAKMhV,IAArBqb,EAAK0O,kBACgB/pB,IAArBqb,EAAK0O,aAA6B1O,EAAK0O,YAAYrV,QACnD2G,EAAK+J,OAAO5H,cAAe,CACvBma,IAAAA,EAA8B,WAArBtc,EAAK+J,OAAOlG,OAAsB7D,EAAK+J,OAAOlH,WACvD3S,EAA6B,UAArB8P,EAAK+J,OAAOlG,MACU,IAA9B7D,EAAKgO,cAAcnlB,SAClBmX,EAAK+J,OAAOlH,YACbyZ,GAAUpsB,IACV6nB,KAGRnH,KA/jDJ5Q,EAAKkL,UAAYV,EAAiB,CAAET,OAAQ/J,EAAK+J,OAAQE,KAAMjK,EAAKiK,OACpEjK,EAAKyQ,UAAY,GACjBzQ,EAAKsY,eAAiB,GACtBtY,EAAKuc,cAAgB,GACrBvc,EAAKwc,MAAQzf,EACbiD,EAAKyc,kBAAoB3M,EACzB9P,EAAK0c,kBAAoBrD,GACzBrZ,EAAK0T,YAAcA,EACnB1T,EAAKsQ,WAAaA,EAClBtQ,EAAKgX,MAizBIA,SAAM2F,EAAoBC,QACJ,IAAvBD,IAAiCA,GAAqB,QACxC,IAAdC,IAAwBA,GAAY,GACxC5c,EAAKoO,MAAMvqB,MAAQ,QACGc,IAAlBqb,EAAK4B,WACL5B,EAAK4B,SAAS/d,MAAQ,SACDc,IAArBqb,EAAK6c,cACL7c,EAAK6c,YAAYh5B,MAAQ,IAC7Bmc,EAAKgO,cAAgB,GACrBhO,EAAKyP,2BAAwB9qB,GACX,IAAdi4B,IACA5c,EAAKkR,YAAclR,EAAK8c,aAAatwB,cACrCwT,EAAKoR,aAAepR,EAAK8c,aAAarwB,YAE1CuT,EAAKqc,eAAgB,GACU,IAA3Brc,EAAK+J,OAAOlH,YACZkN,IAEJ/P,EAAKsR,SACDqL,GAEA9L,GAAa,aAr0BrB7Q,EAAK+W,MAu0BIA,WACL/W,EAAKqW,QAAS,EACTrW,EAAKoQ,gBACyBzrB,IAA3Bqb,EAAKoN,mBACLpN,EAAKoN,kBAAkBxX,UAAUE,OAAO,aAExBnR,IAAhBqb,EAAK+O,QACL/O,EAAK+O,OAAOnZ,UAAUE,OAAO,WAGrC+a,GAAa,YAh1BjB7Q,EAAK+c,eAAiBv2B,EACtBwZ,EAAK7C,QAi1BIA,gBACexY,IAAhBqb,EAAK+J,QACL8G,GAAa,aACZ,IAAA,IAAIjoB,EAAIoX,EAAKyQ,UAAU5nB,OAAQD,KAAM,CAClCogB,IAAAA,EAAIhJ,EAAKyQ,UAAU7nB,GACvBogB,EAAEpmB,QAAQiY,oBAAoBmO,EAAErmB,MAAOqmB,EAAEuH,QAASvH,EAAExW,SAGpDwN,GADJA,EAAKyQ,UAAY,GACbzQ,EAAK6c,YACD7c,EAAK6c,YAAY92B,YACjBia,EAAK6c,YAAY92B,WAAWI,YAAY6Z,EAAK6c,aACjD7c,EAAK6c,iBAAcl4B,OAElB,GAAIqb,EAAKoN,mBAAqBpN,EAAKoN,kBAAkBrnB,WAClDia,GAAAA,EAAK+J,OAAO5E,QAAUnF,EAAKoN,kBAAkBrnB,WAAY,CACrDQ,IAAAA,EAAUyZ,EAAKoN,kBAAkBrnB,WAEjCQ,GADJA,EAAQy2B,WAAaz2B,EAAQJ,YAAYI,EAAQy2B,WAC7Cz2B,EAAQR,WAAY,CACbQ,KAAAA,EAAQmgB,YACXngB,EAAQR,WAAWC,aAAaO,EAAQmgB,WAAYngB,GACxDA,EAAQR,WAAWI,YAAYI,SAInCyZ,EAAKoN,kBAAkBrnB,WAAWI,YAAY6Z,EAAKoN,mBAEvDpN,EAAK4B,WACL5B,EAAKoO,MAAM3oB,KAAO,OACdua,EAAK4B,SAAS7b,YACdia,EAAK4B,SAAS7b,WAAWI,YAAY6Z,EAAK4B,iBACvC5B,EAAK4B,UAEZ5B,EAAKoO,QACLpO,EAAKoO,MAAM3oB,KAAOua,EAAKoO,MAAM6O,MAC7Bjd,EAAKoO,MAAMxY,UAAUE,OAAO,mBAC5BkK,EAAKoO,MAAMpnB,gBAAgB,YAC3BgZ,EAAKoO,MAAMvqB,MAAQ,IAGnB,CAAA,iBACA,wBACA,sBACA,sBACA,uBACA,uBACA,WACA,SACA,mBACA,iBACA,iBACA,OACA,gBACA,SACA,mBACA,iBACA,aACA,WACA,gBACA,oBACA,mBACA,eACA,eACA,0BACA,sBACA,qBACA,yBACA,mBACA,UACFgoB,QAAQ,SAAUqR,GACZ,WACOld,EAAKkd,GAEhB,MAAO3U,QAx5BfvI,EAAK6R,UAAYA,EACjB7R,EAAK8Q,WAAaA,EAClB9Q,EAAK6X,KAmuCIA,SAAKr2B,EAAGujB,QACW,IAApBA,IAA8BA,EAAkB/E,EAAK8Z,kBACrD9Z,IAAkB,IAAlBA,EAAKoQ,SAUL,OATI5uB,IACAA,EAAEI,iBACFJ,EAAEmY,QAAUnY,EAAEmY,OAAOie,aAEAjzB,IAArBqb,EAAK6c,cACL7c,EAAK6c,YAAYxjB,QACjB2G,EAAK6c,YAAYviB,cAErBuW,GAAa,UAGb7Q,GAAAA,EAAK+O,OAAOlc,UAAYmN,EAAK+J,OAAOrG,OACpC,OACAyZ,IAAAA,EAAUnd,EAAKqW,OACnBrW,EAAKqW,QAAS,EACT8G,IACDnd,EAAKoN,kBAAkBxX,UAAUC,IAAI,QACrCmK,EAAK+O,OAAOnZ,UAAUC,IAAI,UAC1Bgb,GAAa,UACbwI,GAAiBtU,KAEU,IAA3B/E,EAAK+J,OAAOlH,aAAkD,IAA3B7C,EAAK+J,OAAO/F,aACb,IAA9BhE,EAAKgO,cAAcnlB,QACnBolB,MAE2B,IAA3BjO,EAAK+J,OAAOrI,iBACL/c,IAANnD,GACIwe,EAAK8W,cAActF,SAAShwB,EAAEo1B,gBACnC9d,WAAW,WAAqBkH,OAAAA,EAAK0O,YAAYrc,UAAa,MAjwC1E2N,EAAKsR,OAASA,GACdtR,EAAK/b,IAsjDIA,SAAI0O,EAAQ9O,GACb8O,GAAW,OAAXA,GAAqC,iBAAXA,EAErB,IAAA,IAAI7P,KADTV,OAAOgf,OAAOpB,EAAK+J,OAAQpX,GACXA,OACWhO,IAAnBy4B,GAAUt6B,IACVs6B,GAAUt6B,GAAK+oB,QAAQ,SAAU0M,GAAYA,OAAAA,WAIrDvY,EAAK+J,OAAOpX,GAAU9O,OACIc,IAAtBy4B,GAAUzqB,GACVyqB,GAAUzqB,GAAQkZ,QAAQ,SAAU0M,GAAYA,OAAAA,MAC3CjX,EAAM5d,QAAQiP,IAAW,IAC9BqN,EAAK+J,OAAOpX,GAAUyT,EAASviB,IAEvCmc,EAAKsR,SACLrC,IAAY,IArkDhBjP,EAAKoD,QAumDIA,SAAQ5Y,EAAMomB,EAAe7F,QACZ,IAAlB6F,IAA4BA,GAAgB,QACjC,IAAX7F,IAAqBA,EAAS/K,EAAK+J,OAAO1H,YACzC7X,GAAS,IAATA,IAAeA,GAAUA,aAAgBnF,OAAyB,IAAhBmF,EAAK3B,OACxD,OAAOmX,EAAKgX,MAAMpG,GACtByM,GAAgB7yB,EAAMugB,GACtB/K,EAAKqc,cAAgBrc,EAAKgO,cAAcnlB,OAAS,EACjDmX,EAAKyP,sBACDzP,EAAKgO,cAAchO,EAAKgO,cAAcnlB,OAAS,GACnDmX,EAAKsR,SACLR,IACAhB,IACkC,IAA9B9P,EAAKgO,cAAcnlB,QACnBmX,EAAKgX,OAAM,GAEf/H,GAAY2B,GACRA,GACAC,GAAa,aAvnDrB7Q,EAAKsd,OAwwDIA,SAAO97B,GACRwe,IAAgB,IAAhBA,EAAKqW,OACL,OAAOrW,EAAK+W,QAChB/W,EAAK6X,KAAKr2B,IA7NV47B,IAAAA,GAAY,CACZzZ,OAAQ,CAAC6V,GAAa3D,GACtB3Q,WAAY,CAACmQ,EAAanI,EAAkByI,GAC5CpG,QAAS,CAACuB,GACVlB,QAAS,CAACkB,IAoBLuM,SAAAA,GAAgBE,EAAWxS,GAC5B9hB,IAAAA,EAAQ,GACRs0B,GAAAA,aAAqBl4B,MACrB4D,EAAQs0B,EAAUnqB,IAAI,SAAU3H,GAAYuU,OAAAA,EAAKkL,UAAUzf,EAAGsf,UAC7D,GAAIwS,aAAqB/xB,MAA6B,iBAAd+xB,EACzCt0B,EAAQ,CAAC+W,EAAKkL,UAAUqS,EAAWxS,SAClC,GAAyB,iBAAdwS,EACJvd,OAAAA,EAAK+J,OAAOlG,MACX,IAAA,SACA,IAAA,OACD5a,EAAQ,CAAC+W,EAAKkL,UAAUqS,EAAWxS,IACnC,MACC,IAAA,WACD9hB,EAAQs0B,EACHpqB,MAAM6M,EAAK+J,OAAO3H,aAClBhP,IAAI,SAAU5I,GAAewV,OAAAA,EAAKkL,UAAU1gB,EAAMugB,KACvD,MACC,IAAA,QACD9hB,EAAQs0B,EACHpqB,MAAM6M,EAAKiK,KAAKtJ,gBAChBvN,IAAI,SAAU5I,GAAewV,OAAAA,EAAKkL,UAAU1gB,EAAMugB,UAO/D/K,EAAK+J,OAAOjH,aAAa,IAAIpL,MAAM,0BAA4B+hB,KAAKE,UAAU4D,KAClFvd,EAAKgO,cAAgB/kB,EAAM3D,OAAO,SAAUmG,GAAYA,OAAAA,aAAaD,MAAQqmB,EAAUpmB,GAAG,KACjE,UAArBuU,EAAK+J,OAAOlG,MACZ7D,EAAKgO,cAAcmO,KAAK,SAAUC,EAAG9oB,GAAY8oB,OAAAA,EAAE7gB,UAAYjI,EAAEiI,YAqBhEiiB,SAAAA,GAAelT,GACbA,OAAAA,EACFtiB,QACAoL,IAAI,SAAUqqB,GACX,MAAgB,iBAATA,GACS,iBAATA,GACPA,aAAgBjyB,KACTwU,EAAKkL,UAAUuS,OAAM94B,GAAW,GAElC84B,GACW,iBAATA,GACPA,EAAKjG,MACLiG,EAAKhG,GACE,CACHD,KAAMxX,EAAKkL,UAAUuS,EAAKjG,UAAM7yB,GAChC8yB,GAAIzX,EAAKkL,UAAUuS,EAAKhG,QAAI9yB,IAE7B84B,IAENn4B,OAAO,SAAUizB,GAAYA,OAAAA,IAiI7B1H,SAAAA,GAAaluB,EAAO8a,GAErBuC,QAAgBrb,IAAhBqb,EAAK+J,OAAL/J,CAEA0d,IAAAA,EAAQ1d,EAAK+J,OAAOpnB,GACpB+6B,QAAU/4B,IAAV+4B,GAAuBA,EAAM70B,OAAS,EACjC,IAAA,IAAID,EAAI,EAAG80B,EAAM90B,IAAMA,EAAI80B,EAAM70B,OAAQD,IAC1C80B,EAAM90B,GAAGoX,EAAKgO,cAAehO,EAAKoO,MAAMvqB,MAAOmc,EAAMvC,GAE/C,aAAV9a,IACAqd,EAAKoO,MAAMprB,cAActB,GAAY,WAErCse,EAAKoO,MAAMprB,cAActB,GAAY,YAGpCA,SAAAA,GAAYe,GACbjB,IAAAA,EAAIC,SAASC,YAAY,SAEtBF,OADPA,EAAEG,UAAUc,GAAM,GAAM,GACjBjB,EAEF0wB,SAAAA,GAAe1nB,GACf,IAAA,IAAI5B,EAAI,EAAGA,EAAIoX,EAAKgO,cAAcnlB,OAAQD,IACvCkjB,GAA8C,IAA9CA,EAAa9L,EAAKgO,cAAcplB,GAAI4B,GACpC,MAAO,GAAK5B,EAEb,OAAA,EAQFqtB,SAAAA,KACDjW,EAAK+J,OAAO/F,YAAchE,EAAKoQ,WAAapQ,EAAKsV,WAErDtV,EAAKwV,aAAa3J,QAAQ,SAAUsJ,EAAavsB,GACzC6C,IAAAA,EAAI,IAAID,KAAKwU,EAAKkR,YAAalR,EAAKoR,aAAc,GACtD3lB,EAAEgc,SAASzH,EAAKoR,aAAexoB,GAC3BoX,EAAK+J,OAAO7E,WAAa,GACS,WAAlClF,EAAK+J,OAAOjG,kBACZ9D,EAAKyV,cAAc7sB,GAAG3B,YAClBigB,EAAWzb,EAAEgB,WAAYuT,EAAK+J,OAAO9E,sBAAuBjF,EAAKiK,MAAQ,IAG7EjK,EAAK0U,wBAAwB7wB,MAAQ4H,EAAEgB,WAAW/H,WAEtDywB,EAAYtxB,MAAQ4H,EAAEe,cAAc9H,aAExCsb,EAAK+V,yBACuBpxB,IAAxBqb,EAAK+J,OAAOwF,UACPvP,EAAKkR,cAAgBlR,EAAK+J,OAAOwF,QAAQ/iB,cACpCwT,EAAKoR,cAAgBpR,EAAK+J,OAAOwF,QAAQ9iB,WACzCuT,EAAKkR,YAAclR,EAAK+J,OAAOwF,QAAQ/iB,eACrDwT,EAAKgW,yBACuBrxB,IAAxBqb,EAAK+J,OAAO6F,UACP5P,EAAKkR,cAAgBlR,EAAK+J,OAAO6F,QAAQpjB,cACpCwT,EAAKoR,aAAe,EAAIpR,EAAK+J,OAAO6F,QAAQnjB,WAC5CuT,EAAKkR,YAAclR,EAAK+J,OAAO6F,QAAQpjB,gBAEhDmxB,SAAAA,GAAW5S,GACT/K,OAAAA,EAAKgO,cACP5a,IAAI,SAAUwqB,GAAe5d,OAAAA,EAAKoK,WAAWwT,EAAM7S,KACnDzlB,OAAO,SAAUmG,EAAG7C,EAAG0hB,GACjBtK,MAAqB,UAArBA,EAAK+J,OAAOlG,MACf7D,EAAK+J,OAAOlH,YACZyH,EAAI5mB,QAAQ+H,KAAO7C,IAEtB2hB,KAA0B,UAArBvK,EAAK+J,OAAOlG,KAChB7D,EAAK+J,OAAO3H,YACZpC,EAAKiK,KAAKtJ,gBAKXsO,SAAAA,GAAY2B,QACK,IAAlBA,IAA4BA,GAAgB,QACvBjsB,IAArBqb,EAAK6c,aAA6B7c,EAAK6d,kBACvC7d,EAAK6c,YAAYh5B,WACkBc,IAA/Bqb,EAAKyP,sBACCzP,EAAKoK,WAAWpK,EAAKyP,sBAAuBzP,EAAK6d,iBACjD,IAEd7d,EAAKoO,MAAMvqB,MAAQ85B,GAAW3d,EAAK+J,OAAO1H,iBACpB1d,IAAlBqb,EAAK4B,WACL5B,EAAK4B,SAAS/d,MAAQ85B,GAAW3d,EAAK+J,OAAOpI,aAE3B,IAAlBiP,GACAC,GAAa,iBAEZiN,SAAAA,GAAgBt8B,GACjBu8B,IAAAA,EAAc/d,EAAKuV,aAAa/D,SAAShwB,EAAEmY,QAC3CqkB,EAAche,EAAK0V,aAAalE,SAAShwB,EAAEmY,QAC3CokB,GAAeC,EACftK,EAAYqK,GAAe,EAAI,GAE1B/d,EAAKwV,aAAa9xB,QAAQlC,EAAEmY,SAAW,EAC5CnY,EAAEmY,OAAOtH,SAEJ7Q,EAAEmY,OAAO/D,UAAU4b,SAAS,WACjCxR,EAAKsQ,WAAWtQ,EAAKkR,YAAc,GAE9B1vB,EAAEmY,OAAO/D,UAAU4b,SAAS,cACjCxR,EAAKsQ,WAAWtQ,EAAKkR,YAAc,GA0CpClR,OAl5DEN,WACLM,EAAKpd,QAAUod,EAAKoO,MAAQxrB,EAC5Bod,EAAKqW,QAAS,EAixCT4H,WACDC,IAAAA,EAAW,CACX,OACA,cACA,aACA,aACA,YACA,aACA,aACA,WACA,wBACA,SACA,SACA,gBACA,iBAEAC,EAAahd,EAAS,GAAI4L,EAAgB0M,KAAKC,MAAMD,KAAKE,UAAU/2B,EAAQg3B,SAAW,MACvFnQ,EAAU,GACdzJ,EAAK+J,OAAOmB,UAAYiT,EAAWjT,UACnClL,EAAK+J,OAAOK,WAAa+T,EAAW/T,WACpChoB,OAAOC,eAAe2d,EAAK+J,OAAQ,SAAU,CACzCznB,IAAK,WAAqB0d,OAAAA,EAAK+J,OAAOtI,SACtCxd,IAAK,SAAUgF,GACX+W,EAAK+J,OAAOtI,QAAU+b,GAAev0B,MAG7C7G,OAAOC,eAAe2d,EAAK+J,OAAQ,UAAW,CAC1CznB,IAAK,WAAqB0d,OAAAA,EAAK+J,OAAOvI,UACtCvd,IAAK,SAAUgF,GACX+W,EAAK+J,OAAOvI,SAAWgc,GAAev0B,MAG1Cm1B,IAAAA,EAA+B,SAApBD,EAAWta,KACtB,IAACsa,EAAW9b,aAAe8b,EAAWtb,YAAcub,GAAW,CAC3DC,IAAAA,EAAoBne,EAAU8M,cAAc3K,YAAcd,EAASc,WACvEoH,EAAQpH,WACJ8b,EAAWna,YAAcoa,EACnB,OAASD,EAAWvb,cAAgB,KAAO,IAC3Cyb,EAAoB,QAAUF,EAAWvb,cAAgB,KAAO,IAE1Eub,GAAAA,EAAWvc,WACVuc,EAAWtb,YAAcub,KACzBD,EAAWxc,UAAW,CACnB2c,IAAAA,EAAmBpe,EAAU8M,cAAcrL,WAAaJ,EAASI,UACrE8H,EAAQ9H,UACJwc,EAAWna,YAAcoa,EACnB,OAASD,EAAWvb,cAAgB,OAAS,MAC7C0b,EAAoB,QAAUH,EAAWvb,cAAgB,KAAO,IAAM,KAE/Eub,EAAWtc,gBACZ7B,EAAK+J,OAAOlI,cACR7B,EAAKoO,MAAM3nB,UAAY,IAAMuZ,EAAK+J,OAAOlI,eAEjDzf,OAAOC,eAAe2d,EAAK+J,OAAQ,UAAW,CAC1CznB,IAAK,WAAqB0d,OAAAA,EAAK+J,OAAOwU,UACtCt6B,IAAKq1B,GAAiB,SAE1Bl3B,OAAOC,eAAe2d,EAAK+J,OAAQ,UAAW,CAC1CznB,IAAK,WAAqB0d,OAAAA,EAAK+J,OAAOyU,UACtCv6B,IAAKq1B,GAAiB,SAEtBmF,IAAAA,EAAmB,SAAUh5B,GAAe,OAAA,SAAUmmB,GACtD5L,EAAK+J,OAAgB,QAATtkB,EAAiB,WAAa,YAAcua,EAAKkL,UAAUU,EAAK,WAEhFxpB,OAAOC,eAAe2d,EAAK+J,OAAQ,UAAW,CAC1CznB,IAAK,WAAqB0d,OAAAA,EAAK+J,OAAO2U,UACtCz6B,IAAKw6B,EAAiB,SAE1Br8B,OAAOC,eAAe2d,EAAK+J,OAAQ,UAAW,CAC1CznB,IAAK,WAAqB0d,OAAAA,EAAK+J,OAAO4U,UACtC16B,IAAKw6B,EAAiB,SAEF,SAApBN,EAAWta,OACX7D,EAAK+J,OAAO/F,YAAa,EACzBhE,EAAK+J,OAAOlH,YAAa,GAE7BzgB,OAAOgf,OAAOpB,EAAK+J,OAAQN,EAAS0U,GAC/B,IAAA,IAAIv1B,EAAI,EAAGA,EAAIs1B,EAASr1B,OAAQD,IACjCoX,EAAK+J,OAAOmU,EAASt1B,KACY,IAA7BoX,EAAK+J,OAAOmU,EAASt1B,KACY,SAA7BoX,EAAK+J,OAAOmU,EAASt1B,IACjC0Y,EAAMhc,OAAO,SAAUuC,GAAemY,YAAsBrb,IAAtBqb,EAAK+J,OAAOliB,KAAwBgkB,QAAQ,SAAUhkB,GACxFmY,EAAK+J,OAAOliB,GAAQue,EAASpG,EAAK+J,OAAOliB,IAAS,IAAIuL,IAAI6Z,KAE9DjN,EAAKoQ,UACApQ,EAAK+J,OAAOrH,gBACR1C,EAAK+J,OAAOrG,QACQ,WAArB1D,EAAK+J,OAAOlG,OACX7D,EAAK+J,OAAOtH,QAAQ5Z,SACpBmX,EAAK+J,OAAOpH,OAAO9Z,SACnBmX,EAAK+J,OAAO3E,aACb,iEAAiE3X,KAAKsU,UAAUC,WACnF,IAAA,IAAIpZ,EAAI,EAAGA,EAAIoX,EAAK+J,OAAOjF,QAAQjc,OAAQD,IAAK,CAC7Cg2B,IAAAA,EAAa5e,EAAK+J,OAAOjF,QAAQlc,GAAGoX,IAAS,GAC5C,IAAA,IAAIld,KAAO87B,EACRtd,EAAM5d,QAAQZ,IAAQ,EACtBkd,EAAK+J,OAAOjnB,GAAOsjB,EAASwY,EAAW97B,IAClCsQ,IAAI6Z,GACJ7jB,OAAO4W,EAAK+J,OAAOjnB,SAEQ,IAApBq7B,EAAWr7B,KACvBkd,EAAK+J,OAAOjnB,GAAO87B,EAAW97B,IAG1C+tB,GAAa,iBAx3CboN,GACAzE,KAkrDAxZ,EAAKoO,MAAQpO,EAAK+J,OAAO1E,KACnBziB,EAAQi8B,cAAc,gBACtBj8B,EAEDod,EAAKoO,OAKVpO,EAAKoO,MAAM6O,MAAQjd,EAAKoO,MAAM3oB,KAC9Bua,EAAKoO,MAAM3oB,KAAO,OAClBua,EAAKoO,MAAMxY,UAAUC,IAAI,mBACzBmK,EAAK+O,OAAS/O,EAAKoO,MACfpO,EAAK+J,OAAOnI,WAEZ5B,EAAK4B,SAAWpb,EAAcwZ,EAAKoO,MAAMhkB,SAAU4V,EAAK+J,OAAOlI,eAC/D7B,EAAK+O,OAAS/O,EAAK4B,SACnB5B,EAAK4B,SAASkd,YAAc9e,EAAKoO,MAAM0Q,YACvC9e,EAAK4B,SAAS/O,SAAWmN,EAAKoO,MAAMvb,SACpCmN,EAAK4B,SAASmd,SAAW/e,EAAKoO,MAAM2Q,SACpC/e,EAAK4B,SAASqQ,SAAWjS,EAAKoO,MAAM6D,SACpCjS,EAAK4B,SAASnc,KAAO,OACrBua,EAAKoO,MAAMxnB,aAAa,OAAQ,WAC3BoZ,EAAK+J,OAAO5E,QAAUnF,EAAKoO,MAAMroB,YAClCia,EAAKoO,MAAMroB,WAAWC,aAAaga,EAAK4B,SAAU5B,EAAKoO,MAAMnoB,cAEhE+Z,EAAK+J,OAAOrI,YACb1B,EAAK+O,OAAOnoB,aAAa,WAAY,YACzCoZ,EAAK8Z,iBAAmB9Z,EAAK+J,OAAOhF,iBAAmB/E,EAAK+O,QAvBxD/O,EAAK+J,OAAOjH,aAAa,IAAIpL,MAAM,oCAzDlCsnB,WACLhf,EAAKgO,cAAgB,GACrBhO,EAAKiE,IAAMjE,EAAKkL,UAAUlL,EAAK+J,OAAO9F,MAAQ,IAAIzY,KAE9CyzB,IAAAA,EAAgBjf,EAAK+J,OAAOmV,cACF,UAAxBlf,EAAKoO,MAAMhkB,UACe,aAAxB4V,EAAKoO,MAAMhkB,WACX4V,EAAKoO,MAAM0Q,aACX9e,EAAKoO,MAAMvqB,QAAUmc,EAAKoO,MAAM0Q,YAE9B9e,EAAKoO,MAAMvqB,MADX,MAENo7B,GACA5B,GAAgB4B,EAAejf,EAAK+J,OAAO1H,YAC/CrC,EAAK8c,aACD9c,EAAKgO,cAAcnlB,OAAS,EACtBmX,EAAKgO,cAAc,GACnBhO,EAAK+J,OAAOwF,SACVvP,EAAK+J,OAAOwF,QAAQhU,UAAYyE,EAAKiE,IAAI1I,UACvCyE,EAAK+J,OAAOwF,QACZvP,EAAK+J,OAAO6F,SACV5P,EAAK+J,OAAO6F,QAAQrU,UAAYyE,EAAKiE,IAAI1I,UACvCyE,EAAK+J,OAAO6F,QACZ5P,EAAKiE,IACvBjE,EAAKkR,YAAclR,EAAK8c,aAAatwB,cACrCwT,EAAKoR,aAAepR,EAAK8c,aAAarwB,WAClCuT,EAAKgO,cAAcnlB,OAAS,IAC5BmX,EAAKyP,sBAAwBzP,EAAKgO,cAAc,SACxBrpB,IAAxBqb,EAAK+J,OAAOuF,UACZtP,EAAK+J,OAAOuF,QAAUtP,EAAKkL,UAAUlL,EAAK+J,OAAOuF,QAAS,aAClC3qB,IAAxBqb,EAAK+J,OAAO4F,UACZ3P,EAAK+J,OAAO4F,QAAU3P,EAAKkL,UAAUlL,EAAK+J,OAAO4F,QAAS,QAC9D3P,EAAKwP,iBACCxP,EAAK+J,OAAOwF,UACTvP,EAAK+J,OAAOwF,QAAQ5iB,WAAa,GAC9BqT,EAAK+J,OAAOwF,QAAQ3iB,aAAe,GACnCoT,EAAK+J,OAAOwF,QAAQ1iB,aAAe,GAC/CmT,EAAK6P,iBACC7P,EAAK+J,OAAO6F,UACT5P,EAAK+J,OAAO6F,QAAQjjB,WAAa,GAC9BqT,EAAK+J,OAAO6F,QAAQhjB,aAAe,GACnCoT,EAAK+J,OAAO6F,QAAQ/iB,aAAe,GAC/CzK,OAAOC,eAAe2d,EAAM,gBAAiB,CACzC1d,IAAK,WAAqB0d,OAAAA,EAAKmf,gBAC/Bl7B,IAAK,SAAU4hB,GACX7F,EAAKmf,eAAiBtZ,EAClB7F,EAAKoN,mBACL/G,EAAYrG,EAAKoN,kBAAmB,gBAAiBvH,GACzD7F,EAAKqW,QAAUgD,QA3qDvB2F,GAhBAhf,EAAK8T,MAAQ,CACTC,eAAgB,SAAUhpB,EAAOq0B,GAGzBr0B,YAFU,IAAVA,IAAoBA,EAAQiV,EAAKoR,mBAC1B,IAAPgO,IAAiBA,EAAKpf,EAAKkR,aACjB,IAAVnmB,IAAiBq0B,EAAK,GAAM,GAAKA,EAAK,KAAQ,GAAMA,EAAK,KAAQ,GAC1D,GACJpf,EAAKiK,KAAK1E,YAAYxa,KAYhCiV,EAAKoQ,UAiWLiP,WACDC,IAAAA,EAAWv9B,OAAON,SAASuyB,yBAG3B,GAFJhU,EAAKoN,kBAAoB5mB,EAAc,MAAO,sBAC9CwZ,EAAKoN,kBAAkB6E,UAAY,GAC9BjS,EAAK+J,OAAO/F,WAAY,CAGrBhE,GAFJsf,EAASpmB,aA8Rb8G,EAAKsV,SAAW9uB,EAAc,MAAO,oBACrCwZ,EAAKwV,aAAe,GACpBxV,EAAKyV,cAAgB,GACrBzV,EAAKuV,aAAe/uB,EAAc,OAAQ,wBAC1CwZ,EAAKuV,aAAaZ,UAAY3U,EAAK+J,OAAO/E,UAC1ChF,EAAK0V,aAAelvB,EAAc,OAAQ,wBAC1CwZ,EAAK0V,aAAaf,UAAY3U,EAAK+J,OAAOhG,UAC1CsR,IACAjzB,OAAOC,eAAe2d,EAAM,sBAAuB,CAC/C1d,IAAK,WAAqB0d,OAAAA,EAAKuf,sBAC/Bt7B,IAAK,SAAU4hB,GACP7F,EAAKuf,uBAAyB1Z,IAC9BQ,EAAYrG,EAAKuV,aAAc,qBAAsB1P,GACrD7F,EAAKuf,qBAAuB1Z,MAIxCzjB,OAAOC,eAAe2d,EAAM,sBAAuB,CAC/C1d,IAAK,WAAqB0d,OAAAA,EAAKwf,sBAC/Bv7B,IAAK,SAAU4hB,GACP7F,EAAKwf,uBAAyB3Z,IAC9BQ,EAAYrG,EAAK0V,aAAc,qBAAsB7P,GACrD7F,EAAKwf,qBAAuB3Z,MAIxC7F,EAAKoY,mBAAqBpY,EAAKwV,aAAa,GAC5CS,KACOjW,EAAKsV,WAzTRtV,EAAKyf,eAAiBj5B,EAAc,MAAO,4BACvCwZ,EAAK+J,OAAO3E,YAAa,CACrByE,IAAAA,EA8YP6V,WACL1f,EAAKoN,kBAAkBxX,UAAUC,IAAI,YACjCgY,IAAAA,EAAcrnB,EAAc,MAAO,yBACvCqnB,EAAY3U,YAAY1S,EAAc,OAAQ,oBAAqBwZ,EAAKiK,KAAKrJ,mBACzEwE,IAAAA,EAAc5e,EAAc,MAAO,mBAEhC,OADPqnB,EAAY3U,YAAYkM,GACjB,CACHyI,YAAaA,EACbzI,YAAaA,GAtZAsa,GAAc7R,EAAchE,EAAGgE,YAAazI,EAAcyE,EAAGzE,YACtEpF,EAAKyf,eAAevmB,YAAY2U,GAChC7N,EAAKoF,YAAcA,EACnBpF,EAAK6N,YAAcA,EAEvB7N,EAAK2f,WAAan5B,EAAc,MAAO,wBACvCwZ,EAAK2f,WAAWzmB,YAAYyc,KACvB3V,EAAKwN,gBACNxN,EAAKwN,cAAgBhnB,EAAc,MAAO,kBAC1CwZ,EAAKwN,cAAcyE,UAAY,GAEnCsC,IACAvU,EAAK2f,WAAWzmB,YAAY8G,EAAKwN,eACjCxN,EAAKyf,eAAevmB,YAAY8G,EAAK2f,YACrCL,EAASpmB,YAAY8G,EAAKyf,gBAE1Bzf,EAAK+J,OAAOlH,YACZyc,EAASpmB,YAwSR0mB,WACL5f,EAAKoN,kBAAkBxX,UAAUC,IAAI,WACjCmK,EAAK+J,OAAO/F,YACZhE,EAAKoN,kBAAkBxX,UAAUC,IAAI,cACzCmK,EAAK8W,cAAgBtwB,EAAc,MAAO,kBAC1CwZ,EAAK8W,cAAc7E,UAAY,EAC3B4N,IAAAA,EAAYr5B,EAAc,OAAQ,2BAA4B,KAC9Ds5B,EAAYnZ,EAAkB,iBAAkB,CAClC3G,aAAAA,EAAKiK,KAAKxE,gBAE5BzF,EAAK0O,YAAcoR,EAAU1K,qBAAqB,SAAS,GACvD2K,IAAAA,EAAcpZ,EAAkB,mBAAoB,CACtC3G,aAAAA,EAAKiK,KAAKvE,kBAuBxB1F,GArBJA,EAAK4O,cAAgBmR,EAAY3K,qBAAqB,SAAS,GAC/DpV,EAAK0O,YAAYuD,SAAWjS,EAAK4O,cAAcqD,UAAY,EAC3DjS,EAAK0O,YAAY7qB,MAAQqI,EAAI8T,EAAKyP,sBAC5BzP,EAAKyP,sBAAsB9iB,WAC3BqT,EAAK+J,OAAO9I,UACRjB,EAAK+J,OAAOzH,YAzmBjB0d,SAAcrY,GACXA,OAAAA,EAAO,IACN,KAAA,EACA,KAAA,GACM,OAAA,GACX,QACWA,OAAAA,EAAO,IAomBZqY,CAAchgB,EAAK+J,OAAOzH,cACpCtC,EAAK4O,cAAc/qB,MAAQqI,EAAI8T,EAAKyP,sBAC9BzP,EAAKyP,sBAAsB7iB,aAC3BoT,EAAK+J,OAAOxH,eAClBvC,EAAK0O,YAAY9nB,aAAa,OAAQoZ,EAAK+J,OAAOvG,cAAc9e,YAChEsb,EAAK4O,cAAchoB,aAAa,OAAQoZ,EAAK+J,OAAOnG,gBAAgBlf,YACpEsb,EAAK0O,YAAY9nB,aAAa,MAAOoZ,EAAK+J,OAAO9I,UAAY,IAAM,KACnEjB,EAAK0O,YAAY9nB,aAAa,MAAOoZ,EAAK+J,OAAO9I,UAAY,KAAO,MACpEjB,EAAK4O,cAAchoB,aAAa,MAAO,KACvCoZ,EAAK4O,cAAchoB,aAAa,MAAO,MACvCoZ,EAAK8W,cAAc5d,YAAY4mB,GAC/B9f,EAAK8W,cAAc5d,YAAY2mB,GAC/B7f,EAAK8W,cAAc5d,YAAY6mB,GAC3B/f,EAAK+J,OAAO9I,WACZjB,EAAK8W,cAAclhB,UAAUC,IAAI,YACjCmK,EAAK+J,OAAOnH,cAAe,CAC3B5C,EAAK8W,cAAclhB,UAAUC,IAAI,cAC7BoqB,IAAAA,EAActZ,EAAkB,oBACpC3G,EAAKoP,cAAgB6Q,EAAY7K,qBAAqB,SAAS,GAC/DpV,EAAKoP,cAAcvrB,MAAQqI,EAAI8T,EAAKyP,sBAC9BzP,EAAKyP,sBAAsB5iB,aAC3BmT,EAAK+J,OAAOvH,gBAClBxC,EAAKoP,cAAcxoB,aAAa,OAAQoZ,EAAK4O,cAAc7nB,aAAa,SACxEiZ,EAAKoP,cAAcxoB,aAAa,MAAO,KACvCoZ,EAAKoP,cAAcxoB,aAAa,MAAO,MACvCoZ,EAAK8W,cAAc5d,YAAY1S,EAAc,OAAQ,2BAA4B,MACjFwZ,EAAK8W,cAAc5d,YAAY+mB,GAW5BjgB,OATFA,EAAK+J,OAAO9I,YAEbjB,EAAKe,KAAOva,EAAc,OAAQ,kBAAmBwZ,EAAKiK,KAAKlJ,KAAK6E,GAAK5F,EAAKyP,sBACxEzP,EAAK0O,YAAY7qB,MACjBmc,EAAK+J,OAAOzH,aAAe,MACjCtC,EAAKe,KAAK1L,MAAQ2K,EAAKiK,KAAKnJ,YAC5Bd,EAAKe,KAAKkR,UAAY,EACtBjS,EAAK8W,cAAc5d,YAAY8G,EAAKe,OAEjCf,EAAK8W,cAjWa8I,IAEzBvZ,EAAYrG,EAAKoN,kBAAmB,YAAkC,UAArBpN,EAAK+J,OAAOlG,MAC7DwC,EAAYrG,EAAKoN,kBAAmB,WAAmC,IAAxBpN,EAAK+J,OAAOjI,SAC3DuE,EAAYrG,EAAKoN,kBAAmB,aAAcpN,EAAK+J,OAAO7E,WAAa,GAC3ElF,EAAKoN,kBAAkBlU,YAAYomB,GAC/BY,IAAAA,OAAwCv7B,IAAzBqb,EAAK+J,OAAOoM,eACOxxB,IAAlCqb,EAAK+J,OAAOoM,SAAShsB,SACrB6V,IAAAA,EAAK+J,OAAOrG,QAAU1D,EAAK+J,OAAO5E,UAClCnF,EAAKoN,kBAAkBxX,UAAUC,IAAImK,EAAK+J,OAAOrG,OAAS,SAAW,UACjE1D,EAAK+J,OAAOrG,UACPwc,GAAgBlgB,EAAKpd,QAAQmD,WAC9Bia,EAAKpd,QAAQmD,WAAWC,aAAaga,EAAKoN,kBAAmBpN,EAAK+O,OAAO9oB,kBAC3CtB,IAAzBqb,EAAK+J,OAAOoM,UACjBnW,EAAK+J,OAAOoM,SAASjd,YAAY8G,EAAKoN,oBAE1CpN,EAAK+J,OAAO5E,QAAQ,CAChB5e,IAAAA,EAAUC,EAAc,MAAO,qBAC/BwZ,EAAKpd,QAAQmD,YACbia,EAAKpd,QAAQmD,WAAWC,aAAaO,EAASyZ,EAAKpd,SACvD2D,EAAQ2S,YAAY8G,EAAKpd,SACrBod,EAAK4B,UACLrb,EAAQ2S,YAAY8G,EAAK4B,UAC7Brb,EAAQ2S,YAAY8G,EAAKoN,mBAG5BpN,EAAK+J,OAAO5E,QAAWnF,EAAK+J,OAAOrG,cACV/e,IAAzBqb,EAAK+J,OAAOoM,SACPnW,EAAK+J,OAAOoM,SACZp0B,OAAON,SAAS2xB,MAAMla,YAAY8G,EAAKoN,mBAtZ7CiS,GA0OCc,WAQDngB,GAPAA,EAAK+J,OAAO1E,MACX,CAAA,OAAQ,QAAS,SAAU,SAASwG,QAAQ,SAAU8E,GACnDtrB,MAAMpD,UAAU4pB,QAAQ1pB,KAAK6d,EAAKpd,QAAQuc,iBAAiB,SAAWwR,EAAM,KAAM,SAAUxW,GACjF4C,OAAAA,EAAK5C,EAAI,QAAS6F,EAAK2Q,QAItC3Q,EAAKoQ,UAy9CJgQ,WACDC,IAAAA,EAAYrgB,EAAK+J,OAAOlH,WACtB7C,EAAK+J,OAAO/F,WACR,OACA,iBACJ,OACNhE,EAAK6c,YAAcr2B,EAAc,QAASwZ,EAAKoO,MAAM3nB,UAAY,qBACjEuZ,EAAK6c,YAAYhsB,KAAOmP,EAAKoO,MAAMrnB,aAAa,SAAW,MAC3DiZ,EAAK6c,YAAY5K,SAAW,EAC5BjS,EAAK6c,YAAYp3B,KAAO46B,EACxBrgB,EAAK6c,YAAYhqB,SAAWmN,EAAKoO,MAAMvb,SACvCmN,EAAK6c,YAAYkC,SAAW/e,EAAKoO,MAAM2Q,SACvC/e,EAAK6c,YAAYiC,YAAc9e,EAAKoO,MAAM0Q,YAC1C9e,EAAK6d,gBACa,mBAAdwC,EACM,gBACc,SAAdA,EACI,QACA,QACVrgB,EAAKgO,cAAcnlB,OAAS,IAC5BmX,EAAK6c,YAAYtlB,aAAeyI,EAAK6c,YAAYh5B,MAAQmc,EAAKoK,WAAWpK,EAAKgO,cAAc,GAAIhO,EAAK6d,kBAErG7d,EAAK+J,OAAOwF,UACZvP,EAAK6c,YAAYvsB,IAAM0P,EAAKoK,WAAWpK,EAAK+J,OAAOwF,QAAS,UAC5DvP,EAAK+J,OAAO6F,UACZ5P,EAAK6c,YAAYnsB,IAAMsP,EAAKoK,WAAWpK,EAAK+J,OAAO6F,QAAS,UAChE5P,EAAKoO,MAAM3oB,KAAO,cACId,IAAlBqb,EAAK4B,WACL5B,EAAK4B,SAASnc,KAAO,UACrB,IACIua,EAAKoO,MAAMroB,YACXia,EAAKoO,MAAMroB,WAAWC,aAAaga,EAAK6c,YAAa7c,EAAKoO,MAAMnoB,aAExE,MAAO4jB,IACP9M,EAAKiD,EAAK6c,YAAa,SAAU,SAAUr7B,GACvCwe,EAAKoD,QAAQ5hB,EAAEmY,OAAO9V,OAAO,EAAOmc,EAAK6d,iBACzChN,GAAa,YACbA,GAAa,aA7/CbuP,OADApgB,CAIAsgB,IAAAA,EAAkBxa,EAASsT,GAAU,IACzCpZ,EAAKkP,iBAAmBpJ,EAAS8K,EAAe/D,GAC5C7M,EAAKwN,gBAAkB,oBAAoB/f,KAAKsU,UAAUC,YAC1DjF,EAAKiD,EAAKwN,cAAe,YAAa,SAAUhsB,GACnB,UAArBwe,EAAK+J,OAAOlG,MACZ2O,GAAYhxB,EAAEmY,UAE1BoD,EAAKhb,OAAON,SAAS2xB,KAAM,UAAW9O,IACjCtE,EAAK+J,OAAOrG,QAAW1D,EAAK+J,OAAO5E,QACpCpI,EAAKhb,OAAQ,SAAUu+B,QACC37B,IAAxB5C,OAAOw+B,aACPxjB,EAAKhb,OAAON,SAAU,aAAc20B,GAEpCrZ,EAAKhb,OAAON,SAAU,YAAaivB,EAAQ0F,IAC/CrZ,EAAKhb,OAAON,SAAU,QAAS20B,EAAe,CAAEoK,SAAS,KAC1B,IAA3BxgB,EAAK+J,OAAO7H,aACZnF,EAAKiD,EAAK+O,OAAQ,QAAS/O,EAAK6X,MAChC9a,EAAKiD,EAAK+O,OAAQ,YAAa2B,EAAQ1Q,EAAK6X,aAErBlzB,IAAvBqb,EAAKwN,gBACLzQ,EAAKiD,EAAKsV,SAAU,YAAa5E,EAAQoN,KACzC/gB,EAAKiD,EAAKsV,SAAU,CAAC,QAAS,aAAcjF,GAC5CtT,EAAKiD,EAAKwN,cAAe,YAAakD,EAAQsH,WAEvBrzB,IAAvBqb,EAAK8W,oBACkBnyB,IAAvBqb,EAAK4O,oBACgBjqB,IAArBqb,EAAK0O,cAIL3R,EAAKiD,EAAK8W,cAAe,CAAC,aAAc/I,GACxChR,EAAKiD,EAAK8W,cAAe,OAAQ/I,EAAY,CAAEyS,SAAS,IACxDzjB,EAAKiD,EAAK8W,cAAe,YAAapG,EAAQa,IAC9CxU,EAAK,CAACiD,EAAK0O,YAAa1O,EAAK4O,eAAgB,CAAC,QAAS,SANzC,SAAUptB,GACbA,OAAAA,EAAEmY,OAAOtH,gBAMO1N,IAAvBqb,EAAKoP,eACLrS,EAAKiD,EAAKoP,cAAe,QAAS,WAAqBpP,OAAAA,EAAKoP,eAAiBpP,EAAKoP,cAAc/c,gBAClF1N,IAAdqb,EAAKe,MACLhE,EAAKiD,EAAKe,KAAM,YAAa2P,EAAQ,SAAUlvB,GAC3CusB,EAAWvsB,GACXovB,SA5RZuP,IACIngB,EAAKgO,cAAcnlB,QAAUmX,EAAK+J,OAAO/F,cACrChE,EAAK+J,OAAOlH,YACZiN,EAAiB9P,EAAK+J,OAAO/F,WACvBhE,EAAKyP,uBAAyBzP,EAAK+J,OAAOwF,aAC1C5qB,GAEVsqB,IAAY,IAEhB/B,IACAlN,EAAKqc,cACDrc,EAAKgO,cAAcnlB,OAAS,GAAKmX,EAAK+J,OAAO/F,WAC7Cyc,IAAAA,EAAW,iCAAiChzB,KAAKsU,UAAUC,YAS1DhC,EAAKoQ,UAAYqQ,GAClBpH,KAEJxI,GAAa,WA+2DjBnR,GACOM,EAGF0gB,SAAAA,EAAWC,EAAU5W,GAMrB,IAJD6W,IAAAA,EAAQv7B,MAAMpD,UAAU+F,MACvB7F,KAAKw+B,GACLr7B,OAAO,SAAUizB,GAAYA,OAAAA,aAAa9gB,cAC3CiF,EAAY,GACP9T,EAAI,EAAGA,EAAIg4B,EAAM/3B,OAAQD,IAAK,CAC/B2Q,IAAAA,EAAOqnB,EAAMh4B,GACb,IACI2Q,GAAsC,OAAtCA,EAAKxS,aAAa,gBAClB,cACoBpC,IAApB4U,EAAKmnB,aACLnnB,EAAKmnB,WAAWvjB,UAChB5D,EAAKmnB,gBAAa/7B,GAEtB4U,EAAKmnB,WAAa5T,EAAkBvT,EAAMwQ,GAAU,IACpDrN,EAAU7K,KAAK0H,EAAKmnB,YAExB,MAAOl/B,GACH4F,QAAQy5B,MAAMr/B,IAGfkb,OAAqB,IAArBA,EAAU7T,OAAe6T,EAAU,GAAKA,EAGxB,oBAAhBjF,aACmB,oBAAnB0G,gBACa,oBAAbD,WAEPC,eAAelc,UAAUie,UAAYhC,SAASjc,UAAUie,UAAY,SAAU6J,GACnE2W,OAAAA,EAAW,KAAM3W,IAE5BtS,YAAYxV,UAAUie,UAAY,SAAU6J,GACjC2W,OAAAA,EAAW,CAAC,MAAO3W,KAI9B7J,IAAAA,EAAY,SAAU1c,EAAUumB,GAC5B,MAAoB,iBAAbvmB,EACAk9B,EAAW3+B,OAAON,SAAS0d,iBAAiB3b,GAAWumB,GAEzDvmB,aAAoBs9B,KAClBJ,EAAW,CAACl9B,GAAWumB,GAGvB2W,EAAWl9B,EAAUumB,IAgC7B7J,OA5BPA,EAAU8M,cAAgB,GAC1B9M,EAAUC,MAAQ,CACdlS,GAAIkT,EAAS,GAAImE,GACNnE,QAAAA,EAAS,GAAImE,IAE5BpF,EAAU6gB,SAAW,SAAU9W,GAC3B/J,EAAUC,MAAV,QAA6BgB,EAAS,GAAIjB,EAAUC,MAAV,QAA4B8J,IAE1E/J,EAAU8gB,YAAc,SAAUjX,GAC9B7J,EAAU8M,cAAgB7L,EAAS,GAAIjB,EAAU8M,cAAejD,IAEpE7J,EAAUgL,UAAYV,EAAiB,IACvCtK,EAAUkK,WAAaR,EAAoB,IAC3C1J,EAAU4L,aAAeA,EAEH,oBAAXmV,aAA+C,IAAdA,OAAOtV,KAC/CsV,OAAOtV,GAAGzL,UAAY,SAAU6J,GACrB2W,OAAAA,EAAW,KAAM3W,KAIhCve,KAAKvJ,UAAUi/B,QAAU,SAAUxT,GACxB,OAAA,IAAIliB,KAAK,KAAKgB,cAAe,KAAKC,WAAY,KAAKC,WAA6B,iBAATghB,EAAoBxb,SAASwb,EAAM,IAAMA,KAErG,oBAAX3rB,SACPA,OAAOme,UAAYA,GAGhBA;;;;AC1iFX,IAAA,EAAA,EAAA,UAAA,IAAC,SAAUP,EAAQZ,GACE,iBAAZa,SAA0C,oBAAXC,OAAyBA,OAAOD,QAAUb,IAC9D,mBAAXe,GAAyBA,EAAOC,IAAMD,EAAOf,IACnDY,EAASA,GAAUK,MAAamhB,YAAcpiB,IAHhD,CAIC,KAAM,WAAc,aA2IboiB,OAzIEA,SAAYpX,GAEV,YADQ,IAAXA,IAAqBA,EAAS,IAC3B,SAAU9J,GACToC,IAAiB4d,EAAamB,EAAqBC,EAAnDhf,EAAa,GAoDbif,EAAS,CACT7c,cAAe,WACXxE,EAAG8J,OAAOlG,KAAO,QACjBxB,EAAapC,EAAG8J,OAAOnI,SACjB3B,EAAG8J,OAAOpI,UACV1B,EAAG8J,OAAO1H,YAEpBqC,QAAS,YA1DW,WAChBqF,GAAAA,EAAOqE,MAAO,CAKV,KAJJ6R,EACIlW,EAAOqE,iBAAiBlrB,QAClB6mB,EAAOqE,MACPrsB,OAAON,SAASo9B,cAAc9U,EAAOqE,QAG3C,YADAnO,EAAG8J,OAAOjH,aAAa,IAAIpL,MAAM,oCAGjCuI,EAAG8J,OAAO1E,OACV4a,EAAcA,EAAYpB,cAAc,sBAI5CoB,EAAchgB,EAAG8O,OAAOwS,aACZv6B,gBAAgB,MAC5Bi5B,EAAYS,gBAAa/7B,EAEzBs7B,GAAAA,EAAYp8B,MAAO,CACf+mB,IAAAA,EAAa3K,EAAGiL,UAAU+U,EAAYp8B,OACtC+mB,GACA3K,EAAG+N,cAAcnc,KAAK+Y,GAE9BqV,EAAYr5B,aAAa,eAAgB,IACzCqZ,EAAGuc,MAAMyD,EAAa,CAAC,QAAS,SAAU,WAClChgB,EAAG+N,cAAc,KACjB/N,EAAGwP,sBAAwBxP,EAAG+N,cAAc,GAC5C/N,EAAGwc,kBAAkBxc,EAAG+N,cAAc,IACtC/N,EAAG6Q,WAAW7Q,EAAG+N,cAAc,KAEnCoT,GAAsB,EACtBnhB,EAAGoW,QAAS,EACZpW,EAAG4X,UAAKlzB,EAA+B,SAApBolB,EAAO/gB,SAAsBiX,EAAG8O,OAASkR,KAEhEhgB,EAAGuc,MAAMvc,EAAG8O,OAAQ,CAAC,QAAS,SAAU,SAAUvtB,GAC9CA,EAAEI,iBACFqe,EAAGoW,QAAS,EACZpW,EAAG4X,SAEH5X,EAAG8J,OAAOrI,YACVzB,EAAGuc,MAAMyD,EAAa,UAAW,SAAUz+B,GACzB,UAAVA,EAAEsB,MACFmd,EAAGmD,QAAQ,CAACnD,EAAG+N,cAAc,GAAIiS,EAAYp8B,QAAQ,EAAMwe,GAC3D4d,EAAY3lB,WAGnByP,EAAOqE,OACRnO,EAAG8O,OAAOhpB,YACNka,EAAG8O,OAAOhpB,WAAWC,aAAai6B,EAAahgB,EAAG8O,OAAO9oB,aAU7Du7B,GACAvhB,EAAG8J,OAAOtG,qBAAqB5R,KAAKouB,GAChChgB,EAAG8J,OAAOrI,YACVzB,EAAG8O,OAAO/nB,gBAAgB,YAC1Bi5B,EAAYj5B,gBAAgB,aAG5Bi5B,EAAYr5B,aAAa,WAAY,YAEzCqZ,EAAGuc,MAAMvc,EAAG8O,OAAQ,QAAS,WACzB9O,EAAGwP,sBAAwBxP,EAAG+N,cAAc,GAC5C/N,EAAGwc,kBAAkBxc,EAAG+N,cAAc,IACtCoT,GAAsB,EACtBnhB,EAAG6Q,WAAW7Q,EAAG+N,cAAc,MAE/B/N,EAAG8J,OAAOrI,YACVzB,EAAGuc,MAAMvc,EAAG8O,OAAQ,UAAW,SAAUvtB,GACvB,UAAVA,EAAEsB,KACFmd,EAAGmD,QAAQ,CAACnD,EAAG8O,OAAOlrB,MAAOoc,EAAG+N,cAAc,KAAK,EAAM3L,KAErEpC,EAAGmD,QAAQnD,EAAG+N,eAAe,GAC7BsT,EAAO3c,cAAc1E,EAAG+N,eACxB/N,EAAGsc,cAAc1qB,KAAK,UAE1BgT,sBAAuB,WACfuc,IACAnhB,EAAG6Z,iBAAmBmG,EACtBnnB,WAAW,WACPmH,EAAG6Z,iBAAmB7Z,EAAG8O,QAC1B,KAGX7K,SAAU,WACDjE,EAAG+N,cAAcnlB,QAClBiQ,WAAW,WACHmH,EAAG+N,cAAcnlB,SAErBo3B,EAAYp8B,MAAQ,GACpBw9B,EAAa,KACd,IAEHD,GACAtoB,WAAW,WACPmnB,EAAY5mB,SACb,IAGXgL,UAAW,WACF0F,EAAOqE,OACR6R,EAAYl6B,YACRk6B,EAAYl6B,WAAWI,YAAY85B,IAE/Ctb,cAAe,SAAU8c,GACjB5X,IAAAA,EAAIC,EAAIE,EACR,GAACiW,EAAD,CAKAoB,IAHJA,GACKA,GAAcI,EAAS54B,QAAUw4B,EAAWx4B,OACvC44B,EAASz5B,QAAUq5B,GACdx4B,OAAS44B,EAAS54B,OAAQ,CACjC64B,IAAAA,EAAkBD,EAAS,GAC3BE,EAAWP,EACT,CAACC,EAAW,GAAIK,GAChB,CAACA,EAAiBL,EAAW,IACnCphB,EAAGmD,QAAQue,GAAU,GACrBN,EAAaM,EAAS35B,QAEwD8hB,GAAlFD,EAAK5J,EAAG+N,cAAc5a,IAAI,SAAU3H,GAAYwU,OAAAA,EAAGmK,WAAW3e,EAAG4W,MAAyB,GAAIpC,EAAG8O,OAAOlrB,WAAe,IAAPimB,EAAgB,GAAKA,EAAIE,EAAKH,EAAG,GAAIoW,EAAYp8B,WAAe,IAAPmmB,EAAgB,GAAKA,KAG/LsX,OAAAA;;ACvBjB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,gBAAA,EApHA,IAAA,EAAA,QAAA,0BACA,EAAA,EAAA,QAAA,cACA,EAAA,EAAA,QAAA,uCACA,EAAA,QAAA,yBAiHA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EA/GA,IAAMM,EAAoB,SAAAxxB,GACxB,MAAA,CACE,SACA,UACA,OACA,SACA,MACA,OACA,OACA,SACA,WACA,UACA,SACA,WACAA,IAEEyxB,EA+FN,WA9Fc1nB,SAAAA,EAAAA,GAAI,EAAA,KAAA,GACTxT,KAAAA,GAAKk7B,EAAW5iB,QAChB9E,KAAAA,GAAKA,EACL2nB,KAAAA,QAAU3nB,EAAG0kB,cAAuB,SAAA,OAAA,KAAKl4B,GAA9C,YACKo7B,KAAAA,UAAY5nB,EAAG0kB,cAAuB,SAAA,OAAA,KAAKl4B,GAAhD,cACKq7B,KAAAA,WAAa,KACbtiB,KAAAA,OAwFT,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,OAjFS,MAAA,WACAuiB,KAAAA,qBAgFT,CAAA,IAAA,sBA7EsBC,MAAAA,SAAAA,GACZ1a,IAAAA,EAAYoa,EAAkBM,EAAS9Q,cACvC+Q,EAAiB3a,GAAAA,OAAAA,EAAa0a,KAAAA,OAAAA,EAAShR,aAChBgR,EAAS9U,kBAAkByR,cACtD,4BAEmBlK,UAAYwN,IAuErC,CAAA,IAAA,cApEcD,MAAAA,SAAAA,GACFtgB,IAAAA,EAAasgB,EAAbtgB,SACA/d,EAAUq+B,EAAStgB,SAAnB/d,MACR+d,EAAS/d,MAAQA,EAAMu+B,oBAAoB96B,QAAQ,iBAAkB,OAiEzE,CAAA,IAAA,eA9DiB,MAAA,WAAA,IAAA,EAAA,KACP8J,EAAO,KAAK+I,GAAG0kB,cAAuB,SAAA,OAAA,KAAKl4B,GAAjD,WACMuK,EAAO,KAAKiJ,GAAG0kB,cAAuB,SAAA,OAAA,KAAKl4B,GAAjD,WACMsC,EAAQwwB,KAAKC,MAAM,KAAKvf,GAAGyf,QAAQ3wB,QAAU,GACX,EAAA,KAAKkR,GAAGyf,QAAxC/V,EAAAA,EAAAA,KAAMkH,EAAAA,EAAAA,OAAQsX,EAAAA,EAAAA,cAChBC,EAAW,aAAc,KAAKnoB,GAAGyf,QAEjC7P,EAAS,CACbpG,OAAQvD,EADK,QAEbiC,WAAY,QACZV,UAAWoJ,EACXnJ,UAAU,EACVsd,YAAaj2B,EACb4a,KAAAA,EACAH,OAAQ4e,EACRve,UAAW3S,EAAOA,EAAKmxB,UAAY,IACnCvd,UAAW9T,EAAOA,EAAKqxB,UAAY,IACnC/d,OAAQ,WAAM,OAAA,EAAKrK,GAAGvE,UAAUC,IAAI,yBACpCsO,QAAS,WAAM,OAAA,EAAKhK,GAAGvE,UAAUE,OAAO,yBACxC4O,QAAS,CACP,SAACsJ,EAAewU,EAASC,GAAa,OAAA,EAAKC,oBAAoBD,IAC/D,SAACzU,EAAewU,EAASC,GAAa,OAAA,EAAKE,YAAYF,KAEzDle,cAAe,SAACyJ,EAAewU,EAASC,GAAa,OAAA,EAAKC,oBAAoBD,IAC9Eve,SAAU,SAAC8J,EAAewU,EAASC,GAAa,OAAA,EAAKE,YAAYF,KAY5D1Y,OATHsY,IACFtY,EAAOjF,QAAU,CACf,IAAI8d,EAAJ,QAAgB,CACdxU,MAAOiU,EACPr5B,SAAU,WAKT+gB,IA0BX,CAAA,IAAA,mBAvBqB,MAAA,WACX8Y,IAAAA,EAAU,KAAK1oB,GAAG0kB,cAAuB,SAAA,OAAA,KAAKl4B,GAApD,cACMm8B,EAAQD,EAAQhE,cAAuB,SAAA,OAAA,KAAKl4B,GAAlD,YACMo8B,EAAKF,EAAQhE,cAAuB,SAAA,OAAA,KAAKl4B,GAA/C,SACQkd,EAAS,KAAK1J,GAAGyf,QAAjB/V,KACFkG,EAAS,KAAKiZ,eAEdhB,GAAa,EAAU,EAAA,SAAA,KAAKF,QAAS/X,GAE3CiY,EAAWiB,aAAeH,EAC1Bd,EAAWkB,UAAYH,EAGvBD,EAAMnoB,iBAAiB,QAASqnB,EAAWhL,OAC3C+L,EAAGpoB,iBAAiB,QAASqnB,EAAWjL,OAG3B,WAATlT,GACFme,EAAW5U,kBAAkBlU,YAAY2pB,MAK/C,CAAA,CAAA,IAAA,QArFiB,MAAA,WACN,MAAA,iBAoFX,EAAA,GAAA,QAAA,WAAA,GAAA,EAAQhB,EAAAA,SAAAA;;AC9GR,SAAS/b,EAAS/N,EAAMgO,EAAMC,GACxBC,IAAAA,EACG,OAAA,WAAsB/d,IAAAA,IAAAA,EAAAA,UAAAA,OAAAA,EAAM,IAAA,MAAA,GAAA,EAAA,EAAA,EAAA,EAAA,IAANA,EAAM,GAAA,UAAA,GAC3Bge,IAAAA,EAAU,KAKVid,EAAUnd,IAAcC,EAC9BE,aAAaF,GACbA,EAAUnN,WANI,WACZmN,EAAU,KACLD,GAAWjO,EAAKxP,MAAM2d,EAAShe,IAIV6d,GACxBod,GAASprB,EAAKxP,MAAM2d,EAAShe,IAUrC,SAASk7B,EAAUC,EAAOC,GAGjBC,OADMD,EAAMD,EAAQ,IAAM,GAAKA,EAAQ,IAAM,GAAK,EAD3C,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GACqCr+B,KAAKsL,IAAI+yB,EAAQ,GAAI,KAI1F,IAAMG,EAAM,SAAAC,GAAKA,OAAAA,EAAI,GACfC,EAAM,SAAAD,GAAKA,OAAAA,EAAI,GACfE,EAAM,SAAAF,GAAK,OAACA,GACZG,EAAS,SAAAH,GAAK,QAAEA,GAChBI,EAAW,WAAIC,IAAAA,IAAAA,EAAAA,UAAAA,OAAAA,EAAJ,IAAA,MAAA,GAAA,EAAA,EAAA,EAAA,EAAA,IAAIA,EAAJ,GAAA,UAAA,GAAY,OAAA,SAAA57B,GAAQ47B,OAAAA,EAAIjY,QAAQ,SAAAF,GAAMA,OAAAA,EAAGpjB,MAAML,OAEhE2X,OAAOD,QAAU,CACfkG,SAAAA,EACAsd,UAAAA,EACAI,IAAAA,EACAE,IAAAA,EACAC,IAAAA,EACAC,OAAAA,EACAC,SAAAA;;AC4FF,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EA1IA,IAAA,EAAA,QAAA,uBACA,EAAA,QAAA,yBAyIA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAvIME,IAAAA,EAuIN,WAtIc5pB,SAAAA,EAAAA,GAAI,EAAA,KAAA,GACRxT,IAAAA,EAAKo9B,EAAQ9kB,QACd9E,KAAAA,GAAKA,EACL2nB,KAAAA,QAAU3nB,EAAG0kB,cAAuBl4B,SAAAA,OAAAA,EAAzC,YACKq9B,KAAAA,UAAY7pB,EAAG0kB,cAAuBl4B,SAAAA,OAAAA,EAA3C,cACKs9B,KAAAA,SAAW9pB,EAAG0kB,cAAuBl4B,SAAAA,OAAAA,EAA1C,UACKu9B,KAAAA,SAAW/pB,EAAG0kB,cAAuBl4B,SAAAA,OAAAA,EAA1C,UACK9C,KAAAA,MAAQ,KAAKi+B,QAAQj+B,OAAS,EAC9BsgC,KAAAA,MAAQhqB,EAAGyf,QAAQuK,OAAS,GAC5BC,KAAAA,QAAU3K,KAAKC,MAAMvf,EAAGyf,QAAQwK,UAAY,GAC5CvzB,KAAAA,KAAOsJ,EAAGyf,QAAQ/oB,MAAQ,EAC1BP,KAAAA,IAAM6J,EAAGyf,QAAQtpB,KAAO,EACxBI,KAAAA,IAAMyJ,EAAGyf,QAAQlpB,KAAO,IACxB/J,KAAAA,GAAKwT,EAAGyf,QAAQjzB,GAChB+Y,KAAAA,OAwHT,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,OAjHS,MAAA,WACA2kB,KAAAA,oBACAC,KAAAA,wBA+GT,CAAA,IAAA,oBA5GsB,MAAA,WACbC,KAAAA,qBAAuB,KAAKA,qBAAqBxnB,KAAK,MACtDynB,KAAAA,qBAAuB,KAAKA,qBAAqBznB,KAAK,MACtD0nB,KAAAA,YAAc,KAAKA,YAAY1nB,KAAK,MACpC2nB,KAAAA,aAAe,KAAKA,aAAa3nB,KAAK,QAwG/C,CAAA,IAAA,sBArGwB,MAAA,WACfknB,KAAAA,SAAStpB,iBAAiB,QAAS,KAAK6pB,sBACxCN,KAAAA,SAASvpB,iBAAiB,QAAS,KAAK4pB,sBACxCpqB,KAAAA,GAAGQ,iBAAiB,mBAAoB,KAAK+pB,cAC7CvqB,KAAAA,GAAGQ,iBAAiB,gBAAiB,KAAK8pB,eAiGnD,CAAA,IAAA,WA9Fa,MAAA,WACL,OAAwB,IAAxB,KAAKL,QAAQv7B,OACL,GAAA,OAAA,KAAKhF,MAAS,KAAA,QAAA,EAAU,EAAA,WAAA,KAAKA,MAAO,KAAKugC,UAG3C,GAAA,OAAA,KAAKvgC,MAAS,KAAA,OAAA,KAAKsgC,SAyFjC,CAAA,IAAA,uBAtFuB3iC,MAAAA,SAAAA,GAGf,GAFJA,EAAEI,kBAEE,KAAKqiC,SAASpxB,SAAd,CAEEhP,IAAAA,EAAQqO,SAAS,KAAKrO,MAAO,IAC7BgN,EAAOqB,SAAS,KAAKrB,KAAM,IAC3BH,EAAMwB,SAAS,KAAKxB,IAAK,IAE3B8d,EAAW3qB,EAAQgN,EAEnB2d,GAAY9d,IACd8d,EAAW9d,EACNuzB,KAAAA,SAASr9B,aAAa,YAAY,IAGpC/C,KAAAA,MAAQ2qB,EACRsT,KAAAA,QAAQj+B,MAAQ2qB,EAChBwV,KAAAA,UAAU/8B,YAAcunB,EACxB0V,KAAAA,SAASrxB,UAAW,EAEnBlQ,IAAAA,EAAQ,IAAIgiC,YAAY,oBAAqB,CACjDjiC,SAAS,EACTkiC,OAAQ,CACNj+B,GAAI,KAAKA,GACTk+B,SAAUrW,EACVsW,SAAU,KAAKpgC,cAGdyV,KAAAA,GAAGnX,cAAcL,MAyD1B,CAAA,IAAA,uBAtDuBnB,MAAAA,SAAAA,GAGf,GAFJA,EAAEI,kBAEE,KAAKsiC,SAASrxB,SAAd,CAEEhP,IAAAA,EAAQqO,SAAS,KAAKrO,MAAO,IAC7BgN,EAAOqB,SAAS,KAAKrB,KAAM,IAC3BP,EAAM4B,SAAS,KAAK5B,IAAK,IAE3Bke,EAAW3qB,EAAQgN,EAEnB2d,GAAYle,IACdke,EAAWle,EACN4zB,KAAAA,SAASt9B,aAAa,YAAY,IAGpC/C,KAAAA,MAAQ2qB,EACRsT,KAAAA,QAAQj+B,MAAQ2qB,EAChBwV,KAAAA,UAAU/8B,YAAcunB,EACxByV,KAAAA,SAASpxB,UAAW,EAEnBlQ,IAAAA,EAAQ,IAAIgiC,YAAY,oBAAqB,CACjDjiC,SAAS,EACTkiC,OAAQ,CACNj+B,GAAI,KAAKA,GACTk+B,SAAUrW,EACVsW,SAAU,KAAKpgC,cAGdyV,KAAAA,GAAGnX,cAAcL,MAyB1B,CAAA,IAAA,eAtBiB,MAAA,WACPkB,IAAAA,EAAQqO,SAAS,KAAKrO,MAAO,IAC7BlB,EAAQ,IAAIgiC,YAAY,iBAAkB,CAC9CjiC,SAAS,EACTkiC,OAAQ,CACNj+B,GAAI,KAAKA,GACTk+B,SAAUhhC,EACVihC,SAAU,KAAKpgC,cAIdyV,KAAAA,GAAGnX,cAAcL,KAW1B,CAAA,IAAA,cARgB,MAAA,WACPkB,KAAAA,MAAQ,KAAKyM,IACb0zB,KAAAA,UAAU/8B,YAAc,KAAKqJ,IAC7B4zB,KAAAA,SAASt9B,aAAa,YAAY,GAClCq9B,KAAAA,SAASj9B,gBAAgB,eAIlC,CAAA,CAAA,IAAA,QArHiB,MAAA,WACN,MAAA,cAoHX,EAAA,GAAA,QAAA,QAAA,GAAA,EAAQ+8B,EAAAA,SAAAA;;AC3ER,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EA/DA,IAAA,EAAA,QAAA,uBACA,EAAA,QAAA,yBA8DA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,mDAAA,SAAA,EAAA,GAAA,GAAA,OAAA,YAAA,OAAA,IAAA,uBAAA,OAAA,UAAA,SAAA,KAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,CAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,EAAA,QAAA,EAAA,EAAA,OAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,GAAA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EA5DMgB,IAAAA,EA4DN,WA3Dc5qB,SAAAA,EAAAA,GAAI,EAAA,KAAA,GACTxT,KAAAA,GAAKo+B,EAAK9lB,QACV9E,KAAAA,GAAKA,EACL6qB,KAAAA,UAAY7qB,EAAGgF,iBAA0B,SAAA,OAAA,KAAKxY,GAAnD,WACK+Y,KAAAA,OAuDT,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,OAhDS,MAAA,WACAulB,KAAAA,qBACAX,KAAAA,wBA8CT,CAAA,IAAA,qBA3CuB,MAAA,WACdY,KAAAA,YAAc,KAAKA,YAAYnoB,KAAK,MACpCooB,KAAAA,YAAc,KAAKA,YAAYpoB,KAAK,QAyC7C,CAAA,IAAA,sBAtCwB,MAAA,WAAA,IAAA,EAAA,KACfioB,KAAAA,UAAUnZ,QAAQ,SAAAxY,GACrBA,EAAKsH,iBAAiB,aAAc,EAAKuqB,aACzC7xB,EAAKsH,iBAAiB,aAAc,EAAKwqB,aACzC9xB,EAAKsH,iBAAiB,UAAW,EAAKuqB,aACtC7xB,EAAKsH,iBAAiB,WAAY,EAAKwqB,iBAiC7C,CAAA,IAAA,cA7Bc3jC,MAAAA,SAAAA,GACJ4jC,IAAAA,EAAc5jC,EAAE6jC,cAChBC,IAAeF,EAAYvG,cAAc,CAAU,SAAA,OAAA,KAAKl4B,GAAzC,gBAEjB,EAAI2+B,EAAAA,KAAAA,KAGJ,EAAA,KAAKN,WACN1/B,OAAO,SAAA+N,GAAQA,OAAAA,IAAS+xB,IACxBvZ,QAAQ,SAAAxY,GAAQA,OAAAA,EAAKuC,UAAUE,OAAO,0BAGzCsvB,EAAYxvB,UAAUC,IAAI,2BAiB9B,CAAA,IAAA,cAdcrU,MAAAA,SAAAA,GACJ4jC,IAAAA,EAAc5jC,EAAE6jC,cAGtBD,EAAYxvB,UAAUC,IAAI,wBAG1BiD,WAAW,WACTssB,EAAYxvB,UAAUE,OAAO,wBAC7BsvB,EAAYxvB,UAAUE,OAAO,yBAC5B,QAIP,CAAA,CAAA,IAAA,QApDiB,MAAA,WACN,MAAA,WAmDX,EAAA,GAAA,QAAA,KAAA,GAAA,EAAQivB,EAAAA,SAAAA;;AC7BR,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,EAlCA,IAAA,EAAA,QAAA,yBAkCA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAhCMQ,IAAAA,EAgCN,WA/BcprB,SAAAA,EAAAA,GAAI,EAAA,KAAA,GACTA,KAAAA,GAAKA,EACLqrB,KAAAA,cAAgBrrB,EAAGsrB,cACnB/lB,KAAAA,OA4BT,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,OArBS,MAAA,WACA2kB,KAAAA,oBACAC,KAAAA,sBAEAkB,KAAAA,cAAc5vB,UAAUC,IAAI,2BAiBrC,CAAA,IAAA,oBAdsB,MAAA,WACb6vB,KAAAA,aAAe,KAAKA,aAAa3oB,KAAK,QAa/C,CAAA,IAAA,sBAVwB,MAAA,WACf5C,KAAAA,GAAGQ,iBAAiB,oBAAqB,KAAK+qB,gBASvD,CAAA,IAAA,eANiB,MAAA,WACRF,KAAAA,cAAc5vB,UAAU0nB,OAAO,sBAC/BnjB,KAAAA,GAAGvE,UAAU0nB,OAAO,2BAI7B,CAAA,CAAA,IAAA,QAzBiB,MAAA,WACN,MAAA,iBAwBX,EAAA,GAAA,QAAA,UAAA,GAAA,EAAQiI,EAAAA,SAAAA;;ACAR,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,sBAAA,EAlCA,IAAA,EAAA,QAAA,uBACA,EAAA,QAAA,yBAiCA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EA/BMI,IAAAA,EA+BN,WA9BcxrB,SAAAA,EAAAA,GAAI,EAAA,KAAA,GACTA,KAAAA,GAAKA,EACLyrB,KAAAA,gBAAkBnkC,SAASokC,eAAe1rB,EAAGyf,QAAQyI,eACrD3iB,KAAAA,OA2BT,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,OApBS,MAAA,WACA2kB,KAAAA,oBACAC,KAAAA,wBAkBT,CAAA,IAAA,oBAfsB,MAAA,WACbwB,KAAAA,aAAc,EAAS,EAAA,UAAA,KAAKA,YAAY/oB,KAAK,MAAO,MAc7D,CAAA,IAAA,sBAXwB,MAAA,WACf5C,KAAAA,GAAGQ,iBAAiB,QAAS,KAAKmrB,eAU3C,CAAA,IAAA,cAPgB,MAAA,WACR,KAAKF,iBACFA,KAAAA,gBAAgB5iC,cAAc,IAAIhB,MAAM,yBAKnD,CAAA,CAAA,IAAA,QAxBiB,MAAA,WACN,MAAA,yBAuBX,EAAA,GAAA,QAAA,iBAAA,GAAA,EAAQ2jC,EAAAA,SAAAA;;AC6GR,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,qBAAA,EA/IA,IAAA,EAAA,QAAA,uBACA,EAAA,QAAA,yBA8IA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,mDAAA,SAAA,EAAA,GAAA,GAAA,OAAA,YAAA,OAAA,IAAA,uBAAA,OAAA,UAAA,SAAA,KAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,CAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,EAAA,QAAA,EAAA,EAAA,OAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,GAAA,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wDAAA,SAAA,EAAA,EAAA,GAAA,GAAA,OAAA,YAAA,OAAA,IAAA,uBAAA,OAAA,UAAA,SAAA,KAAA,GAAA,CAAA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAAA,IAAA,IAAA,EAAA,EAAA,EAAA,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,QAAA,EAAA,KAAA,EAAA,QAAA,GAAA,EAAA,SAAA,GAAA,GAAA,IAAA,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,GAAA,OAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EA5IMI,IAAAA,EA4IN,WA3Ic5rB,SAAAA,EAAAA,GAAI,EAAA,KAAA,GACRxT,IAAAA,EAAKo/B,EAAgB9mB,QACtB9E,KAAAA,GAAKA,EACL2nB,KAAAA,QAAU3nB,EAAG0kB,cAAuBl4B,SAAAA,OAAAA,EAAzC,YACKq/B,KAAAA,WAAa7rB,EAAG0kB,cAAuBl4B,SAAAA,OAAAA,EAA5C,UACKo7B,KAAAA,UAAY5nB,EAAG0kB,cAAuBl4B,SAAAA,OAAAA,EAA3C,cACKs/B,KAAAA,KAAO9rB,EAAG0kB,cAAuBl4B,SAAAA,OAAAA,EAAtC,SACKu/B,KAAAA,QAAU/rB,EAAG0kB,cAAuBl4B,SAAAA,OAAAA,EAAzC,YACKw/B,KAAAA,WAAahsB,EAAGgF,iBAArB,kBACKinB,KAAAA,UAAYjsB,EAAG0kB,cAAuBl4B,SAAAA,OAAAA,EAA3C,cACK0/B,KAAAA,WAAalsB,EAAGyf,QAAQyM,WACxBjC,KAAAA,QAAU3K,KAAKC,MAAMvf,EAAGyf,QAAQwK,SAChCkC,KAAAA,YAAc,gBAAiBnsB,EAAGyf,QAClC2M,KAAAA,MAAQ,IAAIC,IACZ9mB,KAAAA,OACA+mB,KAAAA,YA4HT,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,OArHS,MAAA,WACApC,KAAAA,oBACAC,KAAAA,sBAGA6B,KAAAA,WAAWta,QAAQ,SAAAxB,GAAKA,OAAAA,EAAErnB,cAAc,IAAIhB,MAAM,yBAgH3D,CAAA,IAAA,oBA7GsB,MAAA,WACb0kC,KAAAA,YAAc,KAAKA,YAAY3pB,KAAK,MACpC4pB,KAAAA,oBAAsB,KAAKA,oBAAoB5pB,KAAK,MACpD6pB,KAAAA,eAAiB,KAAKA,eAAe7pB,KAAK,MAC1C8pB,KAAAA,oBAAsB,KAAKA,oBAAoB9pB,KAAK,MACpD+pB,KAAAA,iBAAmB,KAAKA,iBAAiB/pB,KAAK,MAC9CgqB,KAAAA,cAAgB,KAAKA,cAAchqB,KAAK,MACxCiqB,KAAAA,eAAiB,KAAKA,eAAejqB,KAAK,MAC1CkqB,KAAAA,aAAe,KAAKA,aAAalqB,KAAK,MACtCmqB,KAAAA,aAAe,KAAKA,aAAanqB,KAAK,QAoG/C,CAAA,IAAA,sBAjGwB,MAAA,WACf5C,KAAAA,GAAGQ,iBAAiB,oBAAqB,KAAKksB,qBAC9C1sB,KAAAA,GAAGQ,iBAAiB,oBAAqB,KAAKksB,qBAC9C1sB,KAAAA,GAAGQ,iBAAiB,iBAAkB,KAAKksB,qBAC3CX,KAAAA,QAAQvrB,iBAAiB,QAAS,KAAKmsB,kBACvCb,KAAAA,KAAKtrB,iBAAiB,QAAS,KAAKosB,eACpCf,KAAAA,WAAWrrB,iBAAiB,QAAS,KAAKgsB,qBAC1CX,KAAAA,WAAWrrB,iBAAiB,WAAY,KAAKisB,gBAC7C7E,KAAAA,UAAUpnB,iBAAiB,QAAS,KAAKgsB,uBAyFlD,CAAA,IAAA,YAtFc,MAAA,WAEJQ,IAAAA,EAAQ9hC,MAAMmyB,KAAK,KAAK+O,MAAO,SAAA,GAAW9C,OAAX,EAAA,EAAA,GAAA,GAAaoB,WAAU18B,OAAO,SAACi0B,EAAG9oB,GAAM8oB,OAAAA,EAAI9oB,GAAG,GAG/EwuB,KAAAA,QAAQj+B,MAAQ41B,KAAKE,UAAc,EAAA,KAAK4M,QAGrB,UAApB,KAAKF,WACqB,IAAxB,KAAKjC,QAAQv7B,OACVm9B,KAAAA,WAAWniC,MAAkB,IAAVsjC,EAAc,GAAQA,GAAAA,OAAAA,EAAS,KAAA,QAAA,EAAUA,EAAAA,WAAAA,EAAO,KAAK/C,UAExE4B,KAAAA,WAAWniC,MAAQsjC,EAGrBnB,KAAAA,WAAWniC,MAAQwB,MAAMmyB,KAAK,KAAK+O,OACrCnzB,IAAI,SAAA,GAAWqwB,OAAX,EAAA,EAAA,GAAA,KACJn+B,OAAO,SAAAm+B,GAAKA,OAAAA,EAAEoB,SAAW,IACzBzxB,IAAI,SAAAqwB,GAAKA,OAAAA,EAAEqB,WACXva,KAAK,MAIN4c,EAAQ,EACLjB,KAAAA,QAAQtwB,UAAUC,IAAI,sCAEtBqwB,KAAAA,QAAQtwB,UAAUE,OAAO,wCA4DpC,CAAA,IAAA,cAxD0C,MAAA,SAAA,GAA1BnP,IAAAA,EAAAA,EAAAA,GAAIk+B,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,SACrByB,KAAAA,MAAMtiC,IAAI0C,EAAI,CAAEk+B,SAAAA,EAAUC,SAAAA,IAC1B2B,KAAAA,cAsDT,CAAA,IAAA,mBAnDqB,MAAA,WACZtsB,KAAAA,GAAGvE,UAAUC,IAAI,sCAkD1B,CAAA,IAAA,eA/CiB,MAAA,WACRsE,KAAAA,GAAGvE,UAAUE,OAAO,mCA8C7B,CAAA,IAAA,eA3CiB,MAAA,WACRqE,KAAAA,GAAGvE,UAAUC,IAAI,mCA0C1B,CAAA,IAAA,iBAvCmB,MAAA,WACVsE,KAAAA,GAAGvE,UAAU0nB,OAAO,mCAsC7B,CAAA,IAAA,sBAnCwB,MAAA,WACf0J,KAAAA,mBAkCT,CAAA,IAAA,iBA/BiBxlC,MAAAA,SAAAA,GACP4lC,IAAAA,EAAW,KAAKjtB,GAAGqX,SAAShwB,EAAEo1B,gBAChC,EAAIwQ,EAAAA,KAAAA,IACDF,KAAAA,iBA4BX,CAAA,IAAA,sBAxBsB1lC,MAAAA,SAAAA,GACbklC,KAAAA,YAAYllC,EAAEojC,QAEf,KAAK0B,aACFe,KAAAA,qBAoBX,CAAA,IAAA,mBAhBmB7lC,MAAAA,SAAAA,GACfA,EAAEI,iBACG2kC,KAAAA,MAAQ,IAAIC,IAGZL,KAAAA,WAAWta,QAAQ,SAAAxB,GAAKA,OAAAA,EAAErnB,cAAc,IAAIhB,MAAM,oBAElDykC,KAAAA,cAST,CAAA,IAAA,gBANgBjlC,MAAAA,SAAAA,GACZA,EAAEI,iBACGslC,KAAAA,kBAIT,CAAA,CAAA,IAAA,QAzHiB,MAAA,WACN,MAAA,uBAwHX,EAAA,GAAA,QAAA,gBAAA,GAAA,EAAQnB,EAAAA,SAAAA;;ACzIR,aANA,QAAA,8BACA,QAAA,0CACA,QAAA,oCACA,QAAA,8BACA,QAAA,0CACA,QAAA,0DACA,QAAA","file":"registration.05675747.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\n/* the following code is borrowed from the WebComponents project, licensed\n * under the BSD license. Source:\n * <https://github.com/webcomponents/webcomponentsjs/blob/5283db1459fa2323e5bfc8b9b5cc1753ed85e3d0/src/WebComponents/dom.js#L53-L78>\n */\n// defaultPrevented is broken in IE.\n// https://connect.microsoft.com/IE/feedback/details/790389/event-defaultprevented-returns-false-after-preventdefault-was-called\nconst workingDefaultPrevented = (function() {\n  const e = document.createEvent('Event');\n  e.initEvent('foo', true, true);\n  e.preventDefault();\n  return e.defaultPrevented;\n})();\n\nif (!workingDefaultPrevented) {\n  const origPreventDefault = window.Event.prototype.preventDefault;\n  window.Event.prototype.preventDefault = function() {\n    if (!this.cancelable) {\n      return;\n    }\n\n    origPreventDefault.call(this);\n\n    Object.defineProperty(this, 'defaultPrevented', {\n      get: function() {\n        return true;\n      },\n      configurable: true\n    });\n  };\n}\n/* end of borrowed code */\n\n\nexport function create_event(name, { bubbles=true, cancelable=false, }={}) {\n  const event = document.createEvent('Event');\n  event.initEvent(name, bubbles, cancelable);\n  return event;\n}\n\n\nexport default function(element, event, {\n                          bubbles=true,\n                          cancelable=false,\n                        }={}, payload={}) {\n  if (! (event instanceof window.Event)) {\n    event = create_event(event, { bubbles, cancelable });\n  }\n\n  for (let key in payload) {\n    if (payload.hasOwnProperty(key)) {\n      event[key] = payload[key];\n    }\n  }\n\n  element.dispatchEvent(event);\n\n  return event;\n}\n","'use strict';\n\n/* shim layer for the Element.matches method */\n\nconst ep = window.Element.prototype;\nconst native_matches = ep.matches ||\n                       ep.matchesSelector ||\n                       ep.msMatchesSelector ||\n                       ep.webkitMatchesSelector;\n\nexport default function(element, selector) {\n  return native_matches.call(element, selector);\n}\n","'use strict';\n\n/**\n * mark an object with a '__hyperform=true' property\n *\n * We use this to distinguish our properties from the native ones. Usage:\n * js> mark(obj);\n * js> assert(obj.__hyperform === true)\n */\nexport default function(obj) {\n  if (['object', 'function'].indexOf(typeof obj) > -1) {\n    delete obj.__hyperform;\n    Object.defineProperty(obj, '__hyperform', {\n      configurable: true,\n      enumerable: false,\n      value: true,\n    });\n  }\n\n  return obj;\n}\n","'use strict';\n\n\nimport { get_wrapper } from './wrapper';\nimport mark from '../tools/mark';\n\n\n/**\n * the internal storage for messages\n */\nconst store = new WeakMap();\n\n\n/* jshint -W053 *//* allow new String() */\n/**\n * handle validation messages\n *\n * Falls back to browser-native errors, if any are available. The messages\n * are String objects so that we can mark() them.\n */\nconst message_store = {\n\n  set(element, message, is_custom=false) {\n    if (element instanceof window.HTMLFieldSetElement) {\n      const wrapped_form = get_wrapper(element);\n      if (wrapped_form && ! wrapped_form.settings.extendFieldset) {\n        /* make this a no-op for <fieldset> in strict mode */\n        return message_store;\n      }\n    }\n\n    if (typeof message === 'string') {\n      message = new String(message);\n    }\n    if (is_custom) {\n      message.is_custom = true;\n    }\n    mark(message);\n    store.set(element, message);\n\n    /* allow the :invalid selector to match */\n    if ('_original_setCustomValidity' in element) {\n      element._original_setCustomValidity(message.toString());\n    }\n\n    return message_store;\n  },\n\n  get(element) {\n    var message = store.get(element);\n    if (message === undefined && ('_original_validationMessage' in element)) {\n      /* get the browser's validation message, if we have none. Maybe it\n       * knows more than we. */\n      message = new String(element._original_validationMessage);\n    }\n    return message? message : new String('');\n  },\n\n  delete(element, is_custom=false) {\n    if ('_original_setCustomValidity' in element) {\n      element._original_setCustomValidity('');\n    }\n    var message = store.get(element);\n    if (message && is_custom && ! message.is_custom) {\n      /* do not delete \"native\" messages, if asked */\n      return false;\n    }\n    return store.delete(element);\n  },\n\n};\n/* jshint +W053 */\n\nexport { message_store };\n","'use strict';\n\n\n/**\n * counter that will be incremented with every call\n *\n * Will enforce uniqueness, as long as no more than 1 hyperform scripts\n * are loaded. (In that case we still have the \"random\" part below.)\n */\nvar uid = 0;\n\n\n/**\n * generate a random ID\n *\n * @see https://gist.github.com/gordonbrander/2230317\n */\nexport default function(prefix='hf_') {\n  return prefix + ( uid++ ) + Math.random().toString(36).substr(2);\n}\n","'use strict';\n\n\n/**\n * get all radio buttons (including `element`) that belong to element's\n * radio group\n */\nexport function get_radiogroup(element) {\n  if (element.form) {\n    return Array.prototype.filter.call(\n      element.form.elements,\n      radio => radio.type === 'radio' && radio.name === element.name\n    );\n  }\n  return [element];\n}\n","'use strict';\n\n\nimport { message_store } from './message_store';\nimport { get_wrapper } from './wrapper';\nimport generate_id from '../tools/generate_id';\nimport { get_radiogroup } from '../tools/get_radiogroup';\n\n\nconst warningsCache = new WeakMap();\n\n\nconst DefaultRenderer = {\n\n  /**\n   * called when a warning should become visible\n   */\n  attachWarning: function(warning, element) {\n    /* should also work, if element is last,\n     * http://stackoverflow.com/a/4793630/113195 */\n    element.parentNode.insertBefore(warning, element.nextSibling);\n  },\n\n  /**\n   * called when a warning should vanish\n   */\n  detachWarning: function(warning, element) {\n    /* be conservative here, since an overwritten attachWarning() might not\n     * actually have attached the warning. */\n    if (warning.parentNode) {\n      warning.parentNode.removeChild(warning);\n    }\n  },\n\n  /**\n   * called when feedback to an element's state should be handled\n   *\n   * i.e., showing and hiding warnings\n   */\n  showWarning: function(element, whole_form_validated=false) {\n    /* don't render error messages on subsequent radio buttons of the\n     * same group. This assumes, that element.validity.valueMissing is the only\n     * possible validation failure for radio buttons. */\n    if (whole_form_validated && element.type === 'radio' &&\n        get_radiogroup(element)[0] !== element) {\n      return;\n    }\n\n    const msg = message_store.get(element).toString();\n    var warning = warningsCache.get(element);\n\n    if (msg) {\n      if (! warning) {\n        const wrapper = get_wrapper(element);\n        warning = document.createElement('div');\n        warning.className = wrapper && wrapper.settings.classes.warning || 'hf-warning';\n        warning.id = generate_id();\n        warning.setAttribute('aria-live', 'polite');\n        warningsCache.set(element, warning);\n      }\n\n      element.setAttribute('aria-errormessage', warning.id);\n      if (!element.hasAttribute('aria-describedby')) {\n        element.setAttribute('aria-describedby', warning.id);\n      }\n      Renderer.setMessage(warning, msg, element);\n      Renderer.attachWarning(warning, element);\n\n    } else if (warning && warning.parentNode) {\n      if (element.getAttribute('aria-describedby') === warning.id) {\n        element.removeAttribute('aria-describedby');\n      }\n      element.removeAttribute('aria-errormessage');\n      Renderer.detachWarning(warning, element);\n\n    }\n  },\n\n  /**\n   * set the warning's content\n   *\n   * Overwrite this method, if you want, e.g., to allow HTML in warnings\n   * or preprocess the content.\n   */\n  setMessage: function(warning, message, element) {\n    warning.textContent = message;\n  }\n\n};\n\n\nconst Renderer = {\n\n  attachWarning: DefaultRenderer.attachWarning,\n  detachWarning: DefaultRenderer.detachWarning,\n  showWarning: DefaultRenderer.showWarning,\n  setMessage: DefaultRenderer.setMessage,\n\n  set: function(renderer, action) {\n    if (renderer.indexOf('_') > -1) {\n      /* global console */\n      // TODO delete before next non-patch version\n      console.log('Renderer.set: please use camelCase names. '+renderer+' will be removed in the next non-patch release.');\n      renderer = renderer.replace(/_([a-z])/g, g => g[1].toUpperCase());\n    }\n    if (! action) {\n      action = DefaultRenderer[renderer];\n    }\n    Renderer[renderer] = action;\n  },\n\n  getWarning: element => warningsCache.get(element),\n\n};\n\n\nexport default Renderer;\n","'use strict';\n\n\nconst registry = Object.create(null);\n\n\n/**\n * run all actions registered for a hook\n *\n * Every action gets called with a state object as `this` argument and with the\n * hook's call arguments as call arguments.\n *\n * @return mixed the returned value of the action calls or undefined\n */\nexport function call_hook(hook) {\n  var result;\n  const call_args = Array.prototype.slice.call(arguments, 1);\n\n  if (hook in registry) {\n    result = registry[hook].reduce((function(args) {\n\n      return function(previousResult, currentAction) {\n        const interimResult = currentAction.apply({\n          state: previousResult,\n          hook: hook,\n        }, args);\n        return (interimResult !== undefined)? interimResult : previousResult;\n      };\n\n    })(call_args), result);\n  }\n\n  return result;\n}\n\n/**\n * Filter a value through hooked functions\n *\n * Allows for additional parameters:\n * js> do_filter('foo', null, current_element)\n */\nexport function do_filter(hook, initial_value) {\n  var result = initial_value;\n  var call_args = Array.prototype.slice.call(arguments, 1);\n\n  if (hook in registry) {\n    result = registry[hook].reduce(function(previousResult, currentAction) {\n      call_args[0] = previousResult;\n      const interimResult = currentAction.apply({\n        state: previousResult,\n        hook: hook,\n      }, call_args);\n      return (interimResult !== undefined)? interimResult : previousResult;\n    }, result);\n  }\n\n  return result;\n}\n\n/**\n * remove an action again\n */\nexport function remove_hook(hook, action) {\n  if (hook in registry) {\n    for (let i = 0; i < registry[hook].length; i++) {\n      if (registry[hook][i] === action) {\n        registry[hook].splice(i, 1);\n        break;\n      }\n    }\n  }\n}\nexport { remove_hook as remove_filter };\n\n/**\n * add an action to a hook\n */\nexport function add_hook(hook, action, position) {\n  if (! (hook in registry)) {\n    registry[hook] = [];\n  }\n  if (position === undefined) {\n    position = registry[hook].length;\n  }\n  registry[hook].splice(position, 0, action);\n}\nexport { add_hook as add_filter };\n","'use strict';\n\n/* and datetime-local? Spec says Nah! */\nexport const dates = [ 'datetime', 'date', 'month', 'week', 'time', ];\n\nexport const plain_numbers = [ 'number', 'range', ];\n\n/* everything that returns something meaningful for valueAsNumber and\n * can have the step attribute */\nexport const numbers = dates.concat(plain_numbers, 'datetime-local');\n\n/* the spec says to only check those for syntax in validity.typeMismatch.\n * \\_()_/ */\nexport const type_checked = [ 'email', 'url', ];\n\n/* check these for validity.badInput */\nexport const input_checked = [ 'email', 'date', 'month', 'week', 'time',\n  'datetime', 'datetime-local', 'number', 'range', 'color', ];\n\nexport const text = [ 'text', 'search', 'tel', 'password', ].concat(type_checked);\n\n/* input element types, that are candidates for the validation API.\n * Missing from this set are: button, hidden, menu (from <button>), reset and\n * the types for non-<input> elements. */\nexport const validation_candidates = [ 'checkbox', 'color', 'file', 'image',\n  'radio', 'submit', ].concat(numbers, text);\n\n/* all known types of <input> */\nexport const inputs = ['button', 'hidden', 'reset'].concat(validation_candidates);\n\n/* apparently <select> and <textarea> have types of their own */\nexport const non_inputs = ['select-one', 'select-multiple', 'textarea'];\n","'use strict';\n\n\nimport { inputs } from '../components/types';\n\n\n/**\n * get the element's type in a backwards-compatible way\n */\nexport default function(element) {\n  if (element instanceof window.HTMLTextAreaElement) {\n    return 'textarea';\n\n  } else if (element instanceof window.HTMLSelectElement) {\n    return element.hasAttribute('multiple')? 'select-multiple' : 'select-one';\n\n  } else if (element instanceof window.HTMLButtonElement) {\n    return (element.getAttribute('type') || 'submit').toLowerCase();\n\n  } else if (element instanceof window.HTMLInputElement) {\n    const attr = (element.getAttribute('type') || '').toLowerCase();\n    if (attr && inputs.indexOf(attr) > -1) {\n      return attr;\n    } else {\n      /* perhaps the DOM has in-depth knowledge. Take that before returning\n       * 'text'. */\n      return element.type || 'text';\n    }\n\n  }\n\n  return '';\n}\n","'use strict';\n\n\nimport { do_filter } from '../components/hooks';\nimport { validation_candidates, non_inputs } from '../components/types';\nimport { get_wrapper } from '../components/wrapper';\nimport get_type from '../tools/get_type';\n\n\n/**\n * check if an element should be ignored due to any of its parents\n *\n * Checks <fieldset disabled> and <datalist>.\n */\nfunction is_in_disallowed_parent(element) {\n  let p = element.parentNode;\n  while (p && p.nodeType === 1) {\n    if (p instanceof window.HTMLFieldSetElement &&\n        p.hasAttribute('disabled')) {\n      /* quick return, if it's a child of a disabled fieldset */\n      return true;\n    } else if (p.nodeName.toUpperCase() === 'DATALIST') {\n      /* quick return, if it's a child of a datalist\n       * Do not use HTMLDataListElement to support older browsers,\n       * too.\n       * @see https://html.spec.whatwg.org/multipage/forms.html#the-datalist-element:barred-from-constraint-validation\n       */\n      return true;\n    } else if (p === element.form) {\n      /* the outer boundary. We can stop looking for relevant elements. */\n      break;\n    }\n    p = p.parentNode;\n  }\n  return false;\n}\n\n\n/**\n * check if an element is a candidate for constraint validation\n *\n * @see https://html.spec.whatwg.org/multipage/forms.html#barred-from-constraint-validation\n */\nexport default function(element) {\n\n  /* allow a shortcut via filters, e.g. to validate type=hidden fields */\n  const filtered = do_filter('is_validation_candidate', null, element);\n  if (filtered !== null) {\n    return !! filtered;\n  }\n\n  /* it must be any of those elements */\n  if (element instanceof window.HTMLSelectElement\n      ||\n      element instanceof window.HTMLTextAreaElement\n      ||\n      element instanceof window.HTMLButtonElement\n      ||\n      element instanceof window.HTMLInputElement) {\n\n    const type = get_type(element);\n    /* its type must be in the whitelist */\n    if (non_inputs.indexOf(type) > -1 ||\n        validation_candidates.indexOf(type) > -1) {\n\n      /* it mustn't be disabled or readonly */\n      if (! element.hasAttribute('disabled') &&\n          ! element.hasAttribute('readonly')) {\n\n        const wrapped_form = get_wrapper(element);\n\n        if (\n            /* the parent form doesn't allow non-standard \"novalidate\" attributes... */\n            (wrapped_form && ! wrapped_form.settings.novalidateOnElements) ||\n            /* ...or it doesn't have such an attribute/property */\n            (! element.hasAttribute('novalidate') && ! element.noValidate)\n            ) {\n\n          /* it isn't part of a <fieldset disabled> */\n          if (! is_in_disallowed_parent(element)) {\n\n            /* then it's a candidate */\n            return true;\n          }\n        }\n      }\n    }\n  }\n\n  /* this is no HTML5 validation candidate... */\n  return false;\n}\n","'use strict';\n\n\nexport default function(date, part=undefined) {\n  switch (part) {\n    case 'date':\n      return (date.toLocaleDateString || date.toDateString).call(date);\n    case 'time':\n      return (date.toLocaleTimeString || date.toTimeString).call(date);\n    case 'month':\n      return ('toLocaleDateString' in date)?\n        date.toLocaleDateString(undefined, {\n          year: 'numeric',\n          month: '2-digit',\n        })\n        :\n        date.toDateString();\n    // case 'week':\n    // TODO\n    default:\n      return (date.toLocaleString || date.toString).call(date);\n  }\n}\n","'use strict';\n\n\nexport default function(str, ...args) {\n  const args_length = args.length;\n  var global_index = 0;\n\n  return str.replace(/%([0-9]+\\$)?([sl])/g, (match, position, type) => {\n    var local_index = global_index;\n    if (position) {\n      local_index = Number(position.replace(/\\$$/, '')) - 1;\n    }\n    global_index += 1;\n\n    var arg = '';\n    if (args_length > local_index) {\n      arg = args[local_index];\n    }\n\n    if (arg instanceof Date ||\n        typeof arg === 'number' ||\n        arg instanceof Number) {\n      /* try getting a localized representation of dates and numbers, if the\n       * browser supports this */\n      if (type === 'l') {\n        arg = (arg.toLocaleString || arg.toString).call(arg);\n      } else {\n        arg = arg.toString();\n      }\n    }\n\n    return arg;\n  });\n}\n","'use strict';\n\n\n/* For a given date, get the ISO week number\n *\n * Source: http://stackoverflow.com/a/6117889/113195\n *\n * Based on information at:\n *\n *    http://www.merlyn.demon.co.uk/weekcalc.htm#WNR\n *\n * Algorithm is to find nearest thursday, it's year\n * is the year of the week number. Then get weeks\n * between that date and the first day of that year.\n *\n * Note that dates in one year can be weeks of previous\n * or next year, overlap is up to 3 days.\n *\n * e.g. 2014/12/29 is Monday in week  1 of 2015\n *      2012/1/1   is Sunday in week 52 of 2011\n */\nexport default function(d) {\n  /* Copy date so don't modify original */\n  d = new Date(+d);\n  d.setUTCHours(0, 0, 0);\n  /* Set to nearest Thursday: current date + 4 - current day number\n   * Make Sunday's day number 7 */\n  d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay()||7));\n  /* Get first day of year */\n  const yearStart = new Date(d.getUTCFullYear(),0,1);\n  /* Calculate full weeks to nearest Thursday */\n  const weekNo = Math.ceil(( ( (d - yearStart) / 86400000) + 1)/7);\n  /* Return array of year and week number */\n  return [d.getUTCFullYear(), weekNo];\n}\n","'use strict';\n\n\nimport sprintf from './sprintf';\nimport get_week_of_year from './get_week_of_year';\n\n\nfunction pad(num, size=2) {\n  var s = num + '';\n  while (s.length < size) {\n    s = '0' + s;\n  }\n  return s;\n}\n\n\n/**\n * calculate a string from a date according to HTML5\n */\nexport default function date_to_string(date, element_type) {\n  if (! (date instanceof Date)) {\n    return null;\n  }\n\n  switch (element_type) {\n    case 'datetime':\n      return date_to_string(date, 'date') + 'T' +\n             date_to_string(date, 'time');\n\n    case 'datetime-local':\n      return sprintf('%s-%s-%sT%s:%s:%s.%s',\n                     date.getFullYear(),\n                     pad(date.getMonth() + 1),\n                     pad(date.getDate()),\n                     pad(date.getHours()),\n                     pad(date.getMinutes()),\n                     pad(date.getSeconds()),\n                     pad(date.getMilliseconds(), 3)\n                   ).replace(/(:00)?\\.000$/, '');\n\n    case 'date':\n      return sprintf('%s-%s-%s',\n                     date.getUTCFullYear(),\n                     pad(date.getUTCMonth() + 1),\n                     pad(date.getUTCDate()));\n\n    case 'month':\n      return sprintf('%s-%s', date.getUTCFullYear(),\n                     pad(date.getUTCMonth() + 1));\n\n    case 'week':\n      const params = get_week_of_year(date);\n      return sprintf.call(null, '%s-W%s', params[0], pad(params[1]));\n\n    case 'time':\n      return sprintf('%s:%s:%s.%s',\n                      pad(date.getUTCHours()),\n                      pad(date.getUTCMinutes()),\n                      pad(date.getUTCSeconds()),\n                      pad(date.getUTCMilliseconds(), 3)\n                    ).replace(/(:00)?\\.000$/, '');\n  }\n\n  return null;\n}\n","'use strict';\n\n\n/**\n * return a new Date() representing the ISO date for a week number\n *\n * @see http://stackoverflow.com/a/16591175/113195\n */\nexport default function(week, year) {\n  const date = new Date(Date.UTC(year, 0, 1 + (week - 1) * 7));\n\n  if (date.getUTCDay() <= 4/* thursday */) {\n    date.setUTCDate(date.getUTCDate() - date.getUTCDay() + 1);\n  } else {\n    date.setUTCDate(date.getUTCDate() + 8 - date.getUTCDay());\n  }\n\n  return date;\n}\n","'use strict';\n\n\nimport get_date_from_week from './get_date_from_week';\n\n\n/**\n * calculate a date from a string according to HTML5\n */\nexport default function(string, element_type) {\n  let date;\n  switch (element_type) {\n    case 'datetime':\n      if (! /^([0-9]{4})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9])(?::([0-5][0-9])(?:\\.([0-9]{1,3}))?)?$/.test(string)) {\n        return null;\n      }\n      date = new Date(string+'z');\n      return isNaN(date.valueOf())? null : date;\n\n    case 'date':\n      if (! /^([0-9]{4})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/.test(string)) {\n        return null;\n      }\n      date = new Date(string);\n      return isNaN(date.valueOf())? null : date;\n\n    case 'month':\n      if (! /^([0-9]{4})-(0[1-9]|1[012])$/.test(string)) {\n        return null;\n      }\n      date = new Date(string);\n      return isNaN(date.valueOf())? null : date;\n\n    case 'week':\n      if (! /^([0-9]{4})-W(0[1-9]|[1234][0-9]|5[0-3])$/.test(string)) {\n        return null;\n      }\n      return get_date_from_week(Number(RegExp.$2), Number(RegExp.$1));\n\n    case 'time':\n      if (! /^([01][0-9]|2[0-3]):([0-5][0-9])(?::([0-5][0-9])(?:\\.([0-9]{1,3}))?)?$/.test(string)) {\n        return null;\n      }\n      date = new Date('1970-01-01T'+string+'z');\n      return date;\n  }\n\n  return null;\n}\n","'use strict';\n\n\nimport string_to_date from './string_to_date';\n\n\n/**\n * calculate a number from a string according to HTML5\n */\nexport default function(string, element_type) {\n    const rval = string_to_date(string, element_type);\n    if (rval !== null) {\n      return +rval;\n    }\n    /* not parseFloat, because we want NaN for invalid values like \"1.2xxy\" */\n    return Number(string);\n}\n","'use strict';\n\n\n/**\n * the following validation messages are from Firefox source,\n * http://mxr.mozilla.org/mozilla-central/source/dom/locales/en-US/chrome/dom/dom.properties\n * released under MPL license, http://mozilla.org/MPL/2.0/.\n */\nconst catalog = {\n  en: {\n    TextTooLong: 'Please shorten this text to %l characters or less (you are currently using %l characters).',\n    ValueMissing: 'Please fill out this field.',\n    CheckboxMissing: 'Please check this box if you want to proceed.',\n    RadioMissing: 'Please select one of these options.',\n    FileMissing: 'Please select a file.',\n    SelectMissing: 'Please select an item in the list.',\n    InvalidEmail: 'Please enter an email address.',\n    InvalidURL: 'Please enter a URL.',\n    PatternMismatch: 'Please match the requested format.',\n    PatternMismatchWithTitle: 'Please match the requested format: %l.',\n    NumberRangeOverflow: 'Please select a value that is no more than %l.',\n    DateRangeOverflow: 'Please select a value that is no later than %l.',\n    TimeRangeOverflow: 'Please select a value that is no later than %l.',\n    NumberRangeUnderflow: 'Please select a value that is no less than %l.',\n    DateRangeUnderflow: 'Please select a value that is no earlier than %l.',\n    TimeRangeUnderflow: 'Please select a value that is no earlier than %l.',\n    StepMismatch: 'Please select a valid value. The two nearest valid values are %l and %l.',\n    StepMismatchOneValue: 'Please select a valid value. The nearest valid value is %l.',\n    BadInputNumber: 'Please enter a number.',\n  },\n};\n\n\n/**\n * the global language Hyperform will use\n */\nvar language = 'en';\n\n\n/**\n * the base language according to BCP47, i.e., only the piece before the first hyphen\n */\nvar base_lang = 'en';\n\n\n/**\n * set the language for Hyperforms messages\n */\nexport function set_language(newlang) {\n  language = newlang;\n  base_lang = newlang.replace(/[-_].*/, '');\n}\n\n\n/**\n * add a lookup catalog \"string: translation\" for a language\n */\nexport function add_translation(lang, new_catalog) {\n  if (! (lang in catalog)) {\n    catalog[lang] = {};\n  }\n  for (let key in new_catalog) {\n    if (new_catalog.hasOwnProperty(key)) {\n      catalog[lang][key] = new_catalog[key];\n    }\n  }\n}\n\n\n/**\n * return `s` translated into the current language\n *\n * Defaults to the base language and then English if the former has no\n * translation for `s`.\n */\nexport default function(s) {\n  if ((language in catalog) && (s in catalog[language])) {\n    return catalog[language][s];\n  } else if ((base_lang in catalog) && (s in catalog[base_lang])) {\n    return catalog[base_lang][s];\n  } else if (s in catalog.en) {\n    return catalog.en[s];\n  }\n  return s;\n}\n","'use strict';\n\n\nexport const default_step = {\n  'datetime-local': 60,\n  datetime: 60,\n  time: 60,\n};\n\nexport const step_scale_factor = {\n  'datetime-local': 1000,\n  datetime: 1000,\n  date: 86400000,\n  week: 604800000,\n  time: 1000,\n};\n\nexport const default_step_base = {\n  week: -259200000,\n};\n\nexport const default_min = {\n  range: 0,\n};\n\nexport const default_max = {\n  range: 100,\n};\n","'use strict';\n\n\nimport date_to_string from './date_to_string';\nimport string_to_number from './string_to_number';\nimport get_type from './get_type';\nimport _ from '../components/localization';\nimport { default_step, step_scale_factor, default_step_base, default_min,\n         default_max, } from '../components/step_defaults';\nimport { dates } from '../components/types';\n\n\n/**\n * get previous and next valid values for a stepped input element\n */\nexport default function(element, n=1) {\n  const type = get_type(element);\n\n  const aMin = element.getAttribute('min');\n  let min = default_min[type] || NaN;\n  if (aMin) {\n    const pMin = string_to_number(aMin, type);\n    if (! isNaN(pMin)) {\n      min = pMin;\n    }\n  }\n\n  const aMax = element.getAttribute('max');\n  let max = default_max[type] || NaN;\n  if (aMax) {\n    const pMax = string_to_number(aMax, type);\n    if (! isNaN(pMax)) {\n      max = pMax;\n    }\n  }\n\n  const aStep = element.getAttribute('step');\n  let step = default_step[type] || 1;\n  if (aStep && aStep.toLowerCase() === 'any') {\n    /* quick return: we cannot calculate prev and next */\n    return [_('any value'), _('any value')];\n  } else if (aStep) {\n    const pStep = string_to_number(aStep, type);\n    if (! isNaN(pStep)) {\n      step = pStep;\n    }\n  }\n\n  const default_value = string_to_number(element.getAttribute('value'), type);\n\n  const value = string_to_number(element.value ||\n                                 element.getAttribute('value'), type);\n\n  if (isNaN(value)) {\n    /* quick return: we cannot calculate without a solid base */\n    return [_('any valid value'), _('any valid value')];\n  }\n\n  const step_base = (\n    ! isNaN(min)? min : (\n      ! isNaN(default_value)? default_value : (\n        default_step_base[type] || 0\n      )\n    )\n  );\n\n  const scale = step_scale_factor[type] || 1;\n\n  var prev = step_base +\n    Math.floor((value - step_base) / (step * scale)) * (step * scale) * n;\n  var next = step_base +\n    (Math.floor((value - step_base) / (step * scale)) + 1) * (step * scale) * n;\n\n  if (prev < min) {\n    prev = null;\n  } else if (prev > max) {\n    prev = max;\n  }\n\n  if (next > max) {\n    next = null;\n  } else if (next < min) {\n    next = min;\n  }\n\n  /* convert to date objects, if appropriate */\n  if (dates.indexOf(type) > -1) {\n    prev = date_to_string(new Date(prev), type);\n    next = date_to_string(new Date(next), type);\n  }\n\n  return [prev, next];\n}\n","'use strict';\n\n\n/**\n * patch String.length to account for non-BMP characters\n *\n * @see https://mathiasbynens.be/notes/javascript-unicode\n * We do not use the simple [...str].length, because it needs a ton of\n * polyfills in older browsers.\n */\nexport default function(str) {\n  return str.match(/[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/g).length;\n}\n","'use strict';\n\n\n/**\n * internal storage for custom error messages\n */\nconst store = new WeakMap();\n\n\n/**\n * register custom error messages per element\n */\nconst custom_messages = {\n\n  set(element, validator, message) {\n    const messages = store.get(element) || {};\n    messages[validator] = message;\n    store.set(element, messages);\n    return custom_messages;\n  },\n\n  get(element, validator, _default=undefined) {\n    const messages = store.get(element);\n    if (messages === undefined || ! (validator in messages)) {\n      const data_id = 'data-' + validator.replace(/[A-Z]/g, '-$&').toLowerCase();\n      if (element.hasAttribute(data_id)) {\n        /* if the element has a data-validator attribute, use this as fallback.\n         * E.g., if validator == 'valueMissing', the element can specify a\n         * custom validation message like this:\n         *     <input data-value-missing=\"Oh noes!\">\n         */\n        return element.getAttribute(data_id);\n      }\n      return _default;\n    }\n    return messages[validator];\n  },\n\n  delete(element, validator=null) {\n    if (! validator) {\n      return store.delete(element);\n    }\n    const messages = store.get(element) || {};\n    if (validator in messages) {\n      delete(messages[validator]);\n      store.set(element, messages);\n      return true;\n    }\n    return false;\n  },\n\n};\n\nexport default custom_messages;\n","'use strict';\n\n\nconst internal_registry = new WeakMap();\n\n\n/**\n * A registry for custom validators\n *\n * slim wrapper around a WeakMap to ensure the values are arrays\n * (hence allowing > 1 validators per element)\n */\nconst custom_validator_registry = {\n\n  set(element, validator) {\n    const current = internal_registry.get(element) || [];\n    current.push(validator);\n    internal_registry.set(element, current);\n    return custom_validator_registry;\n  },\n\n  get(element) {\n    return internal_registry.get(element) || [];\n  },\n\n  delete(element) {\n    return internal_registry.delete(element);\n  },\n\n};\n\nexport default custom_validator_registry;\n","'use strict';\n\n\nimport get_type from '../tools/get_type';\nimport string_to_date from '../tools/string_to_date';\nimport { input_checked } from '../components/types';\n\n\n/**\n * test whether the element suffers from bad input\n */\nexport default function(element) {\n  const type = get_type(element);\n\n  if (input_checked.indexOf(type) === -1) {\n    /* we're not interested, thanks! */\n    return true;\n  }\n\n  /* the browser hides some bad input from the DOM, e.g. malformed numbers,\n   * email addresses with invalid punycode representation, ... We try to resort\n   * to the original method here. The assumption is, that a browser hiding\n   * bad input will hopefully also always support a proper\n   * ValidityState.badInput */\n  if (! element.value) {\n    if ('_original_validity' in element &&\n        ! element._original_validity.__hyperform) {\n      return ! element._original_validity.badInput;\n    }\n    /* no value and no original badInput: Assume all's right. */\n    return true;\n  }\n\n  var result = true;\n  switch (type) {\n    case 'color':\n      result = /^#[a-f0-9]{6}$/.test(element.value);\n      break;\n    case 'number':\n    case 'range':\n      result = ! isNaN(Number(element.value));\n      break;\n    case 'datetime':\n    case 'date':\n    case 'month':\n    case 'week':\n    case 'time':\n      result = string_to_date(element.value, type) !== null;\n      break;\n    case 'datetime-local':\n      result = /^([0-9]{4,})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9])(?::([0-5][0-9])(?:\\.([0-9]{1,3}))?)?$/.test(element.value);\n      break;\n    case 'tel':\n      /* spec says No! Phone numbers can have all kinds of formats, so this\n       * is expected to be a free-text field. */\n      // TODO we could allow a setting 'phone_regex' to be evaluated here.\n      break;\n    case 'email':\n      break;\n  }\n\n  return result;\n}\n","'use strict';\n\n\nimport get_type from '../tools/get_type';\nimport { dates } from '../components/types';\nimport string_to_date from '../tools/string_to_date';\n\n\n/**\n * test the max attribute\n *\n * we use Number() instead of parseFloat(), because an invalid attribute\n * value like \"123abc\" should result in an error.\n */\nexport default function(element) {\n  const type = get_type(element);\n\n  if (! element.value || ! element.hasAttribute('max')) {\n    /* we're not responsible here */\n    return true;\n  }\n\n  let value, max;\n  if (dates.indexOf(type) > -1) {\n    value = string_to_date(element.value, type);\n    value = value === null? NaN : +value;\n    max = string_to_date(element.getAttribute('max'), type);\n    max = max === null? NaN : +max;\n  } else {\n    value = Number(element.value);\n    max = Number(element.getAttribute('max'));\n  }\n\n  /* we cannot validate invalid values and trust on badInput, if isNaN(value) */\n  return (isNaN(max) || isNaN(value) || value <= max);\n}\n","'use strict';\n\n\nimport get_type from '../tools/get_type';\nimport unicode_string_length from '../tools/unicode_string_length';\nimport { text as text_types } from '../components/types';\n\n\n/**\n * test the maxlength attribute\n */\nexport default function(element) {\n  if (\n      ! element.value\n      ||\n      text_types.indexOf(get_type(element)) === -1\n      ||\n      ! element.hasAttribute('maxlength')\n      ||\n      ! element.getAttribute('maxlength') // catch maxlength=\"\"\n  ) {\n    return true;\n  }\n\n  const maxlength = parseInt(element.getAttribute('maxlength'), 10);\n\n  /* check, if the maxlength value is usable at all.\n   * We allow maxlength === 0 to basically disable input (Firefox does, too).\n   */\n  if (isNaN(maxlength) || maxlength < 0) {\n    return true;\n  }\n\n  return unicode_string_length(element.value) <= maxlength;\n}\n","'use strict';\n\n\nimport get_type from '../tools/get_type';\nimport { dates } from '../components/types';\nimport string_to_date from '../tools/string_to_date';\n\n\n/**\n * test the min attribute\n *\n * we use Number() instead of parseFloat(), because an invalid attribute\n * value like \"123abc\" should result in an error.\n */\nexport default function(element) {\n  const type = get_type(element);\n\n  if (! element.value || ! element.hasAttribute('min')) {\n    /* we're not responsible here */\n    return true;\n  }\n\n  let value, min;\n  if (dates.indexOf(type) > -1) {\n    value = string_to_date(element.value, type);\n    value = value === null? NaN : +value;\n    min = string_to_date(element.getAttribute('min'), type);\n    min = min === null? NaN : +min;\n  } else {\n    value = Number(element.value);\n    min = Number(element.getAttribute('min'));\n  }\n\n  /* we cannot validate invalid values and trust on badInput, if isNaN(value) */\n  return (isNaN(min) || isNaN(value) || value >= min);\n}\n","'use strict';\n\n\nimport get_type from '../tools/get_type';\nimport unicode_string_length from '../tools/unicode_string_length';\nimport { text as text_types } from '../components/types';\n\n\n/**\n * test the minlength attribute\n */\nexport default function(element) {\n  if (\n      ! element.value\n      ||\n      text_types.indexOf(get_type(element)) === -1\n      ||\n      ! element.hasAttribute('minlength')\n      ||\n      ! element.getAttribute('minlength') // catch minlength=\"\"\n  ) {\n    return true;\n  }\n\n  const minlength = parseInt(element.getAttribute('minlength'), 10);\n\n  /* check, if the minlength value is usable at all. */\n  if (isNaN(minlength) || minlength < 0) {\n    return true;\n  }\n\n  return unicode_string_length(element.value) >= minlength;\n}\n","'use strict';\n\n\n/**\n * test the pattern attribute\n */\nexport default function(element) {\n  return (\n      ! element.value\n      ||\n      ! element.hasAttribute('pattern')\n      ||\n      (new RegExp('^(?:'+ element.getAttribute('pattern') +')$')).test(element.value)\n    );\n}\n","'use strict';\n\n\nimport { get_radiogroup } from '../tools/get_radiogroup';\n\n\nfunction has_submittable_option(select) {\n  /* Definition of the placeholder label option:\n   * https://www.w3.org/TR/html5/sec-forms.html#element-attrdef-select-required\n   * Being required (the first constraint in the spec) is trivially true, since\n   * this function is only called for such selects.\n   */\n  const has_placeholder_option = (\n    ! select.multiple &&\n    select.size <= 1 &&\n    select.options.length > 0 &&\n    select.options[0].parentNode == select &&\n    select.options[0].value === ''\n  );\n  return (\n    /* anything selected at all? That's redundant with the .some() call below,\n     * but more performant in the most probable error case. */\n    select.selectedIndex > -1 &&\n    Array.prototype.some.call(\n      select.options,\n      option => {\n        return (\n          /* it isn't the placeholder option */\n          (! has_placeholder_option || option.index !== 0) &&\n          /* it isn't disabled */\n          ! option.disabled &&\n          /* and it is, in fact, selected */\n          option.selected);\n      }\n    )\n  );\n}\n\n\n/**\n * test the required attribute\n */\nexport default function(element) {\n  if (element.type === 'radio') {\n    /* the happy (and quick) path for radios: */\n    if (element.hasAttribute('required') && element.checked) {\n      return true;\n    }\n\n    const radiogroup = get_radiogroup(element);\n\n    /* if any radio in the group is required, we need any (not necessarily the\n     * same) radio to be checked */\n    if (radiogroup.some(radio => radio.hasAttribute('required'))) {\n      return radiogroup.some(radio => radio.checked);\n    }\n    /* not required, validation passes */\n    return true;\n  }\n\n  if (! element.hasAttribute('required')) {\n    /* nothing to do */\n    return true;\n  }\n\n  if (element instanceof window.HTMLSelectElement) {\n    return has_submittable_option(element);\n  }\n\n  return (element.type === 'checkbox')? element.checked : (!! element.value);\n}\n","'use strict';\n\n\nimport get_type from '../tools/get_type';\nimport { numbers } from '../components/types';\nimport { default_step, step_scale_factor, default_step_base } from '../components/step_defaults';\nimport string_to_number from '../tools/string_to_number';\n\n\n/**\n * test the step attribute\n */\nexport default function(element) {\n  const type = get_type(element);\n\n  if (! element.value ||\n      numbers.indexOf(type) === -1 ||\n      (element.getAttribute('step') || '').toLowerCase() === 'any') {\n    /* we're not responsible here. Note: If no step attribute is given, we\n     * need to validate against the default step as per spec. */\n    return true;\n  }\n\n  let step = element.getAttribute('step');\n  if (step) {\n    step = string_to_number(step, type);\n  } else {\n    step = default_step[type] || 1;\n  }\n\n  if (step <= 0 || isNaN(step)) {\n    /* error in specified \"step\". We cannot validate against it, so the value\n     * is true. */\n    return true;\n  }\n\n  const scale = step_scale_factor[type] || 1;\n\n  let value = string_to_number(element.value, type);\n  let min = string_to_number(element.getAttribute('min') ||\n                         element.getAttribute('value') || '', type);\n\n  if (isNaN(value)) {\n    /* we cannot compare an invalid value and trust that the badInput validator\n     * takes over from here */\n    return true;\n  }\n\n  if (isNaN(min)) {\n    min = default_step_base[type] || 0;\n  }\n\n  if (type === 'month') {\n    /* type=month has month-wide steps. See\n     * https://html.spec.whatwg.org/multipage/forms.html#month-state-%28type=month%29\n     */\n    min = (new Date(min)).getUTCFullYear() * 12 + (new Date(min)).getUTCMonth();\n    value = (new Date(value)).getUTCFullYear() * 12 + (new Date(value)).getUTCMonth();\n  }\n\n  const result = Math.abs(min - value) % (step * scale);\n\n  return (result < 0.00000001 ||\n          /* crappy floating-point arithmetics! */\n          result > (step * scale) - 0.00000001);\n}\n","'use strict';\n\n\nconst ws_on_start_or_end = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n\n\n/**\n * trim a string of whitespace\n *\n * We don't use String.trim() to remove the need to polyfill it.\n */\nexport default function(str) {\n  return str.replace(ws_on_start_or_end, '');\n}\n","'use strict';\n\n\nimport trim from './trim';\n\n\n/**\n * split a string on comma and trim the components\n *\n * As specified at\n * https://html.spec.whatwg.org/multipage/infrastructure.html#split-a-string-on-commas\n * plus removing empty entries.\n */\nexport default function(str) {\n  return str.split(',')\n            .map(item => trim(item))\n            .filter(b=>b);\n}\n","'use strict';\n\n\nimport comma_split from '../tools/comma_split';\nimport get_type from '../tools/get_type';\nimport trim from '../tools/trim';\nimport { type_checked } from '../components/types';\n\n\n/* we use a dummy <a> where we set the href to test URL validity\n * The definition is out of the \"global\" scope so that JSDOM can be instantiated\n * after loading Hyperform for tests.\n */\nvar url_canary;\n\n/* see https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address */\nconst email_pattern = /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n\n/**\n * test the type-inherent syntax\n */\nexport default function(element) {\n  const type = get_type(element);\n\n  if ((type !== 'file' && ! element.value) ||\n      (type !== 'file' && type_checked.indexOf(type) === -1)) {\n    /* we're not responsible for this element */\n    return true;\n  }\n\n  var is_valid = true;\n\n  switch (type) {\n    case 'url':\n        if (! url_canary) {\n          url_canary = document.createElement('a');\n        }\n        const value = trim(element.value);\n        url_canary.href = value;\n        is_valid = (url_canary.href === value ||\n                    url_canary.href === value+'/');\n        break;\n    case 'email':\n        if (element.hasAttribute('multiple')) {\n          is_valid = comma_split(element.value)\n                       .every(value => email_pattern.test(value));\n        } else {\n          is_valid = email_pattern.test(trim(element.value));\n        }\n        break;\n    case 'file':\n        if ('files' in element && element.files.length &&\n            element.hasAttribute('accept')) {\n          const patterns = comma_split(element.getAttribute('accept'))\n            .map(pattern => {\n              if (/^(audio|video|image)\\/\\*$/.test(pattern)) {\n                pattern = new RegExp('^'+RegExp.$1+'/.+$');\n              }\n              return pattern;\n            });\n\n          if (! patterns.length) {\n            break;\n          }\n\n          fileloop:\n          for (let i = 0; i < element.files.length; i++) {\n            /* we need to match a whitelist, so pre-set with false */\n            let file_valid = false;\n\n            patternloop:\n            for (let j = 0; j < patterns.length; j++) {\n              const file = element.files[i];\n              const pattern = patterns[j];\n\n              let fileprop = file.type;\n\n              if (typeof pattern === 'string' && pattern.substr(0, 1) === '.') {\n                if (file.name.search('.') === -1) {\n                  /* no match with any file ending */\n                  continue patternloop;\n                }\n\n                fileprop = file.name.substr(file.name.lastIndexOf('.'));\n              }\n\n              if (fileprop.search(pattern) === 0) {\n                /* we found one match and can quit looking */\n                file_valid = true;\n                break patternloop;\n              }\n\n            }\n\n            if (! file_valid) {\n              is_valid = false;\n              break fileloop;\n            }\n          }\n        }\n  }\n\n  return is_valid;\n}\n","'use strict';\n\n/**\n * Implement constraint checking functionality defined in the HTML5 standard\n *\n * @see https://html.spec.whatwg.org/multipage/forms.html#dom-cva-validity\n * @return bool true if the test fails [!], false otherwise\n */\n\n\nimport format_date from './format_date';\nimport get_next_valid from './get_next_valid';\nimport get_type from './get_type';\nimport sprintf from './sprintf';\nimport string_to_number from './string_to_number';\nimport string_to_date from './string_to_date';\nimport unicode_string_length from './unicode_string_length';\nimport custom_messages from '../components/custom_messages';\nimport _ from '../components/localization';\nimport { message_store } from '../components/message_store';\nimport CustomValidatorRegistry from '../components/registry';\nimport { get_wrapper } from '../components/wrapper';\nimport test_bad_input from '../validators/bad_input';\nimport test_max from '../validators/max';\nimport test_maxlength from '../validators/maxlength';\nimport test_min from '../validators/min';\nimport test_minlength from '../validators/minlength';\nimport test_pattern from '../validators/pattern';\nimport test_required from '../validators/required';\nimport test_step from '../validators/step';\nimport test_type from '../validators/type';\n\n\n/**\n * boilerplate function for all tests but customError\n */\nfunction check(test, react) {\n  return element => {\n    const invalid = ! test(element);\n    if (invalid) {\n      react(element);\n    }\n    return invalid;\n  };\n}\n\n\n/**\n * create a common function to set error messages\n */\nfunction set_msg(element, msgtype, _default) {\n  message_store.set(element, custom_messages.get(element, msgtype, _default));\n}\n\n\nconst badInput = check(test_bad_input, element => set_msg(element, 'badInput',\n                       _('Please match the requested type.')));\n\n\nfunction customError(element) {\n  /* prevent infinite loops when the custom validators call setCustomValidity(),\n   * which in turn calls this code again. We check, if there is an already set\n   * custom validity message there. */\n  if (element.__hf_custom_validation_running) {\n    const msg = message_store.get(element);\n    return (msg && msg.is_custom);\n  }\n\n  /* check, if there are custom validators in the registry, and call\n   * them. */\n  const custom_validators = CustomValidatorRegistry.get(element);\n  const cvl = custom_validators.length;\n  var valid = true;\n\n  if (cvl) {\n    element.__hf_custom_validation_running = true;\n    for (let i = 0; i < cvl; i++) {\n      const result = custom_validators[i](element);\n      if (result !== undefined && ! result) {\n        valid = false;\n        /* break on first invalid response */\n        break;\n      }\n    }\n    delete(element.__hf_custom_validation_running);\n  }\n\n  /* check, if there are other validity messages already */\n  if (valid) {\n    const msg = message_store.get(element);\n    valid = ! (msg.toString() && ('is_custom' in msg));\n  }\n\n  return ! valid;\n}\n\n\nconst patternMismatch = check(test_pattern, element => {\n  set_msg(element, 'patternMismatch',\n    element.title?\n      sprintf(_('PatternMismatchWithTitle'), element.title)\n      :\n      _('PatternMismatch')\n  );\n});\n\n\n/**\n * TODO: when rangeOverflow and rangeUnderflow are both called directly and\n * successful, the inRange and outOfRange classes won't get removed, unless\n * element.validityState.valid is queried, too.\n */\nconst rangeOverflow = check(test_max, element => {\n  const type = get_type(element);\n  const wrapper = get_wrapper(element);\n  const outOfRangeClass = wrapper && wrapper.settings.classes.outOfRange || 'hf-out-of-range';\n  const inRangeClass = wrapper && wrapper.settings.classes.inRange || 'hf-in-range';\n\n  let msg;\n\n  switch (type) {\n    case 'date':\n    case 'datetime':\n    case 'datetime-local':\n      msg = sprintf(_('DateRangeOverflow'),\n                    format_date(string_to_date(element.getAttribute('max'), type), type));\n      break;\n    case 'time':\n      msg = sprintf(_('TimeRangeOverflow'),\n                    format_date(string_to_date(element.getAttribute('max'), type), type));\n      break;\n    // case 'number':\n    default:\n      msg = sprintf(_('NumberRangeOverflow'),\n                    string_to_number(element.getAttribute('max'), type));\n      break;\n  }\n\n  set_msg(element, 'rangeOverflow', msg);\n  element.classList.add(outOfRangeClass);\n  element.classList.remove(inRangeClass);\n});\n\n\nconst rangeUnderflow = check(test_min, element => {\n  const type = get_type(element);\n  const wrapper = get_wrapper(element);\n  const outOfRangeClass = wrapper && wrapper.settings.classes.outOfRange || 'hf-out-of-range';\n  const inRangeClass = wrapper && wrapper.settings.classes.inRange || 'hf-in-range';\n\n  let msg;\n\n  switch (type) {\n    case 'date':\n    case 'datetime':\n    case 'datetime-local':\n      msg = sprintf(_('DateRangeUnderflow'),\n                    format_date(string_to_date(element.getAttribute('min'), type), type));\n      break;\n    case 'time':\n      msg = sprintf(_('TimeRangeUnderflow'),\n                    format_date(string_to_date(element.getAttribute('min'), type), type));\n      break;\n    // case 'number':\n    default:\n      msg = sprintf(_('NumberRangeUnderflow'),\n                    string_to_number(element.getAttribute('min'), type));\n      break;\n  }\n\n  set_msg(element, 'rangeUnderflow', msg);\n  element.classList.add(outOfRangeClass);\n  element.classList.remove(inRangeClass);\n});\n\n\nconst stepMismatch = check(test_step, element => {\n  const list = get_next_valid(element);\n  const min = list[0];\n  const max = list[1];\n  let sole = false;\n  let msg;\n\n  if (min === null) {\n    sole = max;\n  } else if (max === null) {\n    sole = min;\n  }\n\n  if (sole !== false) {\n    msg = sprintf(_('StepMismatchOneValue'), sole);\n  } else {\n    msg = sprintf(_('StepMismatch'), min, max);\n  }\n  set_msg(element, 'stepMismatch', msg);\n});\n\n\nconst tooLong = check(test_maxlength, element => {\n  set_msg(element, 'tooLong',\n          sprintf(_('TextTooLong'), element.getAttribute('maxlength'),\n                  unicode_string_length(element.value)));\n});\n\n\nconst tooShort = check(test_minlength, element => {\n  set_msg(element, 'tooShort',\n          sprintf(_('Please lengthen this text to %l characters or more (you are currently using %l characters).'),\n                  element.getAttribute('minlength'),\n                  unicode_string_length(element.value)));\n});\n\n\nconst typeMismatch = check(test_type, element => {\n  let msg = _('Please use the appropriate format.');\n  const type = get_type(element);\n\n  if (type === 'email') {\n    if (element.hasAttribute('multiple')) {\n      msg = _('Please enter a comma separated list of email addresses.');\n    } else {\n      msg = _('InvalidEmail');\n    }\n  } else if (type === 'url') {\n    msg = _('InvalidURL');\n  } else if (type === 'file') {\n    msg = _('Please select a file of the correct type.');\n  }\n\n  set_msg(element, 'typeMismatch', msg);\n});\n\n\nconst valueMissing = check(test_required, element => {\n  let msg = _('ValueMissing');\n  const type = get_type(element);\n\n  if (type === 'checkbox') {\n    msg = _('CheckboxMissing');\n  } else if (type === 'radio') {\n    msg = _('RadioMissing');\n  } else if (type === 'file') {\n    if (element.hasAttribute('multiple')) {\n      msg = _('Please select one or more files.');\n    } else {\n      msg = _('FileMissing');\n    }\n  } else if (element instanceof window.HTMLSelectElement) {\n    msg = _('SelectMissing');\n  }\n\n  set_msg(element, 'valueMissing', msg);\n});\n\n\n/**\n * the \"valid\" property calls all other validity checkers and returns true,\n * if all those return false.\n *\n * This is the major access point for _all_ other API methods, namely\n * (check|report)Validity().\n */\nconst valid = element => {\n  const wrapper = get_wrapper(element);\n  const validClass = wrapper && wrapper.settings.classes.valid || 'hf-valid';\n  const invalidClass = wrapper && wrapper.settings.classes.invalid || 'hf-invalid';\n  const userInvalidClass = wrapper && wrapper.settings.classes.userInvalid || 'hf-user-invalid';\n  const userValidClass = wrapper && wrapper.settings.classes.userValid || 'hf-user-valid';\n  const inRangeClass = wrapper && wrapper.settings.classes.inRange || 'hf-in-range';\n  const outOfRangeClass = wrapper && wrapper.settings.classes.outOfRange || 'hf-out-of-range';\n  const validatedClass = wrapper && wrapper.settings.classes.validated || 'hf-validated';\n\n  element.classList.add(validatedClass);\n\n  for (let checker of [badInput, customError, patternMismatch, rangeOverflow,\n                       rangeUnderflow, stepMismatch, tooLong, tooShort,\n                       typeMismatch, valueMissing]) {\n    if (checker(element)) {\n      element.classList.add(invalidClass);\n      element.classList.remove(validClass);\n      element.classList.remove(userValidClass);\n      if ((\n            (element.type === 'checkbox' || element.type === 'radio') &&\n            element.checked !== element.defaultChecked\n          ) ||\n          /* the following test is trivially false for checkboxes/radios */\n          element.value !== element.defaultValue) {\n        element.classList.add(userInvalidClass);\n      } else {\n        element.classList.remove(userInvalidClass);\n      }\n      element.setAttribute('aria-invalid', 'true');\n      return false;\n    }\n  }\n\n  message_store.delete(element);\n  element.classList.remove(invalidClass);\n  element.classList.remove(userInvalidClass);\n  element.classList.remove(outOfRangeClass);\n  element.classList.add(validClass);\n  element.classList.add(inRangeClass);\n  if (element.value !== element.defaultValue) {\n    element.classList.add(userValidClass);\n  } else {\n    element.classList.remove(userValidClass);\n  }\n  element.setAttribute('aria-invalid', 'false');\n  return true;\n};\n\n\nexport default {\n  badInput,\n  customError,\n  patternMismatch,\n  rangeOverflow,\n  rangeUnderflow,\n  stepMismatch,\n  tooLong,\n  tooShort,\n  typeMismatch,\n  valueMissing,\n  valid,\n};\n","'use strict';\n\n\nimport is_validation_candidate from '../tools/is_validation_candidate';\nimport mark from '../tools/mark';\nimport validity_state_checkers from '../tools/validity_state_checkers';\n\n\n/**\n * the validity state constructor\n */\nconst ValidityState = function(element) {\n  if (! (element instanceof window.HTMLElement)) {\n    throw new Error('cannot create a ValidityState for a non-element');\n  }\n\n  const cached = ValidityState.cache.get(element);\n  if (cached) {\n    return cached;\n  }\n\n  if (! (this instanceof ValidityState)) {\n    /* working around a forgotten `new` */\n    return new ValidityState(element);\n  }\n\n  this.element = element;\n  ValidityState.cache.set(element, this);\n};\n\n\n/**\n * the prototype for new validityState instances\n */\nconst ValidityStatePrototype = {};\nValidityState.prototype = ValidityStatePrototype;\n\nValidityState.cache = new WeakMap();\n\n/* small wrapper around the actual validator to check if the validator\n * should actually be called. `this` refers to the ValidityState object. */\nconst checker_getter = func => {\n  return function() {\n    if (! is_validation_candidate(this.element)) {\n      /* not being validated == valid by default */\n      return true;\n    }\n    return func(this.element);\n  };\n};\n\n/**\n * copy functionality from the validity checkers to the ValidityState\n * prototype\n */\nfor (let prop in validity_state_checkers) {\n  Object.defineProperty(ValidityStatePrototype, prop, {\n    configurable: true,\n    enumerable: true,\n    get: checker_getter(validity_state_checkers[prop]),\n    set: undefined,\n  });\n}\n\n/**\n * mark the validity prototype, because that is what the client-facing\n * code deals with mostly, not the property descriptor thing */\nmark(ValidityStatePrototype);\n\nexport default ValidityState;\n","'use strict';\n\n\nimport { get_validated_elements } from '../tools/get_validated_elements';\nimport trigger_event from '../tools/trigger_event';\nimport Renderer from '../components/renderer';\nimport ValidityState from './validityState';\nimport { get_wrapper } from '../components/wrapper';\n\n\n/**\n * check element's validity and report an error back to the user\n */\nexport default function reportValidity(element) {\n  /* if this is a <form>, report validity of all child inputs */\n  if (element instanceof window.HTMLFormElement) {\n    element.__hf_form_validation = true;\n    const form_valid = get_validated_elements(element).map(reportValidity).every(b=>b);\n    delete(element.__hf_form_validation);\n    return form_valid;\n  }\n\n  /* we copy checkValidity() here, b/c we have to check if the \"invalid\"\n   * event was canceled. */\n  const valid = ValidityState(element).valid;\n  var event;\n  if (valid) {\n    const wrapped_form = get_wrapper(element);\n    if (wrapped_form && wrapped_form.settings.validEvent) {\n      event = trigger_event(element, 'valid', { cancelable: true });\n    }\n  } else {\n    event = trigger_event(element, 'invalid', { cancelable: true });\n  }\n\n  if (! event || ! event.defaultPrevented) {\n    Renderer.showWarning(element, (element.form && element.form.__hf_form_validation));\n  }\n\n  return valid;\n}\n","'use strict';\n\n\nimport trigger_event, { create_event } from './trigger_event';\nimport matches from './matches';\nimport { get_validated_elements } from './get_validated_elements';\nimport reportValidity from '../polyfills/reportValidity';\nimport { text as text_types } from '../components/types';\nimport { get_wrapper } from '../components/wrapper';\n\n\n/**\n * submit a form, because `element` triggered it\n *\n * This method also dispatches a submit event on the form prior to the\n * submission. The event contains the trigger element as `submittedVia`.\n *\n * If the element is a button with a name, the name=value pair will be added\n * to the submitted data.\n */\nfunction submit_form_via(element) {\n  /* apparently, the submit event is not triggered in most browsers on\n   * the submit() method, so we do it manually here to model a natural\n   * submit as closely as possible.\n   * Now to the fun fact: If you trigger a submit event from a form, what\n   * do you think should happen?\n   * 1) the form will be automagically submitted by the browser, or\n   * 2) nothing.\n   * And as you already suspected, the correct answer is: both! Firefox\n   * opts for 1), Chrome for 2). Yay! */\n  var event_got_cancelled;\n\n  var submit_event = create_event('submit', { cancelable: true });\n  /* force Firefox to not submit the form, then fake preventDefault() */\n  submit_event.preventDefault();\n  Object.defineProperty(submit_event, 'defaultPrevented', {\n    value: false,\n    writable: true,\n  });\n  Object.defineProperty(submit_event, 'preventDefault', {\n    value: () => submit_event.defaultPrevented = event_got_cancelled = true,\n    writable: true,\n  });\n  trigger_event(element.form, submit_event, {}, { submittedVia: element });\n\n  if (! event_got_cancelled) {\n    add_submit_field(element);\n    window.HTMLFormElement.prototype.submit.call(element.form);\n    window.setTimeout(() => remove_submit_field(element));\n  }\n}\n\n\n/**\n * if a submit button was clicked, add its name=value by means of a type=hidden\n * input field\n */\nfunction add_submit_field(button) {\n  if (['image', 'submit'].indexOf(button.type) > -1 && button.name) {\n    const wrapper = get_wrapper(button.form) || {};\n    var submit_helper = wrapper.submit_helper;\n    if (submit_helper) {\n      if (submit_helper.parentNode) {\n        submit_helper.parentNode.removeChild(submit_helper);\n      }\n    } else {\n      submit_helper = document.createElement('input');\n      submit_helper.type = 'hidden';\n      wrapper.submit_helper = submit_helper;\n    }\n    submit_helper.name = button.name;\n    submit_helper.value = button.value;\n    button.form.appendChild(submit_helper);\n  }\n}\n\n\n/**\n * remove a possible helper input, that was added by `add_submit_field`\n */\nfunction remove_submit_field(button) {\n  if (['image', 'submit'].indexOf(button.type) > -1 && button.name) {\n    const wrapper = get_wrapper(button.form) || {};\n    const submit_helper = wrapper.submit_helper;\n    if (submit_helper && submit_helper.parentNode) {\n      submit_helper.parentNode.removeChild(submit_helper);\n    }\n  }\n}\n\n\n/**\n * check a form's validity and submit it\n *\n * The method triggers a cancellable `validate` event on the form. If the\n * event is cancelled, form submission will be aborted, too.\n *\n * If the form is found to contain invalid fields, focus the first field.\n */\nfunction check(button) {\n  /* trigger a \"validate\" event on the form to be submitted */\n  const val_event = trigger_event(button.form, 'validate',\n                                  { cancelable: true });\n  if (val_event.defaultPrevented) {\n    /* skip the whole submit thing, if the validation is canceled. A user\n     * can still call form.submit() afterwards. */\n    return;\n  }\n\n  var valid = true;\n  var first_invalid;\n  button.form.__hf_form_validation = true;\n  get_validated_elements(button.form).map(element => {\n    if (! reportValidity(element)) {\n      valid = false;\n      if (! first_invalid && ('focus' in element)) {\n        first_invalid = element;\n      }\n    }\n  });\n  delete(button.form.__hf_form_validation);\n\n  if (valid) {\n    submit_form_via(button);\n  } else if (first_invalid) {\n    /* focus the first invalid element, if validation went south */\n    first_invalid.focus();\n    /* tell the tale, if anyone wants to react to it */\n    trigger_event(button.form, 'forminvalid');\n  }\n}\n\n\n/**\n * test if node is a submit button\n */\nfunction is_submit_button(node) {\n  return (\n    /* must be an input or button element... */\n    (node.nodeName === 'INPUT' ||\n     node.nodeName === 'BUTTON') &&\n\n    /* ...and have a submitting type */\n    (node.type === 'image' || node.type === 'submit')\n  );\n}\n\n\n/**\n * test, if the click event would trigger a submit\n */\nfunction is_submitting_click(event, button) {\n  return (\n    /* prevented default: won't trigger a submit */\n    ! event.defaultPrevented &&\n\n    /* left button or middle button (submits in Chrome) */\n    (! ('button' in event) ||\n     event.button < 2) &&\n\n    /* must be a submit button... */\n    is_submit_button(button) &&\n\n    /* the button needs a form, that's going to be submitted */\n    button.form &&\n\n    /* again, if the form should not be validated, we're out of the game */\n    ! button.form.hasAttribute('novalidate')\n  );\n}\n\n\n/**\n * test, if the keypress event would trigger a submit\n */\nfunction is_submitting_keypress(event) {\n  return (\n    /* prevented default: won't trigger a submit */\n    ! event.defaultPrevented &&\n\n    (\n      (\n        /* ...and <Enter> was pressed... */\n        event.keyCode === 13 &&\n\n        /* ...on an <input> that is... */\n        event.target.nodeName === 'INPUT' &&\n\n        /* ...a standard text input field (not checkbox, ...) */\n        text_types.indexOf(event.target.type) > -1\n      ) || (\n        /* or <Enter> or <Space> was pressed... */\n        (event.keyCode === 13 ||\n         event.keyCode === 32) &&\n\n        /* ...on a submit button */\n        is_submit_button(event.target)\n      )\n    ) &&\n\n    /* there's a form... */\n    event.target.form &&\n\n    /* ...and the form allows validation */\n    ! event.target.form.hasAttribute('novalidate')\n  );\n}\n\n\n/**\n * catch clicks to children of <button>s\n */\nfunction get_clicked_button(element) {\n  if (is_submit_button(element)) {\n    return element;\n  } else if (matches(element, 'button:not([type]) *, button[type=\"submit\"] *')) {\n    return get_clicked_button(element.parentNode);\n  } else {\n    return null;\n  }\n}\n\n\n/**\n * return event handler to catch explicit submission by click on a button\n */\nfunction get_click_handler(ignore=false) {\n  return function(event) {\n    const button = get_clicked_button(event.target);\n    if (button && is_submitting_click(event, button)) {\n      event.preventDefault();\n      if (ignore || button.hasAttribute('formnovalidate')) {\n        /* if validation should be ignored, we're not interested in any checks */\n        submit_form_via(button);\n      } else {\n        check(button);\n      }\n    }\n  };\n}\nconst click_handler = get_click_handler();\nconst ignored_click_handler = get_click_handler(true);\n\n\n/**\n * catch implicit submission by pressing <Enter> in some situations\n */\nfunction get_keypress_handler(ignore) {\n  return function keypress_handler(event) {\n    if (is_submitting_keypress(event))  {\n      event.preventDefault();\n\n      const wrapper = get_wrapper(event.target.form) || { settings: {} };\n      if (wrapper.settings.preventImplicitSubmit) {\n        /* user doesn't want an implicit submit. Cancel here. */\n        return;\n      }\n\n      /* check, that there is no submit button in the form. Otherwise\n      * that should be clicked. */\n      const el = event.target.form.elements.length;\n      var submit;\n      for (let i = 0; i < el; i++) {\n        if (['image', 'submit'].indexOf(event.target.form.elements[i].type) > -1) {\n          submit = event.target.form.elements[i];\n          break;\n        }\n      }\n\n      /* trigger an \"implicit_submit\" event on the form to be submitted */\n      const implicit_event = trigger_event(event.target.form, 'implicit_submit',\n        {\n          cancelable: true\n        }, {\n          trigger: event.target,\n          submittedVia: submit || event.target,\n        });\n      if (implicit_event.defaultPrevented) {\n        /* skip the submit, if implicit submit is canceled */\n        return;\n      }\n\n      if (submit) {\n        submit.click();\n      } else if (ignore) {\n        submit_form_via(event.target);\n      } else {\n        check(event.target);\n      }\n    }\n  };\n}\nconst keypress_handler = get_keypress_handler();\nconst ignored_keypress_handler = get_keypress_handler(true);\n\n\n/**\n * catch all relevant events _prior_ to a form being submitted\n *\n * @param bool ignore bypass validation, when an attempt to submit the\n *                    form is detected. True, when the wrapper's revalidate\n *                    setting is 'never'.\n */\nexport function catch_submit(listening_node, ignore=false) {\n  if (ignore) {\n    listening_node.addEventListener('click', ignored_click_handler);\n    listening_node.addEventListener('keypress', ignored_keypress_handler);\n  } else {\n    listening_node.addEventListener('click', click_handler);\n    listening_node.addEventListener('keypress', keypress_handler);\n  }\n}\n\n\n/**\n * decommission the event listeners from catch_submit() again\n */\nexport function uncatch_submit(listening_node) {\n  listening_node.removeEventListener('click', ignored_click_handler);\n  listening_node.removeEventListener('keypress', ignored_keypress_handler);\n  listening_node.removeEventListener('click', click_handler);\n  listening_node.removeEventListener('keypress', keypress_handler);\n}\n","'use strict';\n\n\nimport { get_wrapper } from '../components/wrapper';\n\n\n/**\n * remove `property` from element and restore _original_property, if present\n */\nexport default function(element, property) {\n  try {\n    delete element[property];\n  } catch (e) {\n    /* Safari <= 9 and PhantomJS will end up here :-( Nothing to do except\n     * warning */\n    const wrapper = get_wrapper(element);\n    if (wrapper && wrapper.settings.debug) {\n      /* global console */\n      console.log('[hyperform] cannot uninstall custom property '+property);\n    }\n    return false;\n  }\n\n  const original_descriptor = Object.getOwnPropertyDescriptor(element,\n                                '_original_'+property);\n\n  if (original_descriptor) {\n    Object.defineProperty(element, property, original_descriptor);\n  }\n\n}\n","'use strict';\n\n\nimport { get_wrapper } from '../components/wrapper';\n\n\n/**\n * add `property` to an element\n *\n * ATTENTION! This function will search for an equally named property on the\n * *prototype* of an element, if element is a concrete DOM node. Do not use\n * it as general-purpose property installer.\n *\n * js> installer(element, 'foo', { value: 'bar' });\n * js> assert(element.foo === 'bar');\n */\nexport default function(element, property, descriptor) {\n  descriptor.configurable = true;\n  descriptor.enumerable = true;\n  if ('value' in descriptor) {\n    descriptor.writable = true;\n  }\n\n  /* on concrete instances, i.e., <input> elements, the naive lookup\n   * yields undefined. We have to look on its prototype then. On elements\n   * like the actual HTMLInputElement object the first line works. */\n  let original_descriptor = Object.getOwnPropertyDescriptor(element, property);\n  if (original_descriptor === undefined) {\n    original_descriptor = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(element), property);\n  }\n\n  if (original_descriptor) {\n\n    if (original_descriptor.configurable === false) {\n      /* Safari <= 9 and PhantomJS will end up here :-( Nothing to do except\n       * warning */\n      const wrapper = get_wrapper(element);\n      if (wrapper && wrapper.settings.debug) {\n        /* global console */\n        console.log('[hyperform] cannot install custom property '+property);\n      }\n      return false;\n    }\n\n    /* we already installed that property... */\n    if ((original_descriptor.get && original_descriptor.get.__hyperform) ||\n        (original_descriptor.value && original_descriptor.value.__hyperform)) {\n      return;\n    }\n\n    /* publish existing property under new name, if it's not from us */\n    Object.defineProperty(\n      element,\n      '_original_'+property,\n      original_descriptor\n    );\n  }\n\n  delete element[property];\n  Object.defineProperty(element, property, descriptor);\n\n  return true;\n}\n","'use strict';\n\nexport default function(element) {\n  return (\n          element instanceof window.HTMLButtonElement ||\n          element instanceof window.HTMLInputElement ||\n          element instanceof window.HTMLSelectElement ||\n          element instanceof window.HTMLTextAreaElement ||\n          element instanceof window.HTMLFieldSetElement ||\n          element === window.HTMLButtonElement.prototype ||\n          element === window.HTMLInputElement.prototype ||\n          element === window.HTMLSelectElement.prototype ||\n          element === window.HTMLTextAreaElement.prototype ||\n          element === window.HTMLFieldSetElement.prototype\n         );\n}\n\n","'use strict';\n\n\nimport { message_store } from '../components/message_store';\nimport Renderer from '../components/renderer';\nimport validity_state_checkers from '../tools/validity_state_checkers';\n\n\n/**\n * set a custom validity message or delete it with an empty string\n */\nexport default function setCustomValidity(element, msg) {\n  if (! msg) {\n    message_store.delete(element, true);\n  } else {\n    message_store.set(element, msg, true);\n  }\n  /* live-update the warning */\n  const warning = Renderer.getWarning(element);\n  if (warning) {\n    Renderer.setMessage(warning, msg, element);\n  }\n  /* update any classes if the validity state changes */\n  validity_state_checkers.valid(element);\n}\n","'use strict';\n\n\nimport get_type from '../tools/get_type';\nimport string_to_date from '../tools/string_to_date';\nimport date_to_string from '../tools/date_to_string';\nimport { dates } from '../components/types';\n\n\n/**\n * implement the valueAsDate functionality\n *\n * @see https://html.spec.whatwg.org/multipage/forms.html#dom-input-valueasdate\n */\nexport default function valueAsDate(element, value=undefined) {\n  const type = get_type(element);\n  if (dates.indexOf(type) > -1) {\n    if (value !== undefined) {\n      /* setter: value must be null or a Date() */\n      if (value === null) {\n        element.value = '';\n      } else if (value instanceof Date) {\n        if (isNaN(value.getTime())) {\n          element.value = '';\n        } else {\n          element.value = date_to_string(value, type);\n        }\n      } else {\n        throw new window.DOMException(\n          'valueAsDate setter encountered invalid value', 'TypeError');\n      }\n      return;\n    }\n\n    const value_date = string_to_date(element.value, type);\n    return value_date instanceof Date? value_date : null;\n\n  } else if (value !== undefined) {\n    /* trying to set a date on a not-date input fails */\n    throw new window.DOMException(\n      'valueAsDate setter cannot set date on this element',\n      'InvalidStateError');\n  }\n\n  return null;\n}\n","'use strict';\n\n\nimport get_type from '../tools/get_type';\nimport string_to_number from '../tools/string_to_number';\nimport { numbers } from '../components/types';\nimport valueAsDate from './valueAsDate';\n\n\n/**\n * implement the valueAsNumber functionality\n *\n * @see https://html.spec.whatwg.org/multipage/forms.html#dom-input-valueasnumber\n */\nexport default function valueAsNumber(element, value=undefined) {\n  const type = get_type(element);\n  if (numbers.indexOf(type) > -1) {\n    if (type === 'range' && element.hasAttribute('multiple')) {\n      /* @see https://html.spec.whatwg.org/multipage/forms.html#do-not-apply */\n      return NaN;\n    }\n\n    if (value !== undefined) {\n      /* setter: value must be NaN or a finite number */\n      if (isNaN(value)) {\n        element.value = '';\n      } else if (typeof value === 'number' && window.isFinite(value)) {\n        try {\n          /* try setting as a date, but... */\n          valueAsDate(element, new Date(value));\n        } catch (e) {\n          /* ... when valueAsDate is not responsible, ... */\n          if (! (e instanceof window.DOMException)) {\n            throw e;\n          }\n          /* ... set it via Number.toString(). */\n          element.value = value.toString();\n        }\n      } else {\n        throw new window.DOMException(\n          'valueAsNumber setter encountered invalid value', 'TypeError');\n      }\n      return;\n    }\n\n    return string_to_number(element.value, type);\n\n  } else if (value !== undefined) {\n    /* trying to set a number on a not-number input fails */\n    throw new window.DOMException(\n      'valueAsNumber setter cannot set number on this element',\n      'InvalidStateError');\n  }\n\n  return NaN;\n}\n","'use strict';\n\n\nimport get_next_valid from '../tools/get_next_valid';\nimport get_type from '../tools/get_type';\nimport { numbers } from '../components/types';\nimport valueAsNumber from './valueAsNumber';\n\n\n/**\n *\n */\nexport default function stepDown(element, n=1) {\n  if (numbers.indexOf(get_type(element)) === -1) {\n    throw new window.DOMException('stepDown encountered invalid type',\n                                  'InvalidStateError');\n  }\n  if ((element.getAttribute('step') || '').toLowerCase() === 'any') {\n    throw new window.DOMException('stepDown encountered step \"any\"',\n                                  'InvalidStateError');\n  }\n\n  const prev = get_next_valid(element, n)[0];\n\n  if (prev !== null) {\n    valueAsNumber(element, prev);\n  }\n}\n","'use strict';\n\n\nimport get_next_valid from '../tools/get_next_valid';\nimport get_type from '../tools/get_type';\nimport { numbers } from '../components/types';\nimport valueAsNumber from './valueAsNumber';\n\n\n/**\n *\n */\nexport default function stepUp(element, n=1) {\n  if (numbers.indexOf(get_type(element)) === -1) {\n    throw new window.DOMException('stepUp encountered invalid type',\n                                  'InvalidStateError');\n  }\n  if ((element.getAttribute('step') || '').toLowerCase() === 'any') {\n    throw new window.DOMException('stepUp encountered step \"any\"',\n                                  'InvalidStateError');\n  }\n\n  const next = get_next_valid(element, n)[1];\n\n  if (next !== null) {\n    valueAsNumber(element, next);\n  }\n}\n","'use strict';\n\n\nimport { message_store } from '../components/message_store';\n\n\n/**\n * get the validation message for an element, empty string, if the element\n * satisfies all constraints.\n */\nexport default function validationMessage(element) {\n  const msg = message_store.get(element);\n  if (! msg) {\n    return '';\n  }\n\n  /* make it a primitive again, since message_store returns String(). */\n  return msg.toString();\n}\n","'use strict';\n\n\nimport is_validation_candidate from '../tools/is_validation_candidate';\n\n\n/**\n * check, if an element will be subject to HTML5 validation at all\n */\nexport default function willValidate(element) {\n  return is_validation_candidate(element);\n}\n","'use strict';\n\n\nimport install_property from '../tools/property_installer';\nimport uninstall_property from '../tools/property_uninstaller';\nimport { call_hook, do_filter } from '../components/hooks';\n\n\nconst gA = prop => function() {\n  return do_filter('attr_get_'+prop, this.getAttribute(prop), this);\n};\n\nconst sA = prop => function(value) {\n  this.setAttribute(prop, do_filter('attr_set_'+prop, value, this));\n};\n\nconst gAb = prop => function() {\n  return do_filter('attr_get_'+prop, this.hasAttribute(prop), this);\n};\n\nconst sAb = prop => function(value) {\n  if (do_filter('attr_set_'+prop, value, this)) {\n    this.setAttribute(prop, prop);\n  } else {\n    this.removeAttribute(prop);\n  }\n};\n\nconst gAn = prop => function() {\n  return do_filter('attr_get_'+prop, Math.max(0, Number(this.getAttribute(prop))), this);\n};\n\nconst sAn = prop => function(value) {\n  value = do_filter('attr_set_'+prop, value, this);\n  if (/^[0-9]+$/.test(value)) {\n    this.setAttribute(prop, value);\n  }\n};\n\nfunction install_properties(element) {\n  for (let prop of [ 'accept', 'max', 'min', 'pattern', 'placeholder', 'step', ]) {\n    install_property(element, prop, {\n      get: gA(prop),\n      set: sA(prop),\n    });\n  }\n\n  for (let prop of [ 'multiple', 'required', 'readOnly', ]) {\n    install_property(element, prop, {\n      get: gAb(prop.toLowerCase()),\n      set: sAb(prop.toLowerCase()),\n    });\n  }\n\n  for (let prop of [ 'minLength', 'maxLength', ]) {\n    install_property(element, prop, {\n      get: gAn(prop.toLowerCase()),\n      set: sAn(prop.toLowerCase()),\n    });\n  }\n}\n\nfunction uninstall_properties(element) {\n  for (let prop of [ 'accept', 'max', 'min', 'pattern', 'placeholder', 'step',\n       'multiple', 'required', 'readOnly', 'minLength', 'maxLength', ]) {\n    uninstall_property(element, prop);\n  }\n}\n\nexport { install_properties, uninstall_properties };\n","'use strict';\n\n\nimport install_property from './property_installer';\nimport is_field from './is_field';\nimport mark from './mark';\n\nimport checkValidity from '../polyfills/checkValidity';\nimport reportValidity from '../polyfills/reportValidity';\nimport setCustomValidity from '../polyfills/setCustomValidity';\nimport stepDown from '../polyfills/stepDown';\nimport stepUp from '../polyfills/stepUp';\nimport validationMessage from '../polyfills/validationMessage';\nimport ValidityState from '../polyfills/validityState';\nimport valueAsDate from '../polyfills/valueAsDate';\nimport valueAsNumber from '../polyfills/valueAsNumber';\nimport willValidate from '../polyfills/willValidate';\nimport { install_properties } from '../polyfills/properties';\n\n\nconst polyfills = {\n    checkValidity: {\n      value: mark(function() { return checkValidity(this); }),\n    },\n    reportValidity: {\n      value: mark(function() { return reportValidity(this); }),\n    },\n    setCustomValidity: {\n      value: mark(function (msg) { return setCustomValidity(this, msg); }),\n    },\n    stepDown: {\n      value: mark(function(n=1) { return stepDown(this, n); }),\n    },\n    stepUp: {\n      value: mark(function(n=1) { return stepUp(this, n); }),\n    },\n    validationMessage: {\n      get: mark(function() { return validationMessage(this); }),\n    },\n    validity: {\n      get: mark(function() { return ValidityState(this); }),\n    },\n    valueAsDate: {\n      get: mark(function() { return valueAsDate(this); }),\n      set: mark(function(value) { valueAsDate(this, value); }),\n    },\n    valueAsNumber: {\n      get: mark(function() { return valueAsNumber(this); }),\n      set: mark(function(value) { valueAsNumber(this, value); }),\n    },\n    willValidate: {\n      get: mark(function() { return willValidate(this); }),\n    },\n};\n\nexport default function(element) {\n  if (is_field(element)) {\n\n    for (let prop in polyfills) {\n      install_property(element, prop, polyfills[prop]);\n    }\n\n    install_properties(element);\n\n  } else if (element instanceof window.HTMLFormElement ||\n             element === window.HTMLFormElement.prototype) {\n    install_property(element, 'checkValidity', polyfills.checkValidity);\n    install_property(element, 'reportValidity', polyfills.reportValidity);\n  }\n}\n","'use strict';\n\n\nimport is_field from './is_field';\nimport uninstall_property from './property_uninstaller';\nimport { uninstall_properties } from '../polyfills/properties';\n\n\nexport default function(element) {\n  if (is_field(element)) {\n\n    uninstall_property(element, 'checkValidity');\n    uninstall_property(element, 'reportValidity');\n    uninstall_property(element, 'setCustomValidity');\n    uninstall_property(element, 'stepDown');\n    uninstall_property(element, 'stepUp');\n    uninstall_property(element, 'validationMessage');\n    uninstall_property(element, 'validity');\n    uninstall_property(element, 'valueAsDate');\n    uninstall_property(element, 'valueAsNumber');\n    uninstall_property(element, 'willValidate');\n\n    uninstall_properties(element);\n\n  } else if (element instanceof window.HTMLFormElement) {\n    uninstall_property(element, 'checkValidity');\n    uninstall_property(element, 'reportValidity');\n  }\n}\n","'use strict';\n\n\nimport { catch_submit, uncatch_submit } from '../tools/catch_submit';\nimport ValidityState from '../polyfills/validityState';\nimport reportValidity from '../polyfills/reportValidity';\nimport uninstall from '../tools/property_uninstaller';\nimport polyfill from '../tools/polyfill';\nimport polyunfill from '../tools/polyunfill';\n\n\nconst instances = new WeakMap();\n\n\n/**\n * wrap <form>s, window or document, that get treated with the global\n * hyperform()\n */\nexport default function Wrapper(form, settings) {\n\n  /* do not allow more than one instance per form. Otherwise we'd end\n   * up with double event handlers, polyfills re-applied, ... */\n  var existing = instances.get(form);\n  if (existing) {\n    existing.settings = settings;\n    return existing;\n  }\n\n  this.form = form;\n  this.settings = settings;\n  this.revalidator = this.revalidate.bind(this);\n\n  instances.set(form, this);\n\n  catch_submit(form, settings.revalidate === 'never');\n\n  if (form === window || form.nodeType === 9) {\n    /* install on the prototypes, when called for the whole document */\n    this.install([\n      window.HTMLButtonElement.prototype,\n      window.HTMLInputElement.prototype,\n      window.HTMLSelectElement.prototype,\n      window.HTMLTextAreaElement.prototype,\n      window.HTMLFieldSetElement.prototype,\n    ]);\n    polyfill(window.HTMLFormElement);\n  } else if (form instanceof window.HTMLFormElement ||\n             form instanceof window.HTMLFieldSetElement) {\n    this.install(form.elements);\n    if (form instanceof window.HTMLFormElement) {\n      polyfill(form);\n    }\n  }\n\n  if (settings.revalidate === 'oninput' || settings.revalidate === 'hybrid') {\n    /* in a perfect world we'd just bind to \"input\", but support here is\n     * abysmal: http://caniuse.com/#feat=input-event */\n    form.addEventListener('keyup', this.revalidator);\n    form.addEventListener('change', this.revalidator);\n  }\n  if (settings.revalidate === 'onblur' || settings.revalidate === 'hybrid') {\n    /* useCapture=true, because `blur` doesn't bubble. See\n     * https://developer.mozilla.org/en-US/docs/Web/Events/blur#Event_delegation\n     * for a discussion */\n    form.addEventListener('blur', this.revalidator, true);\n  }\n}\n\n\nWrapper.prototype = {\n\n  destroy() {\n    uncatch_submit(this.form);\n    instances.delete(this.form);\n    this.form.removeEventListener('keyup', this.revalidator);\n    this.form.removeEventListener('change', this.revalidator);\n    this.form.removeEventListener('blur', this.revalidator, true);\n    if (this.form === window || this.form.nodeType === 9) {\n      this.uninstall([\n        window.HTMLButtonElement.prototype,\n        window.HTMLInputElement.prototype,\n        window.HTMLSelectElement.prototype,\n        window.HTMLTextAreaElement.prototype,\n        window.HTMLFieldSetElement.prototype,\n      ]);\n      polyunfill(window.HTMLFormElement);\n    } else if (this.form instanceof window.HTMLFormElement ||\n               this.form instanceof window.HTMLFieldSetElement) {\n      this.uninstall(this.form.elements);\n      if (this.form instanceof window.HTMLFormElement) {\n        polyunfill(this.form);\n      }\n    }\n  },\n\n  /**\n   * revalidate an input element\n   */\n  revalidate(event) {\n    if (event.target instanceof window.HTMLButtonElement ||\n        event.target instanceof window.HTMLTextAreaElement ||\n        event.target instanceof window.HTMLSelectElement ||\n        event.target instanceof window.HTMLInputElement) {\n\n      if (this.settings.revalidate === 'hybrid') {\n        /* \"hybrid\" somewhat simulates what browsers do. See for example\n         * Firefox's :-moz-ui-invalid pseudo-class:\n         * https://developer.mozilla.org/en-US/docs/Web/CSS/:-moz-ui-invalid */\n        if (event.type === 'blur' &&\n            event.target.value !== event.target.defaultValue ||\n            ValidityState(event.target).valid) {\n          /* on blur, update the report when the value has changed from the\n           * default or when the element is valid (possibly removing a still\n           * standing invalidity report). */\n          reportValidity(event.target);\n        } else if ((event.type === 'keyup' && event.keyCode !== 9) ||\n                    event.type === 'change') {\n          if (ValidityState(event.target).valid) {\n            // report instantly, when an element becomes valid,\n            // postpone report to blur event, when an element is invalid\n            reportValidity(event.target);\n          }\n        }\n\n      } else if (event.type !== 'keyup' || event.keyCode !== 9) {\n        /* do _not_ validate, when the user \"tabbed\" into the field initially,\n         * i.e., a keyup event with keyCode 9 */\n        reportValidity(event.target);\n      }\n\n    }\n  },\n\n  /**\n   * install the polyfills on each given element\n   *\n   * If you add elements dynamically, you have to call install() on them\n   * yourself:\n   *\n   * js> var form = hyperform(document.forms[0]);\n   * js> document.forms[0].appendChild(input);\n   * js> form.install(input);\n   *\n   * You can skip this, if you called hyperform on window or document.\n   */\n  install(els) {\n    if (els instanceof window.Element) {\n      els = [ els ];\n    }\n\n    const els_length = els.length;\n\n    for (let i = 0; i < els_length; i++) {\n      polyfill(els[i]);\n    }\n  },\n\n  uninstall(els) {\n    if (els instanceof window.Element) {\n      els = [ els ];\n    }\n\n    const els_length = els.length;\n\n    for (let i = 0; i < els_length; i++) {\n      polyunfill(els[i]);\n    }\n  },\n\n};\n\n\n/**\n * try to get the appropriate wrapper for a specific element by looking up\n * its parent chain\n *\n * @return Wrapper | undefined\n */\nexport function get_wrapper(element) {\n  var wrapped;\n\n  if (element.form) {\n    /* try a shortcut with the element's <form> */\n    wrapped = instances.get(element.form);\n  }\n\n  /* walk up the parent nodes until document (including) */\n  while (! wrapped && element) {\n    wrapped = instances.get(element);\n    element = element.parentNode;\n  }\n\n  if (! wrapped) {\n    /* try the global instance, if exists. This may also be undefined. */\n    wrapped = instances.get(window);\n  }\n\n  return wrapped;\n}\n","'use strict';\n\n\nimport { get_wrapper } from '../components/wrapper';\n\n\n/**\n * filter a form's elements for the ones needing validation prior to\n * a submit\n *\n * Returns an array of form elements.\n */\nexport function get_validated_elements(form) {\n  const wrapped_form = get_wrapper(form);\n\n  return Array.prototype.filter.call(form.elements, element => {\n    /* it must have a name (or validating nameless inputs is allowed) */\n    if (element.getAttribute('name') ||\n        (wrapped_form && wrapped_form.settings.validateNameless)) {\n      return true;\n    }\n    return false;\n  });\n}\n","'use strict';\n\n\nimport { call_hook } from '../components/hooks.js';\n\n\n/**\n * return either the data of a hook call or the result of action, if the\n * former is undefined\n *\n * @return function a function wrapper around action\n */\nexport default function(hook, action) {\n  return function() {\n    const data = call_hook(hook, Array.prototype.slice.call(arguments));\n\n    if (data !== undefined) {\n      return data;\n    }\n\n    return action.apply(this, arguments);\n  };\n}\n","'use strict';\n\n\nimport { get_validated_elements } from '../tools/get_validated_elements';\nimport return_hook_or from '../tools/return_hook_or';\nimport trigger_event from '../tools/trigger_event';\nimport ValidityState from './validityState';\nimport { get_wrapper } from '../components/wrapper';\n\n\n/**\n * check an element's validity with respect to it's form\n */\nconst checkValidity = return_hook_or('checkValidity', function(element) {\n  /* if this is a <form>, check validity of all child inputs */\n  if (element instanceof window.HTMLFormElement) {\n    return get_validated_elements(element).map(checkValidity).every(b=>b);\n  }\n\n  /* default is true, also for elements that are no validation candidates */\n  const valid = ValidityState(element).valid;\n  if (valid) {\n    const wrapped_form = get_wrapper(element);\n    if (wrapped_form && wrapped_form.settings.validEvent) {\n      trigger_event(element, 'valid');\n    }\n  } else {\n    trigger_event(element, 'invalid', { cancelable: true });\n  }\n\n  return valid;\n});\n\n\nexport default checkValidity;\n","'use strict';\nexport default '0.10.2';\n","'use strict';\n\n\nimport checkValidity from './polyfills/checkValidity';\nimport reportValidity from './polyfills/reportValidity';\nimport setCustomValidity from './polyfills/setCustomValidity';\nimport stepDown from './polyfills/stepDown';\nimport stepUp from './polyfills/stepUp';\nimport validationMessage from './polyfills/validationMessage';\nimport ValidityState from './polyfills/validityState';\nimport valueAsDate from './polyfills/valueAsDate';\nimport valueAsNumber from './polyfills/valueAsNumber';\nimport willValidate from './polyfills/willValidate';\nimport custom_messages from './components/custom_messages';\nimport { add_hook, remove_hook } from './components/hooks';\nimport { set_language, add_translation } from './components/localization';\nimport CustomValidatorRegistry from './components/registry';\nimport Renderer from './components/renderer';\nimport Wrapper from './components/wrapper';\nimport sprintf from './tools/sprintf';\nimport version from './version';\n\n\n/* deprecate the old snake_case names\n * TODO: delme before next non-patch release\n */\nfunction w(name) {\n  const deprecated_message = 'Please use camelCase method names! The name \"%s\" is deprecated and will be removed in the next non-patch release.';\n  /* global console */\n  console.log(sprintf(deprecated_message, name));\n}\n\n\n/**\n * public hyperform interface:\n */\nfunction hyperform(form, {\n                     classes,\n                     debug=false,\n                     extend_fieldset,\n                     extendFieldset,\n                     novalidate_on_elements,\n                     novalidateOnElements,\n                     prevent_implicit_submit,\n                     preventImplicitSubmit/* TODO: uncomment =false */,\n                     revalidate,\n                     strict=false,\n                     valid_event,\n                     validEvent,\n                     validateNameless=false,\n                   }={}) {\n\n  if (! classes) {\n    classes = {};\n  }\n  // TODO: clean up before next non-patch release\n  if (extendFieldset === undefined) {\n    if (extend_fieldset === undefined) {\n      extendFieldset = ! strict;\n    } else {\n      w('extend_fieldset');\n      extendFieldset = extend_fieldset;\n    }\n  }\n  if (novalidateOnElements === undefined) {\n    if (novalidate_on_elements === undefined) {\n      novalidateOnElements = ! strict;\n    } else {\n      w('novalidate_on_elements');\n      novalidateOnElements = novalidate_on_elements;\n    }\n  }\n  if (preventImplicitSubmit === undefined) {\n    if (prevent_implicit_submit === undefined) {\n      preventImplicitSubmit = false;\n    } else {\n      w('prevent_implicit_submit');\n      preventImplicitSubmit = prevent_implicit_submit;\n    }\n  }\n  if (revalidate === undefined) {\n    /* other recognized values: 'oninput', 'onblur', 'onsubmit' and 'never' */\n    revalidate = strict? 'onsubmit' : 'hybrid';\n  }\n  if (validEvent === undefined) {\n    if (valid_event === undefined) {\n      validEvent = ! strict;\n    } else {\n      w('valid_event');\n      validEvent = valid_event;\n    }\n  }\n\n  const settings = { debug, strict, preventImplicitSubmit, revalidate,\n                     validEvent, extendFieldset, classes, novalidateOnElements,\n                     validateNameless,\n                   };\n\n  if (form instanceof window.NodeList ||\n      form instanceof window.HTMLCollection ||\n      form instanceof Array) {\n    return Array.prototype.map.call(form,\n                                    element => hyperform(element, settings));\n  }\n\n  return new Wrapper(form, settings);\n}\n\nhyperform.version = version;\n\nhyperform.checkValidity = checkValidity;\nhyperform.reportValidity = reportValidity;\nhyperform.setCustomValidity = setCustomValidity;\nhyperform.stepDown = stepDown;\nhyperform.stepUp = stepUp;\nhyperform.validationMessage = validationMessage;\nhyperform.ValidityState = ValidityState;\nhyperform.valueAsDate = valueAsDate;\nhyperform.valueAsNumber = valueAsNumber;\nhyperform.willValidate = willValidate;\n\nhyperform.setLanguage = lang => { set_language(lang); return hyperform; };\nhyperform.addTranslation = (lang, catalog) => { add_translation(lang, catalog); return hyperform; };\nhyperform.setRenderer = (renderer, action) => { Renderer.set(renderer, action); return hyperform; };\nhyperform.addValidator = (element, validator) => { CustomValidatorRegistry.set(element, validator); return hyperform; };\nhyperform.setMessage = (element, validator, message) => { custom_messages.set(element, validator, message); return hyperform; };\nhyperform.addHook = (hook, action, position) => { add_hook(hook, action, position); return hyperform; };\nhyperform.removeHook = (hook, action) => { remove_hook(hook, action); return hyperform; };\n\n// TODO: Remove in next non-patch version\nhyperform.set_language = lang => { w('set_language'); set_language(lang); return hyperform; };\nhyperform.add_translation = (lang, catalog) => { w('add_translation'); add_translation(lang, catalog); return hyperform; };\nhyperform.set_renderer = (renderer, action) => { w('set_renderer'); Renderer.set(renderer, action); return hyperform; };\nhyperform.add_validator = (element, validator) => { w('add_validator'); CustomValidatorRegistry.set(element, validator); return hyperform; };\nhyperform.set_message = (element, validator, message) => { w('set_message'); custom_messages.set(element, validator, message); return hyperform; };\nhyperform.add_hook = (hook, action, position) => { w('add_hook'); add_hook(hook, action, position); return hyperform; };\nhyperform.remove_hook = (hook, action) => { w('remove_hook'); remove_hook(hook, action); return hyperform; };\n\nif (document.currentScript && document.currentScript.hasAttribute('data-hf-autoload')) {\n  hyperform(window);\n}\n\nexport default hyperform;\n","function factory(Component) {\n  const id = Component.getID();\n  const qs = `[data-${id}]`;\n  const elements = document.querySelectorAll(qs);\n  return [...elements].map(el => new Component(el));\n}\n\nexport { factory };\n","import hyperform from 'hyperform';\nimport { factory } from '../../scripts/factory';\n\nconst formValidationI18n = {\n  ru: {\n    TextTooLong:\n      ',     %l    (   %l ).',\n    TextTooShort:\n      ',    %l  (   %l ).',\n    ValueMissing: ',   .',\n    CheckboxMissing: ',  ,    .',\n    RadioMissing: ',     .',\n    FileMissing: ',  .',\n    SelectMissing: ',    .',\n    InvalidEmail: ',    .',\n    InvalidURL: ',  -.',\n    InvalidDate: ',  ',\n    PatternMismatch: ',   .',\n    PatternMismatchWithTitle: ',   : %l.',\n    NumberRangeOverflow: ',  ,    %l.',\n    DateRangeOverflow: ',  ,   %l.',\n    TimeRangeOverflow: ',  ,   %l.',\n    NumberRangeUnderflow: ',  ,   %l.',\n    DateRangeUnderflow: ',  ,  ,  %l.',\n    TimeRangeUnderflow: ',  ,  ,  %l.',\n    StepMismatch:\n      ',   .     %l  %l',\n    StepMismatchOneValue:\n      ',   .    %l.',\n    BadInputNumber: ',  ',\n    'Please match the requested type.': ',   .',\n    'Please comply with all requirements.': ',    .',\n    'Please lengthen this text to %l characters or more (you are currently using %l characters).':\n      ',     %l    (  %l ).',\n    'Please use the appropriate format.': ',   .',\n    'Please enter a comma separated list of email addresses.':\n      ',       ',\n    'Please select a file of the correct type.': ',    .',\n    'Please select one or more files.': ',     .',\n    'any value': ' ',\n    'any valid value': '  '\n  }\n};\n\nclass Form {\n  constructor(el) {\n    this.lang = 'ru';\n    this.el = el;\n    this.formValidationClasses = {\n      warning: 'form-field__warning-msg',\n      valid: 'form-field_valid',\n      invalid: 'form-field_invalid',\n      validated: 'form-field_validated'\n    };\n    this.init();\n  }\n\n  static getID() {\n    return 'form';\n  }\n\n  init() {\n    hyperform(this.el, {\n      classes: this.formValidationClasses,\n      validateNameless: true,\n      preventImplicitSubmit: true\n    });\n    hyperform.addTranslation(this.lang, formValidationI18n[this.lang]);\n    hyperform.setLanguage(this.lang);\n  }\n}\n\nfactory(Form);\n\nexport { Form };\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.ru = {}));\n}(this, function (exports) { 'use strict';\n\n  var fp = typeof window !== \"undefined\" && window.flatpickr !== undefined\n      ? window.flatpickr\n      : {\n          l10ns: {}\n      };\n  var Russian = {\n      weekdays: {\n          shorthand: [\"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n          longhand: [\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n          ]\n      },\n      months: {\n          shorthand: [\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n          ],\n          longhand: [\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n              \"\",\n          ]\n      },\n      firstDayOfWeek: 1,\n      ordinal: function () {\n          return \"\";\n      },\n      rangeSeparator: \"  \",\n      weekAbbreviation: \".\",\n      scrollTitle: \"  \",\n      toggleTitle: \"  \",\n      amPM: [\"\", \"\"],\n      yearAriaLabel: \"\",\n      time_24hr: true\n  };\n  fp.l10ns.ru = Russian;\n  var ru = fp.l10ns;\n\n  exports.Russian = Russian;\n  exports.default = ru;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","/* flatpickr v4.6.3, @license MIT */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = global || self, global.flatpickr = factory());\n}(this, function () { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\n\n    var HOOKS = [\n        \"onChange\",\n        \"onClose\",\n        \"onDayCreate\",\n        \"onDestroy\",\n        \"onKeyDown\",\n        \"onMonthChange\",\n        \"onOpen\",\n        \"onParseConfig\",\n        \"onReady\",\n        \"onValueUpdate\",\n        \"onYearChange\",\n        \"onPreCalendarPosition\",\n    ];\n    var defaults = {\n        _disable: [],\n        _enable: [],\n        allowInput: false,\n        altFormat: \"F j, Y\",\n        altInput: false,\n        altInputClass: \"form-control input\",\n        animate: typeof window === \"object\" &&\n            window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n        ariaDateFormat: \"F j, Y\",\n        clickOpens: true,\n        closeOnSelect: true,\n        conjunction: \", \",\n        dateFormat: \"Y-m-d\",\n        defaultHour: 12,\n        defaultMinute: 0,\n        defaultSeconds: 0,\n        disable: [],\n        disableMobile: false,\n        enable: [],\n        enableSeconds: false,\n        enableTime: false,\n        errorHandler: function (err) {\n            return typeof console !== \"undefined\" && console.warn(err);\n        },\n        getWeek: function (givenDate) {\n            var date = new Date(givenDate.getTime());\n            date.setHours(0, 0, 0, 0);\n            // Thursday in current week decides the year.\n            date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n            // January 4 is always in week 1.\n            var week1 = new Date(date.getFullYear(), 0, 4);\n            // Adjust to Thursday in week 1 and count number of weeks from date to week1.\n            return (1 +\n                Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                    3 +\n                    ((week1.getDay() + 6) % 7)) /\n                    7));\n        },\n        hourIncrement: 1,\n        ignoredFocusElements: [],\n        inline: false,\n        locale: \"default\",\n        minuteIncrement: 5,\n        mode: \"single\",\n        monthSelectorType: \"dropdown\",\n        nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n        noCalendar: false,\n        now: new Date(),\n        onChange: [],\n        onClose: [],\n        onDayCreate: [],\n        onDestroy: [],\n        onKeyDown: [],\n        onMonthChange: [],\n        onOpen: [],\n        onParseConfig: [],\n        onReady: [],\n        onValueUpdate: [],\n        onYearChange: [],\n        onPreCalendarPosition: [],\n        plugins: [],\n        position: \"auto\",\n        positionElement: undefined,\n        prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n        shorthandCurrentMonth: false,\n        showMonths: 1,\n        static: false,\n        time_24hr: false,\n        weekNumbers: false,\n        wrap: false\n    };\n\n    var english = {\n        weekdays: {\n            shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n            longhand: [\n                \"Sunday\",\n                \"Monday\",\n                \"Tuesday\",\n                \"Wednesday\",\n                \"Thursday\",\n                \"Friday\",\n                \"Saturday\",\n            ]\n        },\n        months: {\n            shorthand: [\n                \"Jan\",\n                \"Feb\",\n                \"Mar\",\n                \"Apr\",\n                \"May\",\n                \"Jun\",\n                \"Jul\",\n                \"Aug\",\n                \"Sep\",\n                \"Oct\",\n                \"Nov\",\n                \"Dec\",\n            ],\n            longhand: [\n                \"January\",\n                \"February\",\n                \"March\",\n                \"April\",\n                \"May\",\n                \"June\",\n                \"July\",\n                \"August\",\n                \"September\",\n                \"October\",\n                \"November\",\n                \"December\",\n            ]\n        },\n        daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n        firstDayOfWeek: 0,\n        ordinal: function (nth) {\n            var s = nth % 100;\n            if (s > 3 && s < 21)\n                return \"th\";\n            switch (s % 10) {\n                case 1:\n                    return \"st\";\n                case 2:\n                    return \"nd\";\n                case 3:\n                    return \"rd\";\n                default:\n                    return \"th\";\n            }\n        },\n        rangeSeparator: \" to \",\n        weekAbbreviation: \"Wk\",\n        scrollTitle: \"Scroll to increment\",\n        toggleTitle: \"Click to toggle\",\n        amPM: [\"AM\", \"PM\"],\n        yearAriaLabel: \"Year\",\n        hourAriaLabel: \"Hour\",\n        minuteAriaLabel: \"Minute\",\n        time_24hr: false\n    };\n\n    var pad = function (number) { return (\"0\" + number).slice(-2); };\n    var int = function (bool) { return (bool === true ? 1 : 0); };\n    /* istanbul ignore next */\n    function debounce(func, wait, immediate) {\n        if (immediate === void 0) { immediate = false; }\n        var timeout;\n        return function () {\n            var context = this, args = arguments;\n            timeout !== null && clearTimeout(timeout);\n            timeout = window.setTimeout(function () {\n                timeout = null;\n                if (!immediate)\n                    func.apply(context, args);\n            }, wait);\n            if (immediate && !timeout)\n                func.apply(context, args);\n        };\n    }\n    var arrayify = function (obj) {\n        return obj instanceof Array ? obj : [obj];\n    };\n\n    function toggleClass(elem, className, bool) {\n        if (bool === true)\n            return elem.classList.add(className);\n        elem.classList.remove(className);\n    }\n    function createElement(tag, className, content) {\n        var e = window.document.createElement(tag);\n        className = className || \"\";\n        content = content || \"\";\n        e.className = className;\n        if (content !== undefined)\n            e.textContent = content;\n        return e;\n    }\n    function clearNode(node) {\n        while (node.firstChild)\n            node.removeChild(node.firstChild);\n    }\n    function findParent(node, condition) {\n        if (condition(node))\n            return node;\n        else if (node.parentNode)\n            return findParent(node.parentNode, condition);\n        return undefined; // nothing found\n    }\n    function createNumberInput(inputClassName, opts) {\n        var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n        if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n            numInput.type = \"number\";\n        }\n        else {\n            numInput.type = \"text\";\n            numInput.pattern = \"\\\\d*\";\n        }\n        if (opts !== undefined)\n            for (var key in opts)\n                numInput.setAttribute(key, opts[key]);\n        wrapper.appendChild(numInput);\n        wrapper.appendChild(arrowUp);\n        wrapper.appendChild(arrowDown);\n        return wrapper;\n    }\n    function getEventTarget(event) {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n\n    var doNothing = function () { return undefined; };\n    var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\n    var revFormat = {\n        D: doNothing,\n        F: function (dateObj, monthName, locale) {\n            dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n        },\n        G: function (dateObj, hour) {\n            dateObj.setHours(parseFloat(hour));\n        },\n        H: function (dateObj, hour) {\n            dateObj.setHours(parseFloat(hour));\n        },\n        J: function (dateObj, day) {\n            dateObj.setDate(parseFloat(day));\n        },\n        K: function (dateObj, amPM, locale) {\n            dateObj.setHours((dateObj.getHours() % 12) +\n                12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n        },\n        M: function (dateObj, shortMonth, locale) {\n            dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n        },\n        S: function (dateObj, seconds) {\n            dateObj.setSeconds(parseFloat(seconds));\n        },\n        U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n        W: function (dateObj, weekNum, locale) {\n            var weekNumber = parseInt(weekNum);\n            var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n            date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n            return date;\n        },\n        Y: function (dateObj, year) {\n            dateObj.setFullYear(parseFloat(year));\n        },\n        Z: function (_, ISODate) { return new Date(ISODate); },\n        d: function (dateObj, day) {\n            dateObj.setDate(parseFloat(day));\n        },\n        h: function (dateObj, hour) {\n            dateObj.setHours(parseFloat(hour));\n        },\n        i: function (dateObj, minutes) {\n            dateObj.setMinutes(parseFloat(minutes));\n        },\n        j: function (dateObj, day) {\n            dateObj.setDate(parseFloat(day));\n        },\n        l: doNothing,\n        m: function (dateObj, month) {\n            dateObj.setMonth(parseFloat(month) - 1);\n        },\n        n: function (dateObj, month) {\n            dateObj.setMonth(parseFloat(month) - 1);\n        },\n        s: function (dateObj, seconds) {\n            dateObj.setSeconds(parseFloat(seconds));\n        },\n        u: function (_, unixMillSeconds) {\n            return new Date(parseFloat(unixMillSeconds));\n        },\n        w: doNothing,\n        y: function (dateObj, year) {\n            dateObj.setFullYear(2000 + parseFloat(year));\n        }\n    };\n    var tokenRegex = {\n        D: \"(\\\\w+)\",\n        F: \"(\\\\w+)\",\n        G: \"(\\\\d\\\\d|\\\\d)\",\n        H: \"(\\\\d\\\\d|\\\\d)\",\n        J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n        K: \"\",\n        M: \"(\\\\w+)\",\n        S: \"(\\\\d\\\\d|\\\\d)\",\n        U: \"(.+)\",\n        W: \"(\\\\d\\\\d|\\\\d)\",\n        Y: \"(\\\\d{4})\",\n        Z: \"(.+)\",\n        d: \"(\\\\d\\\\d|\\\\d)\",\n        h: \"(\\\\d\\\\d|\\\\d)\",\n        i: \"(\\\\d\\\\d|\\\\d)\",\n        j: \"(\\\\d\\\\d|\\\\d)\",\n        l: \"(\\\\w+)\",\n        m: \"(\\\\d\\\\d|\\\\d)\",\n        n: \"(\\\\d\\\\d|\\\\d)\",\n        s: \"(\\\\d\\\\d|\\\\d)\",\n        u: \"(.+)\",\n        w: \"(\\\\d\\\\d|\\\\d)\",\n        y: \"(\\\\d{2})\"\n    };\n    var formats = {\n        // get the date in UTC\n        Z: function (date) { return date.toISOString(); },\n        // weekday name, short, e.g. Thu\n        D: function (date, locale, options) {\n            return locale.weekdays.shorthand[formats.w(date, locale, options)];\n        },\n        // full month name e.g. January\n        F: function (date, locale, options) {\n            return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n        },\n        // padded hour 1-12\n        G: function (date, locale, options) {\n            return pad(formats.h(date, locale, options));\n        },\n        // hours with leading zero e.g. 03\n        H: function (date) { return pad(date.getHours()); },\n        // day (1-30) with ordinal suffix e.g. 1st, 2nd\n        J: function (date, locale) {\n            return locale.ordinal !== undefined\n                ? date.getDate() + locale.ordinal(date.getDate())\n                : date.getDate();\n        },\n        // AM/PM\n        K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n        // shorthand month e.g. Jan, Sep, Oct, etc\n        M: function (date, locale) {\n            return monthToStr(date.getMonth(), true, locale);\n        },\n        // seconds 00-59\n        S: function (date) { return pad(date.getSeconds()); },\n        // unix timestamp\n        U: function (date) { return date.getTime() / 1000; },\n        W: function (date, _, options) {\n            return options.getWeek(date);\n        },\n        // full year e.g. 2016\n        Y: function (date) { return date.getFullYear(); },\n        // day in month, padded (01-30)\n        d: function (date) { return pad(date.getDate()); },\n        // hour from 1-12 (am/pm)\n        h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n        // minutes, padded with leading zero e.g. 09\n        i: function (date) { return pad(date.getMinutes()); },\n        // day in month (1-30)\n        j: function (date) { return date.getDate(); },\n        // weekday name, full, e.g. Thursday\n        l: function (date, locale) {\n            return locale.weekdays.longhand[date.getDay()];\n        },\n        // padded month number (01-12)\n        m: function (date) { return pad(date.getMonth() + 1); },\n        // the month number (1-12)\n        n: function (date) { return date.getMonth() + 1; },\n        // seconds 0-59\n        s: function (date) { return date.getSeconds(); },\n        // Unix Milliseconds\n        u: function (date) { return date.getTime(); },\n        // number of the day of the week\n        w: function (date) { return date.getDay(); },\n        // last two digits of year e.g. 16 for 2016\n        y: function (date) { return String(date.getFullYear()).substring(2); }\n    };\n\n    var createDateFormatter = function (_a) {\n        var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n        return function (dateObj, frmt, overrideLocale) {\n            var locale = overrideLocale || l10n;\n            if (config.formatDate !== undefined) {\n                return config.formatDate(dateObj, frmt, locale);\n            }\n            return frmt\n                .split(\"\")\n                .map(function (c, i, arr) {\n                return formats[c] && arr[i - 1] !== \"\\\\\"\n                    ? formats[c](dateObj, locale, config)\n                    : c !== \"\\\\\"\n                        ? c\n                        : \"\";\n            })\n                .join(\"\");\n        };\n    };\n    var createDateParser = function (_a) {\n        var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n        return function (date, givenFormat, timeless, customLocale) {\n            if (date !== 0 && !date)\n                return undefined;\n            var locale = customLocale || l10n;\n            var parsedDate;\n            var dateOrig = date;\n            if (date instanceof Date)\n                parsedDate = new Date(date.getTime());\n            else if (typeof date !== \"string\" &&\n                date.toFixed !== undefined // timestamp\n            )\n                // create a copy\n                parsedDate = new Date(date);\n            else if (typeof date === \"string\") {\n                // date string\n                var format = givenFormat || (config || defaults).dateFormat;\n                var datestr = String(date).trim();\n                if (datestr === \"today\") {\n                    parsedDate = new Date();\n                    timeless = true;\n                }\n                else if (/Z$/.test(datestr) ||\n                    /GMT$/.test(datestr) // datestrings w/ timezone\n                )\n                    parsedDate = new Date(date);\n                else if (config && config.parseDate)\n                    parsedDate = config.parseDate(date, format);\n                else {\n                    parsedDate =\n                        !config || !config.noCalendar\n                            ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                            : new Date(new Date().setHours(0, 0, 0, 0));\n                    var matched = void 0, ops = [];\n                    for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                        var token_1 = format[i];\n                        var isBackSlash = token_1 === \"\\\\\";\n                        var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                        if (tokenRegex[token_1] && !escaped) {\n                            regexStr += tokenRegex[token_1];\n                            var match = new RegExp(regexStr).exec(date);\n                            if (match && (matched = true)) {\n                                ops[token_1 !== \"Y\" ? \"push\" : \"unshift\"]({\n                                    fn: revFormat[token_1],\n                                    val: match[++matchIndex]\n                                });\n                            }\n                        }\n                        else if (!isBackSlash)\n                            regexStr += \".\"; // don't really care\n                        ops.forEach(function (_a) {\n                            var fn = _a.fn, val = _a.val;\n                            return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                        });\n                    }\n                    parsedDate = matched ? parsedDate : undefined;\n                }\n            }\n            /* istanbul ignore next */\n            if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n                config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n                return undefined;\n            }\n            if (timeless === true)\n                parsedDate.setHours(0, 0, 0, 0);\n            return parsedDate;\n        };\n    };\n    /**\n     * Compute the difference in dates, measured in ms\n     */\n    function compareDates(date1, date2, timeless) {\n        if (timeless === void 0) { timeless = true; }\n        if (timeless !== false) {\n            return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n                new Date(date2.getTime()).setHours(0, 0, 0, 0));\n        }\n        return date1.getTime() - date2.getTime();\n    }\n    var isBetween = function (ts, ts1, ts2) {\n        return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n    };\n    var duration = {\n        DAY: 86400000\n    };\n\n    if (typeof Object.assign !== \"function\") {\n        Object.assign = function (target) {\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            if (!target) {\n                throw TypeError(\"Cannot convert undefined or null to object\");\n            }\n            var _loop_1 = function (source) {\n                if (source) {\n                    Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n                }\n            };\n            for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n                var source = args_1[_a];\n                _loop_1(source);\n            }\n            return target;\n        };\n    }\n\n    var DEBOUNCED_CHANGE_MS = 300;\n    function FlatpickrInstance(element, instanceConfig) {\n        var self = {\n            config: __assign({}, defaults, flatpickr.defaultConfig),\n            l10n: english\n        };\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n        self._handlers = [];\n        self.pluginElements = [];\n        self.loadedPlugins = [];\n        self._bind = bind;\n        self._setHoursFromDate = setHoursFromDate;\n        self._positionCalendar = positionCalendar;\n        self.changeMonth = changeMonth;\n        self.changeYear = changeYear;\n        self.clear = clear;\n        self.close = close;\n        self._createElement = createElement;\n        self.destroy = destroy;\n        self.isEnabled = isEnabled;\n        self.jumpToDate = jumpToDate;\n        self.open = open;\n        self.redraw = redraw;\n        self.set = set;\n        self.setDate = setDate;\n        self.toggle = toggle;\n        function setupHelperFunctions() {\n            self.utils = {\n                getDaysInMonth: function (month, yr) {\n                    if (month === void 0) { month = self.currentMonth; }\n                    if (yr === void 0) { yr = self.currentYear; }\n                    if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                        return 29;\n                    return self.l10n.daysInMonth[month];\n                }\n            };\n        }\n        function init() {\n            self.element = self.input = element;\n            self.isOpen = false;\n            parseConfig();\n            setupLocale();\n            setupInputs();\n            setupDates();\n            setupHelperFunctions();\n            if (!self.isMobile)\n                build();\n            bindEvents();\n            if (self.selectedDates.length || self.config.noCalendar) {\n                if (self.config.enableTime) {\n                    setHoursFromDate(self.config.noCalendar\n                        ? self.latestSelectedDateObj || self.config.minDate\n                        : undefined);\n                }\n                updateValue(false);\n            }\n            setCalendarWidth();\n            self.showTimeInput =\n                self.selectedDates.length > 0 || self.config.noCalendar;\n            var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n            /* TODO: investigate this further\n        \n              Currently, there is weird positioning behavior in safari causing pages\n              to scroll up. https://github.com/chmln/flatpickr/issues/563\n        \n              However, most browsers are not Safari and positioning is expensive when used\n              in scale. https://github.com/chmln/flatpickr/issues/1096\n            */\n            if (!self.isMobile && isSafari) {\n                positionCalendar();\n            }\n            triggerEvent(\"onReady\");\n        }\n        function bindToInstance(fn) {\n            return fn.bind(self);\n        }\n        function setCalendarWidth() {\n            var config = self.config;\n            if (config.weekNumbers === false && config.showMonths === 1)\n                return;\n            else if (config.noCalendar !== true) {\n                window.requestAnimationFrame(function () {\n                    if (self.calendarContainer !== undefined) {\n                        self.calendarContainer.style.visibility = \"hidden\";\n                        self.calendarContainer.style.display = \"block\";\n                    }\n                    if (self.daysContainer !== undefined) {\n                        var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                        self.daysContainer.style.width = daysWidth + \"px\";\n                        self.calendarContainer.style.width =\n                            daysWidth +\n                                (self.weekWrapper !== undefined\n                                    ? self.weekWrapper.offsetWidth\n                                    : 0) +\n                                \"px\";\n                        self.calendarContainer.style.removeProperty(\"visibility\");\n                        self.calendarContainer.style.removeProperty(\"display\");\n                    }\n                });\n            }\n        }\n        /**\n         * The handler for all events targeting the time inputs\n         */\n        function updateTime(e) {\n            if (self.selectedDates.length === 0) {\n                setDefaultTime();\n            }\n            if (e !== undefined && e.type !== \"blur\") {\n                timeWrapper(e);\n            }\n            var prevValue = self._input.value;\n            setHoursFromInputs();\n            updateValue();\n            if (self._input.value !== prevValue) {\n                self._debouncedChange();\n            }\n        }\n        function ampm2military(hour, amPM) {\n            return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n        }\n        function military2ampm(hour) {\n            switch (hour % 24) {\n                case 0:\n                case 12:\n                    return 12;\n                default:\n                    return hour % 12;\n            }\n        }\n        /**\n         * Syncs the selected date object time with user's time input\n         */\n        function setHoursFromInputs() {\n            if (self.hourElement === undefined || self.minuteElement === undefined)\n                return;\n            var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n                ? (parseInt(self.secondElement.value, 10) || 0) % 60\n                : 0;\n            if (self.amPM !== undefined) {\n                hours = ampm2military(hours, self.amPM.textContent);\n            }\n            var limitMinHours = self.config.minTime !== undefined ||\n                (self.config.minDate &&\n                    self.minDateHasTime &&\n                    self.latestSelectedDateObj &&\n                    compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                        0);\n            var limitMaxHours = self.config.maxTime !== undefined ||\n                (self.config.maxDate &&\n                    self.maxDateHasTime &&\n                    self.latestSelectedDateObj &&\n                    compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                        0);\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours())\n                    minutes = Math.max(minutes, minTime.getMinutes());\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n            setHours(hours, minutes, seconds);\n        }\n        /**\n         * Syncs time input values with a date\n         */\n        function setHoursFromDate(dateObj) {\n            var date = dateObj || self.latestSelectedDateObj;\n            if (date)\n                setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n        function setDefaultHours() {\n            var hours = self.config.defaultHour;\n            var minutes = self.config.defaultMinute;\n            var seconds = self.config.defaultSeconds;\n            if (self.config.minDate !== undefined) {\n                var minHr = self.config.minDate.getHours();\n                var minMinutes = self.config.minDate.getMinutes();\n                hours = Math.max(hours, minHr);\n                if (hours === minHr)\n                    minutes = Math.max(minMinutes, minutes);\n                if (hours === minHr && minutes === minMinutes)\n                    seconds = self.config.minDate.getSeconds();\n            }\n            if (self.config.maxDate !== undefined) {\n                var maxHr = self.config.maxDate.getHours();\n                var maxMinutes = self.config.maxDate.getMinutes();\n                hours = Math.min(hours, maxHr);\n                if (hours === maxHr)\n                    minutes = Math.min(maxMinutes, minutes);\n                if (hours === maxHr && minutes === maxMinutes)\n                    seconds = self.config.maxDate.getSeconds();\n            }\n            setHours(hours, minutes, seconds);\n        }\n        /**\n         * Sets the hours, minutes, and optionally seconds\n         * of the latest selected date object and the\n         * corresponding time inputs\n         * @param {Number} hours the hour. whether its military\n         *                 or am-pm gets inferred from config\n         * @param {Number} minutes the minutes\n         * @param {Number} seconds the seconds (optional)\n         */\n        function setHours(hours, minutes, seconds) {\n            if (self.latestSelectedDateObj !== undefined) {\n                self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n            }\n            if (!self.hourElement || !self.minuteElement || self.isMobile)\n                return;\n            self.hourElement.value = pad(!self.config.time_24hr\n                ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n                : hours);\n            self.minuteElement.value = pad(minutes);\n            if (self.amPM !== undefined)\n                self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n            if (self.secondElement !== undefined)\n                self.secondElement.value = pad(seconds);\n        }\n        /**\n         * Handles the year input and incrementing events\n         * @param {Event} event the keyup or increment event\n         */\n        function onYearInput(event) {\n            var year = parseInt(event.target.value) + (event.delta || 0);\n            if (year / 1000 > 1 ||\n                (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n                changeYear(year);\n            }\n        }\n        /**\n         * Essentially addEventListener + tracking\n         * @param {Element} element the element to addEventListener to\n         * @param {String} event the event name\n         * @param {Function} handler the event handler\n         */\n        function bind(element, event, handler, options) {\n            if (event instanceof Array)\n                return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n            if (element instanceof Array)\n                return element.forEach(function (el) { return bind(el, event, handler, options); });\n            element.addEventListener(event, handler, options);\n            self._handlers.push({\n                element: element,\n                event: event,\n                handler: handler,\n                options: options\n            });\n        }\n        /**\n         * A mousedown handler which mimics click.\n         * Minimizes latency, since we don't need to wait for mouseup in most cases.\n         * Also, avoids handling right clicks.\n         *\n         * @param {Function} handler the event handler\n         */\n        function onClick(handler) {\n            return function (evt) {\n                evt.which === 1 && handler(evt);\n            };\n        }\n        function triggerChange() {\n            triggerEvent(\"onChange\");\n        }\n        /**\n         * Adds all the necessary event listeners\n         */\n        function bindEvents() {\n            if (self.config.wrap) {\n                [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                    Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                        return bind(el, \"click\", self[evt]);\n                    });\n                });\n            }\n            if (self.isMobile) {\n                setupMobile();\n                return;\n            }\n            var debouncedResize = debounce(onResize, 50);\n            self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n            if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n                bind(self.daysContainer, \"mouseover\", function (e) {\n                    if (self.config.mode === \"range\")\n                        onMouseOver(e.target);\n                });\n            bind(window.document.body, \"keydown\", onKeyDown);\n            if (!self.config.inline && !self.config.static)\n                bind(window, \"resize\", debouncedResize);\n            if (window.ontouchstart !== undefined)\n                bind(window.document, \"touchstart\", documentClick);\n            else\n                bind(window.document, \"mousedown\", onClick(documentClick));\n            bind(window.document, \"focus\", documentClick, { capture: true });\n            if (self.config.clickOpens === true) {\n                bind(self._input, \"focus\", self.open);\n                bind(self._input, \"mousedown\", onClick(self.open));\n            }\n            if (self.daysContainer !== undefined) {\n                bind(self.monthNav, \"mousedown\", onClick(onMonthNavClick));\n                bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n                bind(self.daysContainer, \"mousedown\", onClick(selectDate));\n            }\n            if (self.timeContainer !== undefined &&\n                self.minuteElement !== undefined &&\n                self.hourElement !== undefined) {\n                var selText = function (e) {\n                    return e.target.select();\n                };\n                bind(self.timeContainer, [\"increment\"], updateTime);\n                bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n                bind(self.timeContainer, \"mousedown\", onClick(timeIncrement));\n                bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n                if (self.secondElement !== undefined)\n                    bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n                if (self.amPM !== undefined) {\n                    bind(self.amPM, \"mousedown\", onClick(function (e) {\n                        updateTime(e);\n                        triggerChange();\n                    }));\n                }\n            }\n        }\n        /**\n         * Set the calendar view to a particular date.\n         * @param {Date} jumpDate the date to set the view to\n         * @param {boolean} triggerChange if change events should be triggered\n         */\n        function jumpToDate(jumpDate, triggerChange) {\n            var jumpTo = jumpDate !== undefined\n                ? self.parseDate(jumpDate)\n                : self.latestSelectedDateObj ||\n                    (self.config.minDate && self.config.minDate > self.now\n                        ? self.config.minDate\n                        : self.config.maxDate && self.config.maxDate < self.now\n                            ? self.config.maxDate\n                            : self.now);\n            var oldYear = self.currentYear;\n            var oldMonth = self.currentMonth;\n            try {\n                if (jumpTo !== undefined) {\n                    self.currentYear = jumpTo.getFullYear();\n                    self.currentMonth = jumpTo.getMonth();\n                }\n            }\n            catch (e) {\n                /* istanbul ignore next */\n                e.message = \"Invalid date supplied: \" + jumpTo;\n                self.config.errorHandler(e);\n            }\n            if (triggerChange && self.currentYear !== oldYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            if (triggerChange &&\n                (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n                triggerEvent(\"onMonthChange\");\n            }\n            self.redraw();\n        }\n        /**\n         * The up/down arrow handler for time inputs\n         * @param {Event} e the click event\n         */\n        function timeIncrement(e) {\n            if (~e.target.className.indexOf(\"arrow\"))\n                incrementNumInput(e, e.target.classList.contains(\"arrowUp\") ? 1 : -1);\n        }\n        /**\n         * Increments/decrements the value of input associ-\n         * ated with the up/down arrow by dispatching an\n         * \"increment\" event on the input.\n         *\n         * @param {Event} e the click event\n         * @param {Number} delta the diff (usually 1 or -1)\n         * @param {Element} inputElem the input element\n         */\n        function incrementNumInput(e, delta, inputElem) {\n            var target = e && e.target;\n            var input = inputElem ||\n                (target && target.parentNode && target.parentNode.firstChild);\n            var event = createEvent(\"increment\");\n            event.delta = delta;\n            input && input.dispatchEvent(event);\n        }\n        function build() {\n            var fragment = window.document.createDocumentFragment();\n            self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n            self.calendarContainer.tabIndex = -1;\n            if (!self.config.noCalendar) {\n                fragment.appendChild(buildMonthNav());\n                self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n                if (self.config.weekNumbers) {\n                    var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                    self.innerContainer.appendChild(weekWrapper);\n                    self.weekNumbers = weekNumbers;\n                    self.weekWrapper = weekWrapper;\n                }\n                self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n                self.rContainer.appendChild(buildWeekdays());\n                if (!self.daysContainer) {\n                    self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                    self.daysContainer.tabIndex = -1;\n                }\n                buildDays();\n                self.rContainer.appendChild(self.daysContainer);\n                self.innerContainer.appendChild(self.rContainer);\n                fragment.appendChild(self.innerContainer);\n            }\n            if (self.config.enableTime) {\n                fragment.appendChild(buildTime());\n            }\n            toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n            toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n            toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n            self.calendarContainer.appendChild(fragment);\n            var customAppend = self.config.appendTo !== undefined &&\n                self.config.appendTo.nodeType !== undefined;\n            if (self.config.inline || self.config.static) {\n                self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n                if (self.config.inline) {\n                    if (!customAppend && self.element.parentNode)\n                        self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                    else if (self.config.appendTo !== undefined)\n                        self.config.appendTo.appendChild(self.calendarContainer);\n                }\n                if (self.config.static) {\n                    var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                    if (self.element.parentNode)\n                        self.element.parentNode.insertBefore(wrapper, self.element);\n                    wrapper.appendChild(self.element);\n                    if (self.altInput)\n                        wrapper.appendChild(self.altInput);\n                    wrapper.appendChild(self.calendarContainer);\n                }\n            }\n            if (!self.config.static && !self.config.inline)\n                (self.config.appendTo !== undefined\n                    ? self.config.appendTo\n                    : window.document.body).appendChild(self.calendarContainer);\n        }\n        function createDay(className, date, dayNumber, i) {\n            var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", \"flatpickr-day \" + className, date.getDate().toString());\n            dayElement.dateObj = date;\n            dayElement.$i = i;\n            dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n            if (className.indexOf(\"hidden\") === -1 &&\n                compareDates(date, self.now) === 0) {\n                self.todayDateElem = dayElement;\n                dayElement.classList.add(\"today\");\n                dayElement.setAttribute(\"aria-current\", \"date\");\n            }\n            if (dateIsEnabled) {\n                dayElement.tabIndex = -1;\n                if (isDateSelected(date)) {\n                    dayElement.classList.add(\"selected\");\n                    self.selectedDateElem = dayElement;\n                    if (self.config.mode === \"range\") {\n                        toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                            compareDates(date, self.selectedDates[0], true) === 0);\n                        toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                            compareDates(date, self.selectedDates[1], true) === 0);\n                        if (className === \"nextMonthDay\")\n                            dayElement.classList.add(\"inRange\");\n                    }\n                }\n            }\n            else {\n                dayElement.classList.add(\"flatpickr-disabled\");\n            }\n            if (self.config.mode === \"range\") {\n                if (isDateInRange(date) && !isDateSelected(date))\n                    dayElement.classList.add(\"inRange\");\n            }\n            if (self.weekNumbers &&\n                self.config.showMonths === 1 &&\n                className !== \"prevMonthDay\" &&\n                dayNumber % 7 === 1) {\n                self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n            }\n            triggerEvent(\"onDayCreate\", dayElement);\n            return dayElement;\n        }\n        function focusOnDayElem(targetNode) {\n            targetNode.focus();\n            if (self.config.mode === \"range\")\n                onMouseOver(targetNode);\n        }\n        function getFirstAvailableDay(delta) {\n            var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n            var endMonth = delta > 0 ? self.config.showMonths : -1;\n            for (var m = startMonth; m != endMonth; m += delta) {\n                var month = self.daysContainer.children[m];\n                var startIndex = delta > 0 ? 0 : month.children.length - 1;\n                var endIndex = delta > 0 ? month.children.length : -1;\n                for (var i = startIndex; i != endIndex; i += delta) {\n                    var c = month.children[i];\n                    if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                        return c;\n                }\n            }\n            return undefined;\n        }\n        function getNextAvailableDay(current, delta) {\n            var givenMonth = current.className.indexOf(\"Month\") === -1\n                ? current.dateObj.getMonth()\n                : self.currentMonth;\n            var endMonth = delta > 0 ? self.config.showMonths : -1;\n            var loopDelta = delta > 0 ? 1 : -1;\n            for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n                var month = self.daysContainer.children[m];\n                var startIndex = givenMonth - self.currentMonth === m\n                    ? current.$i + delta\n                    : delta < 0\n                        ? month.children.length - 1\n                        : 0;\n                var numMonthDays = month.children.length;\n                for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                    var c = month.children[i];\n                    if (c.className.indexOf(\"hidden\") === -1 &&\n                        isEnabled(c.dateObj) &&\n                        Math.abs(current.$i - i) >= Math.abs(delta))\n                        return focusOnDayElem(c);\n                }\n            }\n            self.changeMonth(loopDelta);\n            focusOnDay(getFirstAvailableDay(loopDelta), 0);\n            return undefined;\n        }\n        function focusOnDay(current, offset) {\n            var dayFocused = isInView(document.activeElement || document.body);\n            var startElem = current !== undefined\n                ? current\n                : dayFocused\n                    ? document.activeElement\n                    : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                        ? self.selectedDateElem\n                        : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                            ? self.todayDateElem\n                            : getFirstAvailableDay(offset > 0 ? 1 : -1);\n            if (startElem === undefined)\n                return self._input.focus();\n            if (!dayFocused)\n                return focusOnDayElem(startElem);\n            getNextAvailableDay(startElem, offset);\n        }\n        function buildMonthDays(year, month) {\n            var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n            var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12);\n            var daysInMonth = self.utils.getDaysInMonth(month), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n            var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n            // prepend days from the ending of previous month\n            for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n                days.appendChild(createDay(prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n            }\n            // Start at 1 since there is no 0th day\n            for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n                days.appendChild(createDay(\"\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n            }\n            // append days from the next month\n            for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n                (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n                days.appendChild(createDay(nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n            }\n            //updateNavigationCurrentMonth();\n            var dayContainer = createElement(\"div\", \"dayContainer\");\n            dayContainer.appendChild(days);\n            return dayContainer;\n        }\n        function buildDays() {\n            if (self.daysContainer === undefined) {\n                return;\n            }\n            clearNode(self.daysContainer);\n            // TODO: week numbers for each month\n            if (self.weekNumbers)\n                clearNode(self.weekNumbers);\n            var frag = document.createDocumentFragment();\n            for (var i = 0; i < self.config.showMonths; i++) {\n                var d = new Date(self.currentYear, self.currentMonth, 1);\n                d.setMonth(self.currentMonth + i);\n                frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n            }\n            self.daysContainer.appendChild(frag);\n            self.days = self.daysContainer.firstChild;\n            if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n                onMouseOver();\n            }\n        }\n        function buildMonthSwitch() {\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType !== \"dropdown\")\n                return;\n            var shouldBuildMonth = function (month) {\n                if (self.config.minDate !== undefined &&\n                    self.currentYear === self.config.minDate.getFullYear() &&\n                    month < self.config.minDate.getMonth()) {\n                    return false;\n                }\n                return !(self.config.maxDate !== undefined &&\n                    self.currentYear === self.config.maxDate.getFullYear() &&\n                    month > self.config.maxDate.getMonth());\n            };\n            self.monthsDropdownContainer.tabIndex = -1;\n            self.monthsDropdownContainer.innerHTML = \"\";\n            for (var i = 0; i < 12; i++) {\n                if (!shouldBuildMonth(i))\n                    continue;\n                var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n                month.value = new Date(self.currentYear, i).getMonth().toString();\n                month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n                month.tabIndex = -1;\n                if (self.currentMonth === i) {\n                    month.selected = true;\n                }\n                self.monthsDropdownContainer.appendChild(month);\n            }\n        }\n        function buildMonth() {\n            var container = createElement(\"div\", \"flatpickr-month\");\n            var monthNavFragment = window.document.createDocumentFragment();\n            var monthElement;\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                monthElement = createElement(\"span\", \"cur-month\");\n            }\n            else {\n                self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n                bind(self.monthsDropdownContainer, \"change\", function (e) {\n                    var target = e.target;\n                    var selectedMonth = parseInt(target.value, 10);\n                    self.changeMonth(selectedMonth - self.currentMonth);\n                    triggerEvent(\"onMonthChange\");\n                });\n                buildMonthSwitch();\n                monthElement = self.monthsDropdownContainer;\n            }\n            var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n            var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n            yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n            if (self.config.minDate) {\n                yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n            }\n            if (self.config.maxDate) {\n                yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n                yearElement.disabled =\n                    !!self.config.minDate &&\n                        self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n            }\n            var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n            currentMonth.appendChild(monthElement);\n            currentMonth.appendChild(yearInput);\n            monthNavFragment.appendChild(currentMonth);\n            container.appendChild(monthNavFragment);\n            return {\n                container: container,\n                yearElement: yearElement,\n                monthElement: monthElement\n            };\n        }\n        function buildMonths() {\n            clearNode(self.monthNav);\n            self.monthNav.appendChild(self.prevMonthNav);\n            if (self.config.showMonths) {\n                self.yearElements = [];\n                self.monthElements = [];\n            }\n            for (var m = self.config.showMonths; m--;) {\n                var month = buildMonth();\n                self.yearElements.push(month.yearElement);\n                self.monthElements.push(month.monthElement);\n                self.monthNav.appendChild(month.container);\n            }\n            self.monthNav.appendChild(self.nextMonthNav);\n        }\n        function buildMonthNav() {\n            self.monthNav = createElement(\"div\", \"flatpickr-months\");\n            self.yearElements = [];\n            self.monthElements = [];\n            self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n            self.prevMonthNav.innerHTML = self.config.prevArrow;\n            self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n            self.nextMonthNav.innerHTML = self.config.nextArrow;\n            buildMonths();\n            Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n                get: function () { return self.__hidePrevMonthArrow; },\n                set: function (bool) {\n                    if (self.__hidePrevMonthArrow !== bool) {\n                        toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                        self.__hidePrevMonthArrow = bool;\n                    }\n                }\n            });\n            Object.defineProperty(self, \"_hideNextMonthArrow\", {\n                get: function () { return self.__hideNextMonthArrow; },\n                set: function (bool) {\n                    if (self.__hideNextMonthArrow !== bool) {\n                        toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                        self.__hideNextMonthArrow = bool;\n                    }\n                }\n            });\n            self.currentYearElement = self.yearElements[0];\n            updateNavigationCurrentMonth();\n            return self.monthNav;\n        }\n        function buildTime() {\n            self.calendarContainer.classList.add(\"hasTime\");\n            if (self.config.noCalendar)\n                self.calendarContainer.classList.add(\"noCalendar\");\n            self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n            self.timeContainer.tabIndex = -1;\n            var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n            var hourInput = createNumberInput(\"flatpickr-hour\", {\n                \"aria-label\": self.l10n.hourAriaLabel\n            });\n            self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n            var minuteInput = createNumberInput(\"flatpickr-minute\", {\n                \"aria-label\": self.l10n.minuteAriaLabel\n            });\n            self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n            self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n            self.hourElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getHours()\n                : self.config.time_24hr\n                    ? self.config.defaultHour\n                    : military2ampm(self.config.defaultHour));\n            self.minuteElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getMinutes()\n                : self.config.defaultMinute);\n            self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n            self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n            self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n            self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n            self.minuteElement.setAttribute(\"min\", \"0\");\n            self.minuteElement.setAttribute(\"max\", \"59\");\n            self.timeContainer.appendChild(hourInput);\n            self.timeContainer.appendChild(separator);\n            self.timeContainer.appendChild(minuteInput);\n            if (self.config.time_24hr)\n                self.timeContainer.classList.add(\"time24hr\");\n            if (self.config.enableSeconds) {\n                self.timeContainer.classList.add(\"hasSeconds\");\n                var secondInput = createNumberInput(\"flatpickr-second\");\n                self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n                self.secondElement.value = pad(self.latestSelectedDateObj\n                    ? self.latestSelectedDateObj.getSeconds()\n                    : self.config.defaultSeconds);\n                self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n                self.secondElement.setAttribute(\"min\", \"0\");\n                self.secondElement.setAttribute(\"max\", \"59\");\n                self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n                self.timeContainer.appendChild(secondInput);\n            }\n            if (!self.config.time_24hr) {\n                // add self.amPM if appropriate\n                self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                    ? self.hourElement.value\n                    : self.config.defaultHour) > 11)]);\n                self.amPM.title = self.l10n.toggleTitle;\n                self.amPM.tabIndex = -1;\n                self.timeContainer.appendChild(self.amPM);\n            }\n            return self.timeContainer;\n        }\n        function buildWeekdays() {\n            if (!self.weekdayContainer)\n                self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n            else\n                clearNode(self.weekdayContainer);\n            for (var i = self.config.showMonths; i--;) {\n                var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n                self.weekdayContainer.appendChild(container);\n            }\n            updateWeekdays();\n            return self.weekdayContainer;\n        }\n        function updateWeekdays() {\n            if (!self.weekdayContainer) {\n                return;\n            }\n            var firstDayOfWeek = self.l10n.firstDayOfWeek;\n            var weekdays = self.l10n.weekdays.shorthand.slice();\n            if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n                weekdays = weekdays.splice(firstDayOfWeek, weekdays.length).concat(weekdays.splice(0, firstDayOfWeek));\n            }\n            for (var i = self.config.showMonths; i--;) {\n                self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n            }\n        }\n        /* istanbul ignore next */\n        function buildWeeks() {\n            self.calendarContainer.classList.add(\"hasWeeks\");\n            var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n            weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n            var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n            weekWrapper.appendChild(weekNumbers);\n            return {\n                weekWrapper: weekWrapper,\n                weekNumbers: weekNumbers\n            };\n        }\n        function changeMonth(value, isOffset) {\n            if (isOffset === void 0) { isOffset = true; }\n            var delta = isOffset ? value : value - self.currentMonth;\n            if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n                (delta > 0 && self._hideNextMonthArrow === true))\n                return;\n            self.currentMonth += delta;\n            if (self.currentMonth < 0 || self.currentMonth > 11) {\n                self.currentYear += self.currentMonth > 11 ? 1 : -1;\n                self.currentMonth = (self.currentMonth + 12) % 12;\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            buildDays();\n            triggerEvent(\"onMonthChange\");\n            updateNavigationCurrentMonth();\n        }\n        function clear(triggerChangeEvent, toInitial) {\n            if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n            if (toInitial === void 0) { toInitial = true; }\n            self.input.value = \"\";\n            if (self.altInput !== undefined)\n                self.altInput.value = \"\";\n            if (self.mobileInput !== undefined)\n                self.mobileInput.value = \"\";\n            self.selectedDates = [];\n            self.latestSelectedDateObj = undefined;\n            if (toInitial === true) {\n                self.currentYear = self._initialDate.getFullYear();\n                self.currentMonth = self._initialDate.getMonth();\n            }\n            self.showTimeInput = false;\n            if (self.config.enableTime === true) {\n                setDefaultHours();\n            }\n            self.redraw();\n            if (triggerChangeEvent)\n                // triggerChangeEvent is true (default) or an Event\n                triggerEvent(\"onChange\");\n        }\n        function close() {\n            self.isOpen = false;\n            if (!self.isMobile) {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.classList.remove(\"open\");\n                }\n                if (self._input !== undefined) {\n                    self._input.classList.remove(\"active\");\n                }\n            }\n            triggerEvent(\"onClose\");\n        }\n        function destroy() {\n            if (self.config !== undefined)\n                triggerEvent(\"onDestroy\");\n            for (var i = self._handlers.length; i--;) {\n                var h = self._handlers[i];\n                h.element.removeEventListener(h.event, h.handler, h.options);\n            }\n            self._handlers = [];\n            if (self.mobileInput) {\n                if (self.mobileInput.parentNode)\n                    self.mobileInput.parentNode.removeChild(self.mobileInput);\n                self.mobileInput = undefined;\n            }\n            else if (self.calendarContainer && self.calendarContainer.parentNode) {\n                if (self.config.static && self.calendarContainer.parentNode) {\n                    var wrapper = self.calendarContainer.parentNode;\n                    wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                    if (wrapper.parentNode) {\n                        while (wrapper.firstChild)\n                            wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                        wrapper.parentNode.removeChild(wrapper);\n                    }\n                }\n                else\n                    self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n            }\n            if (self.altInput) {\n                self.input.type = \"text\";\n                if (self.altInput.parentNode)\n                    self.altInput.parentNode.removeChild(self.altInput);\n                delete self.altInput;\n            }\n            if (self.input) {\n                self.input.type = self.input._type;\n                self.input.classList.remove(\"flatpickr-input\");\n                self.input.removeAttribute(\"readonly\");\n                self.input.value = \"\";\n            }\n            [\n                \"_showTimeInput\",\n                \"latestSelectedDateObj\",\n                \"_hideNextMonthArrow\",\n                \"_hidePrevMonthArrow\",\n                \"__hideNextMonthArrow\",\n                \"__hidePrevMonthArrow\",\n                \"isMobile\",\n                \"isOpen\",\n                \"selectedDateElem\",\n                \"minDateHasTime\",\n                \"maxDateHasTime\",\n                \"days\",\n                \"daysContainer\",\n                \"_input\",\n                \"_positionElement\",\n                \"innerContainer\",\n                \"rContainer\",\n                \"monthNav\",\n                \"todayDateElem\",\n                \"calendarContainer\",\n                \"weekdayContainer\",\n                \"prevMonthNav\",\n                \"nextMonthNav\",\n                \"monthsDropdownContainer\",\n                \"currentMonthElement\",\n                \"currentYearElement\",\n                \"navigationCurrentMonth\",\n                \"selectedDateElem\",\n                \"config\",\n            ].forEach(function (k) {\n                try {\n                    delete self[k];\n                }\n                catch (_) { }\n            });\n        }\n        function isCalendarElem(elem) {\n            if (self.config.appendTo && self.config.appendTo.contains(elem))\n                return true;\n            return self.calendarContainer.contains(elem);\n        }\n        function documentClick(e) {\n            if (self.isOpen && !self.config.inline) {\n                var eventTarget_1 = getEventTarget(e);\n                var isCalendarElement = isCalendarElem(eventTarget_1);\n                var isInput = eventTarget_1 === self.input ||\n                    eventTarget_1 === self.altInput ||\n                    self.element.contains(eventTarget_1) ||\n                    // web components\n                    // e.path is not present in all browsers. circumventing typechecks\n                    (e.path &&\n                        e.path.indexOf &&\n                        (~e.path.indexOf(self.input) ||\n                            ~e.path.indexOf(self.altInput)));\n                var lostFocus = e.type === \"blur\"\n                    ? isInput &&\n                        e.relatedTarget &&\n                        !isCalendarElem(e.relatedTarget)\n                    : !isInput &&\n                        !isCalendarElement &&\n                        !isCalendarElem(e.relatedTarget);\n                var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                    return elem.contains(eventTarget_1);\n                });\n                if (lostFocus && isIgnored) {\n                    if (self.timeContainer !== undefined &&\n                        self.minuteElement !== undefined &&\n                        self.hourElement !== undefined) {\n                        updateTime();\n                    }\n                    self.close();\n                    if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n                        self.clear(false);\n                        self.redraw();\n                    }\n                }\n            }\n        }\n        function changeYear(newYear) {\n            if (!newYear ||\n                (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n                (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n                return;\n            var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n            self.currentYear = newYearNum || self.currentYear;\n            if (self.config.maxDate &&\n                self.currentYear === self.config.maxDate.getFullYear()) {\n                self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n            }\n            else if (self.config.minDate &&\n                self.currentYear === self.config.minDate.getFullYear()) {\n                self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n            }\n            if (isNewYear) {\n                self.redraw();\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n        }\n        function isEnabled(date, timeless) {\n            if (timeless === void 0) { timeless = true; }\n            var dateToCheck = self.parseDate(date, undefined, timeless); // timeless\n            if ((self.config.minDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n                (self.config.maxDate &&\n                    dateToCheck &&\n                    compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n                return false;\n            if (self.config.enable.length === 0 && self.config.disable.length === 0)\n                return true;\n            if (dateToCheck === undefined)\n                return false;\n            var bool = self.config.enable.length > 0, array = bool ? self.config.enable : self.config.disable;\n            for (var i = 0, d = void 0; i < array.length; i++) {\n                d = array[i];\n                if (typeof d === \"function\" &&\n                    d(dateToCheck) // disabled by function\n                )\n                    return bool;\n                else if (d instanceof Date &&\n                    dateToCheck !== undefined &&\n                    d.getTime() === dateToCheck.getTime())\n                    // disabled by date\n                    return bool;\n                else if (typeof d === \"string\" && dateToCheck !== undefined) {\n                    // disabled by date string\n                    var parsed = self.parseDate(d, undefined, true);\n                    return parsed && parsed.getTime() === dateToCheck.getTime()\n                        ? bool\n                        : !bool;\n                }\n                else if (\n                // disabled by range\n                typeof d === \"object\" &&\n                    dateToCheck !== undefined &&\n                    d.from &&\n                    d.to &&\n                    dateToCheck.getTime() >= d.from.getTime() &&\n                    dateToCheck.getTime() <= d.to.getTime())\n                    return bool;\n            }\n            return !bool;\n        }\n        function isInView(elem) {\n            if (self.daysContainer !== undefined)\n                return (elem.className.indexOf(\"hidden\") === -1 &&\n                    self.daysContainer.contains(elem));\n            return false;\n        }\n        function onKeyDown(e) {\n            // e.key                      e.keyCode\n            // \"Backspace\"                        8\n            // \"Tab\"                              9\n            // \"Enter\"                           13\n            // \"Escape\"     (IE \"Esc\")           27\n            // \"ArrowLeft\"  (IE \"Left\")          37\n            // \"ArrowUp\"    (IE \"Up\")            38\n            // \"ArrowRight\" (IE \"Right\")         39\n            // \"ArrowDown\"  (IE \"Down\")          40\n            // \"Delete\"     (IE \"Del\")           46\n            var isInput = e.target === self._input;\n            var allowInput = self.config.allowInput;\n            var allowKeydown = self.isOpen && (!allowInput || !isInput);\n            var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n            if (e.keyCode === 13 && isInput) {\n                if (allowInput) {\n                    self.setDate(self._input.value, true, e.target === self.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                    return e.target.blur();\n                }\n                else {\n                    self.open();\n                }\n            }\n            else if (isCalendarElem(e.target) ||\n                allowKeydown ||\n                allowInlineKeydown) {\n                var isTimeObj = !!self.timeContainer &&\n                    self.timeContainer.contains(e.target);\n                switch (e.keyCode) {\n                    case 13:\n                        if (isTimeObj) {\n                            e.preventDefault();\n                            updateTime();\n                            focusAndClose();\n                        }\n                        else\n                            selectDate(e);\n                        break;\n                    case 27: // escape\n                        e.preventDefault();\n                        focusAndClose();\n                        break;\n                    case 8:\n                    case 46:\n                        if (isInput && !self.config.allowInput) {\n                            e.preventDefault();\n                            self.clear();\n                        }\n                        break;\n                    case 37:\n                    case 39:\n                        if (!isTimeObj && !isInput) {\n                            e.preventDefault();\n                            if (self.daysContainer !== undefined &&\n                                (allowInput === false ||\n                                    (document.activeElement && isInView(document.activeElement)))) {\n                                var delta_1 = e.keyCode === 39 ? 1 : -1;\n                                if (!e.ctrlKey)\n                                    focusOnDay(undefined, delta_1);\n                                else {\n                                    e.stopPropagation();\n                                    changeMonth(delta_1);\n                                    focusOnDay(getFirstAvailableDay(1), 0);\n                                }\n                            }\n                        }\n                        else if (self.hourElement)\n                            self.hourElement.focus();\n                        break;\n                    case 38:\n                    case 40:\n                        e.preventDefault();\n                        var delta = e.keyCode === 40 ? 1 : -1;\n                        if ((self.daysContainer && e.target.$i !== undefined) ||\n                            e.target === self.input ||\n                            e.target === self.altInput) {\n                            if (e.ctrlKey) {\n                                e.stopPropagation();\n                                changeYear(self.currentYear - delta);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                            else if (!isTimeObj)\n                                focusOnDay(undefined, delta * 7);\n                        }\n                        else if (e.target === self.currentYearElement) {\n                            changeYear(self.currentYear - delta);\n                        }\n                        else if (self.config.enableTime) {\n                            if (!isTimeObj && self.hourElement)\n                                self.hourElement.focus();\n                            updateTime(e);\n                            self._debouncedChange();\n                        }\n                        break;\n                    case 9:\n                        if (isTimeObj) {\n                            var elems = [\n                                self.hourElement,\n                                self.minuteElement,\n                                self.secondElement,\n                                self.amPM,\n                            ]\n                                .concat(self.pluginElements)\n                                .filter(function (x) { return x; });\n                            var i = elems.indexOf(e.target);\n                            if (i !== -1) {\n                                var target = elems[i + (e.shiftKey ? -1 : 1)];\n                                e.preventDefault();\n                                (target || self._input).focus();\n                            }\n                        }\n                        else if (!self.config.noCalendar &&\n                            self.daysContainer &&\n                            self.daysContainer.contains(e.target) &&\n                            e.shiftKey) {\n                            e.preventDefault();\n                            self._input.focus();\n                        }\n                        break;\n                    default:\n                        break;\n                }\n            }\n            if (self.amPM !== undefined && e.target === self.amPM) {\n                switch (e.key) {\n                    case self.l10n.amPM[0].charAt(0):\n                    case self.l10n.amPM[0].charAt(0).toLowerCase():\n                        self.amPM.textContent = self.l10n.amPM[0];\n                        setHoursFromInputs();\n                        updateValue();\n                        break;\n                    case self.l10n.amPM[1].charAt(0):\n                    case self.l10n.amPM[1].charAt(0).toLowerCase():\n                        self.amPM.textContent = self.l10n.amPM[1];\n                        setHoursFromInputs();\n                        updateValue();\n                        break;\n                }\n            }\n            if (isInput || isCalendarElem(e.target)) {\n                triggerEvent(\"onKeyDown\", e);\n            }\n        }\n        function onMouseOver(elem) {\n            if (self.selectedDates.length !== 1 ||\n                (elem &&\n                    (!elem.classList.contains(\"flatpickr-day\") ||\n                        elem.classList.contains(\"flatpickr-disabled\"))))\n                return;\n            var hoverDate = elem\n                ? elem.dateObj.getTime()\n                : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n            var containsDisabled = false;\n            var minRange = 0, maxRange = 0;\n            for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n                if (!isEnabled(new Date(t), true)) {\n                    containsDisabled =\n                        containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                    if (t < initialDate && (!minRange || t > minRange))\n                        minRange = t;\n                    else if (t > initialDate && (!maxRange || t < maxRange))\n                        maxRange = t;\n                }\n            }\n            for (var m = 0; m < self.config.showMonths; m++) {\n                var month = self.daysContainer.children[m];\n                var _loop_1 = function (i, l) {\n                    var dayElem = month.children[i], date = dayElem.dateObj;\n                    var timestamp = date.getTime();\n                    var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                        (maxRange > 0 && timestamp > maxRange);\n                    if (outOfRange) {\n                        dayElem.classList.add(\"notAllowed\");\n                        [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                            dayElem.classList.remove(c);\n                        });\n                        return \"continue\";\n                    }\n                    else if (containsDisabled && !outOfRange)\n                        return \"continue\";\n                    [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                        dayElem.classList.remove(c);\n                    });\n                    if (elem !== undefined) {\n                        elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                            ? \"startRange\"\n                            : \"endRange\");\n                        if (initialDate < hoverDate && timestamp === initialDate)\n                            dayElem.classList.add(\"startRange\");\n                        else if (initialDate > hoverDate && timestamp === initialDate)\n                            dayElem.classList.add(\"endRange\");\n                        if (timestamp >= minRange &&\n                            (maxRange === 0 || timestamp <= maxRange) &&\n                            isBetween(timestamp, initialDate, hoverDate))\n                            dayElem.classList.add(\"inRange\");\n                    }\n                };\n                for (var i = 0, l = month.children.length; i < l; i++) {\n                    _loop_1(i, l);\n                }\n            }\n        }\n        function onResize() {\n            if (self.isOpen && !self.config.static && !self.config.inline)\n                positionCalendar();\n        }\n        function setDefaultTime() {\n            self.setDate(self.config.minDate !== undefined\n                ? new Date(self.config.minDate.getTime())\n                : new Date(), true);\n            setDefaultHours();\n            updateValue();\n        }\n        function open(e, positionElement) {\n            if (positionElement === void 0) { positionElement = self._positionElement; }\n            if (self.isMobile === true) {\n                if (e) {\n                    e.preventDefault();\n                    e.target && e.target.blur();\n                }\n                if (self.mobileInput !== undefined) {\n                    self.mobileInput.focus();\n                    self.mobileInput.click();\n                }\n                triggerEvent(\"onOpen\");\n                return;\n            }\n            if (self._input.disabled || self.config.inline)\n                return;\n            var wasOpen = self.isOpen;\n            self.isOpen = true;\n            if (!wasOpen) {\n                self.calendarContainer.classList.add(\"open\");\n                self._input.classList.add(\"active\");\n                triggerEvent(\"onOpen\");\n                positionCalendar(positionElement);\n            }\n            if (self.config.enableTime === true && self.config.noCalendar === true) {\n                if (self.selectedDates.length === 0) {\n                    setDefaultTime();\n                }\n                if (self.config.allowInput === false &&\n                    (e === undefined ||\n                        !self.timeContainer.contains(e.relatedTarget))) {\n                    setTimeout(function () { return self.hourElement.select(); }, 50);\n                }\n            }\n        }\n        function minMaxDateSetter(type) {\n            return function (date) {\n                var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n                var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n                if (dateObj !== undefined) {\n                    self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                        dateObj.getHours() > 0 ||\n                            dateObj.getMinutes() > 0 ||\n                            dateObj.getSeconds() > 0;\n                }\n                if (self.selectedDates) {\n                    self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                    if (!self.selectedDates.length && type === \"min\")\n                        setHoursFromDate(dateObj);\n                    updateValue();\n                }\n                if (self.daysContainer) {\n                    redraw();\n                    if (dateObj !== undefined)\n                        self.currentYearElement[type] = dateObj.getFullYear().toString();\n                    else\n                        self.currentYearElement.removeAttribute(type);\n                    self.currentYearElement.disabled =\n                        !!inverseDateObj &&\n                            dateObj !== undefined &&\n                            inverseDateObj.getFullYear() === dateObj.getFullYear();\n                }\n            };\n        }\n        function parseConfig() {\n            var boolOpts = [\n                \"wrap\",\n                \"weekNumbers\",\n                \"allowInput\",\n                \"clickOpens\",\n                \"time_24hr\",\n                \"enableTime\",\n                \"noCalendar\",\n                \"altInput\",\n                \"shorthandCurrentMonth\",\n                \"inline\",\n                \"static\",\n                \"enableSeconds\",\n                \"disableMobile\",\n            ];\n            var userConfig = __assign({}, instanceConfig, JSON.parse(JSON.stringify(element.dataset || {})));\n            var formats = {};\n            self.config.parseDate = userConfig.parseDate;\n            self.config.formatDate = userConfig.formatDate;\n            Object.defineProperty(self.config, \"enable\", {\n                get: function () { return self.config._enable; },\n                set: function (dates) {\n                    self.config._enable = parseDateRules(dates);\n                }\n            });\n            Object.defineProperty(self.config, \"disable\", {\n                get: function () { return self.config._disable; },\n                set: function (dates) {\n                    self.config._disable = parseDateRules(dates);\n                }\n            });\n            var timeMode = userConfig.mode === \"time\";\n            if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n                var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaults.dateFormat;\n                formats.dateFormat =\n                    userConfig.noCalendar || timeMode\n                        ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                        : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n            }\n            if (userConfig.altInput &&\n                (userConfig.enableTime || timeMode) &&\n                !userConfig.altFormat) {\n                var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaults.altFormat;\n                formats.altFormat =\n                    userConfig.noCalendar || timeMode\n                        ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                        : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n            }\n            if (!userConfig.altInputClass) {\n                self.config.altInputClass =\n                    self.input.className + \" \" + self.config.altInputClass;\n            }\n            Object.defineProperty(self.config, \"minDate\", {\n                get: function () { return self.config._minDate; },\n                set: minMaxDateSetter(\"min\")\n            });\n            Object.defineProperty(self.config, \"maxDate\", {\n                get: function () { return self.config._maxDate; },\n                set: minMaxDateSetter(\"max\")\n            });\n            var minMaxTimeSetter = function (type) { return function (val) {\n                self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n            }; };\n            Object.defineProperty(self.config, \"minTime\", {\n                get: function () { return self.config._minTime; },\n                set: minMaxTimeSetter(\"min\")\n            });\n            Object.defineProperty(self.config, \"maxTime\", {\n                get: function () { return self.config._maxTime; },\n                set: minMaxTimeSetter(\"max\")\n            });\n            if (userConfig.mode === \"time\") {\n                self.config.noCalendar = true;\n                self.config.enableTime = true;\n            }\n            Object.assign(self.config, formats, userConfig);\n            for (var i = 0; i < boolOpts.length; i++)\n                self.config[boolOpts[i]] =\n                    self.config[boolOpts[i]] === true ||\n                        self.config[boolOpts[i]] === \"true\";\n            HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n                self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n            });\n            self.isMobile =\n                !self.config.disableMobile &&\n                    !self.config.inline &&\n                    self.config.mode === \"single\" &&\n                    !self.config.disable.length &&\n                    !self.config.enable.length &&\n                    !self.config.weekNumbers &&\n                    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n            for (var i = 0; i < self.config.plugins.length; i++) {\n                var pluginConf = self.config.plugins[i](self) || {};\n                for (var key in pluginConf) {\n                    if (HOOKS.indexOf(key) > -1) {\n                        self.config[key] = arrayify(pluginConf[key])\n                            .map(bindToInstance)\n                            .concat(self.config[key]);\n                    }\n                    else if (typeof userConfig[key] === \"undefined\")\n                        self.config[key] = pluginConf[key];\n                }\n            }\n            triggerEvent(\"onParseConfig\");\n        }\n        function setupLocale() {\n            if (typeof self.config.locale !== \"object\" &&\n                typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n                self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n            self.l10n = __assign({}, flatpickr.l10ns[\"default\"], (typeof self.config.locale === \"object\"\n                ? self.config.locale\n                : self.config.locale !== \"default\"\n                    ? flatpickr.l10ns[self.config.locale]\n                    : undefined));\n            tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n            var userConfig = __assign({}, instanceConfig, JSON.parse(JSON.stringify(element.dataset || {})));\n            if (userConfig.time_24hr === undefined &&\n                flatpickr.defaultConfig.time_24hr === undefined) {\n                self.config.time_24hr = self.l10n.time_24hr;\n            }\n            self.formatDate = createDateFormatter(self);\n            self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n        }\n        function positionCalendar(customPositionElement) {\n            if (self.calendarContainer === undefined)\n                return;\n            triggerEvent(\"onPreCalendarPosition\");\n            var positionElement = customPositionElement || self._positionElement;\n            var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n                (configPosVertical !== \"below\" &&\n                    distanceFromBottom < calendarHeight &&\n                    inputBounds.top > calendarHeight);\n            var top = window.pageYOffset +\n                inputBounds.top +\n                (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n            toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n            toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n            if (self.config.inline)\n                return;\n            var left = window.pageXOffset +\n                inputBounds.left -\n                (configPosHorizontal != null && configPosHorizontal === \"center\"\n                    ? (calendarWidth - inputBounds.width) / 2\n                    : 0);\n            var right = window.document.body.offsetWidth - (window.pageXOffset + inputBounds.right);\n            var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n            var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n            toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n            if (self.config.static)\n                return;\n            self.calendarContainer.style.top = top + \"px\";\n            if (!rightMost) {\n                self.calendarContainer.style.left = left + \"px\";\n                self.calendarContainer.style.right = \"auto\";\n            }\n            else if (!centerMost) {\n                self.calendarContainer.style.left = \"auto\";\n                self.calendarContainer.style.right = right + \"px\";\n            }\n            else {\n                var doc = document.styleSheets[0];\n                // some testing environments don't have css support\n                if (doc === undefined)\n                    return;\n                var bodyWidth = window.document.body.offsetWidth;\n                var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n                var centerBefore = \".flatpickr-calendar.centerMost:before\";\n                var centerAfter = \".flatpickr-calendar.centerMost:after\";\n                var centerIndex = doc.cssRules.length;\n                var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n                toggleClass(self.calendarContainer, \"rightMost\", false);\n                toggleClass(self.calendarContainer, \"centerMost\", true);\n                doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n                self.calendarContainer.style.left = centerLeft + \"px\";\n                self.calendarContainer.style.right = \"auto\";\n            }\n        }\n        function redraw() {\n            if (self.config.noCalendar || self.isMobile)\n                return;\n            updateNavigationCurrentMonth();\n            buildDays();\n        }\n        function focusAndClose() {\n            self._input.focus();\n            if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n                navigator.msMaxTouchPoints !== undefined) {\n                // hack - bugs in the way IE handles focus keeps the calendar open\n                setTimeout(self.close, 0);\n            }\n            else {\n                self.close();\n            }\n        }\n        function selectDate(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            var isSelectable = function (day) {\n                return day.classList &&\n                    day.classList.contains(\"flatpickr-day\") &&\n                    !day.classList.contains(\"flatpickr-disabled\") &&\n                    !day.classList.contains(\"notAllowed\");\n            };\n            var t = findParent(e.target, isSelectable);\n            if (t === undefined)\n                return;\n            var target = t;\n            var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n            var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n                selectedDate.getMonth() >\n                    self.currentMonth + self.config.showMonths - 1) &&\n                self.config.mode !== \"range\";\n            self.selectedDateElem = target;\n            if (self.config.mode === \"single\")\n                self.selectedDates = [selectedDate];\n            else if (self.config.mode === \"multiple\") {\n                var selectedIndex = isDateSelected(selectedDate);\n                if (selectedIndex)\n                    self.selectedDates.splice(parseInt(selectedIndex), 1);\n                else\n                    self.selectedDates.push(selectedDate);\n            }\n            else if (self.config.mode === \"range\") {\n                if (self.selectedDates.length === 2) {\n                    self.clear(false, false);\n                }\n                self.latestSelectedDateObj = selectedDate;\n                self.selectedDates.push(selectedDate);\n                // unless selecting same date twice, sort ascendingly\n                if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                    self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n            }\n            setHoursFromInputs();\n            if (shouldChangeMonth) {\n                var isNewYear = self.currentYear !== selectedDate.getFullYear();\n                self.currentYear = selectedDate.getFullYear();\n                self.currentMonth = selectedDate.getMonth();\n                if (isNewYear) {\n                    triggerEvent(\"onYearChange\");\n                    buildMonthSwitch();\n                }\n                triggerEvent(\"onMonthChange\");\n            }\n            updateNavigationCurrentMonth();\n            buildDays();\n            updateValue();\n            if (self.config.enableTime)\n                setTimeout(function () { return (self.showTimeInput = true); }, 50);\n            // maintain focus\n            if (!shouldChangeMonth &&\n                self.config.mode !== \"range\" &&\n                self.config.showMonths === 1)\n                focusOnDayElem(target);\n            else if (self.selectedDateElem !== undefined &&\n                self.hourElement === undefined) {\n                self.selectedDateElem && self.selectedDateElem.focus();\n            }\n            if (self.hourElement !== undefined)\n                self.hourElement !== undefined && self.hourElement.focus();\n            if (self.config.closeOnSelect) {\n                var single = self.config.mode === \"single\" && !self.config.enableTime;\n                var range = self.config.mode === \"range\" &&\n                    self.selectedDates.length === 2 &&\n                    !self.config.enableTime;\n                if (single || range) {\n                    focusAndClose();\n                }\n            }\n            triggerChange();\n        }\n        var CALLBACKS = {\n            locale: [setupLocale, updateWeekdays],\n            showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n            minDate: [jumpToDate],\n            maxDate: [jumpToDate]\n        };\n        function set(option, value) {\n            if (option !== null && typeof option === \"object\") {\n                Object.assign(self.config, option);\n                for (var key in option) {\n                    if (CALLBACKS[key] !== undefined)\n                        CALLBACKS[key].forEach(function (x) { return x(); });\n                }\n            }\n            else {\n                self.config[option] = value;\n                if (CALLBACKS[option] !== undefined)\n                    CALLBACKS[option].forEach(function (x) { return x(); });\n                else if (HOOKS.indexOf(option) > -1)\n                    self.config[option] = arrayify(value);\n            }\n            self.redraw();\n            updateValue(false);\n        }\n        function setSelectedDate(inputDate, format) {\n            var dates = [];\n            if (inputDate instanceof Array)\n                dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n            else if (inputDate instanceof Date || typeof inputDate === \"number\")\n                dates = [self.parseDate(inputDate, format)];\n            else if (typeof inputDate === \"string\") {\n                switch (self.config.mode) {\n                    case \"single\":\n                    case \"time\":\n                        dates = [self.parseDate(inputDate, format)];\n                        break;\n                    case \"multiple\":\n                        dates = inputDate\n                            .split(self.config.conjunction)\n                            .map(function (date) { return self.parseDate(date, format); });\n                        break;\n                    case \"range\":\n                        dates = inputDate\n                            .split(self.l10n.rangeSeparator)\n                            .map(function (date) { return self.parseDate(date, format); });\n                        break;\n                    default:\n                        break;\n                }\n            }\n            else\n                self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n            self.selectedDates = dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); });\n            if (self.config.mode === \"range\")\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        function setDate(date, triggerChange, format) {\n            if (triggerChange === void 0) { triggerChange = false; }\n            if (format === void 0) { format = self.config.dateFormat; }\n            if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n                return self.clear(triggerChange);\n            setSelectedDate(date, format);\n            self.showTimeInput = self.selectedDates.length > 0;\n            self.latestSelectedDateObj =\n                self.selectedDates[self.selectedDates.length - 1];\n            self.redraw();\n            jumpToDate();\n            setHoursFromDate();\n            if (self.selectedDates.length === 0) {\n                self.clear(false);\n            }\n            updateValue(triggerChange);\n            if (triggerChange)\n                triggerEvent(\"onChange\");\n        }\n        function parseDateRules(arr) {\n            return arr\n                .slice()\n                .map(function (rule) {\n                if (typeof rule === \"string\" ||\n                    typeof rule === \"number\" ||\n                    rule instanceof Date) {\n                    return self.parseDate(rule, undefined, true);\n                }\n                else if (rule &&\n                    typeof rule === \"object\" &&\n                    rule.from &&\n                    rule.to)\n                    return {\n                        from: self.parseDate(rule.from, undefined),\n                        to: self.parseDate(rule.to, undefined)\n                    };\n                return rule;\n            })\n                .filter(function (x) { return x; }); // remove falsy values\n        }\n        function setupDates() {\n            self.selectedDates = [];\n            self.now = self.parseDate(self.config.now) || new Date();\n            // Workaround IE11 setting placeholder as the input's value\n            var preloadedDate = self.config.defaultDate ||\n                ((self.input.nodeName === \"INPUT\" ||\n                    self.input.nodeName === \"TEXTAREA\") &&\n                    self.input.placeholder &&\n                    self.input.value === self.input.placeholder\n                    ? null\n                    : self.input.value);\n            if (preloadedDate)\n                setSelectedDate(preloadedDate, self.config.dateFormat);\n            self._initialDate =\n                self.selectedDates.length > 0\n                    ? self.selectedDates[0]\n                    : self.config.minDate &&\n                        self.config.minDate.getTime() > self.now.getTime()\n                        ? self.config.minDate\n                        : self.config.maxDate &&\n                            self.config.maxDate.getTime() < self.now.getTime()\n                            ? self.config.maxDate\n                            : self.now;\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n            if (self.selectedDates.length > 0)\n                self.latestSelectedDateObj = self.selectedDates[0];\n            if (self.config.minTime !== undefined)\n                self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n            if (self.config.maxTime !== undefined)\n                self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n            self.minDateHasTime =\n                !!self.config.minDate &&\n                    (self.config.minDate.getHours() > 0 ||\n                        self.config.minDate.getMinutes() > 0 ||\n                        self.config.minDate.getSeconds() > 0);\n            self.maxDateHasTime =\n                !!self.config.maxDate &&\n                    (self.config.maxDate.getHours() > 0 ||\n                        self.config.maxDate.getMinutes() > 0 ||\n                        self.config.maxDate.getSeconds() > 0);\n            Object.defineProperty(self, \"showTimeInput\", {\n                get: function () { return self._showTimeInput; },\n                set: function (bool) {\n                    self._showTimeInput = bool;\n                    if (self.calendarContainer)\n                        toggleClass(self.calendarContainer, \"showTimeInput\", bool);\n                    self.isOpen && positionCalendar();\n                }\n            });\n        }\n        function setupInputs() {\n            self.input = self.config.wrap\n                ? element.querySelector(\"[data-input]\")\n                : element;\n            /* istanbul ignore next */\n            if (!self.input) {\n                self.config.errorHandler(new Error(\"Invalid input element specified\"));\n                return;\n            }\n            // hack: store previous type to restore it after destroy()\n            self.input._type = self.input.type;\n            self.input.type = \"text\";\n            self.input.classList.add(\"flatpickr-input\");\n            self._input = self.input;\n            if (self.config.altInput) {\n                // replicate self.element\n                self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n                self._input = self.altInput;\n                self.altInput.placeholder = self.input.placeholder;\n                self.altInput.disabled = self.input.disabled;\n                self.altInput.required = self.input.required;\n                self.altInput.tabIndex = self.input.tabIndex;\n                self.altInput.type = \"text\";\n                self.input.setAttribute(\"type\", \"hidden\");\n                if (!self.config.static && self.input.parentNode)\n                    self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n            }\n            if (!self.config.allowInput)\n                self._input.setAttribute(\"readonly\", \"readonly\");\n            self._positionElement = self.config.positionElement || self._input;\n        }\n        function setupMobile() {\n            var inputType = self.config.enableTime\n                ? self.config.noCalendar\n                    ? \"time\"\n                    : \"datetime-local\"\n                : \"date\";\n            self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n            self.mobileInput.step = self.input.getAttribute(\"step\") || \"any\";\n            self.mobileInput.tabIndex = 1;\n            self.mobileInput.type = inputType;\n            self.mobileInput.disabled = self.input.disabled;\n            self.mobileInput.required = self.input.required;\n            self.mobileInput.placeholder = self.input.placeholder;\n            self.mobileFormatStr =\n                inputType === \"datetime-local\"\n                    ? \"Y-m-d\\\\TH:i:S\"\n                    : inputType === \"date\"\n                        ? \"Y-m-d\"\n                        : \"H:i:S\";\n            if (self.selectedDates.length > 0) {\n                self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n            }\n            if (self.config.minDate)\n                self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n            if (self.config.maxDate)\n                self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n            self.input.type = \"hidden\";\n            if (self.altInput !== undefined)\n                self.altInput.type = \"hidden\";\n            try {\n                if (self.input.parentNode)\n                    self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n            }\n            catch (_a) { }\n            bind(self.mobileInput, \"change\", function (e) {\n                self.setDate(e.target.value, false, self.mobileFormatStr);\n                triggerEvent(\"onChange\");\n                triggerEvent(\"onClose\");\n            });\n        }\n        function toggle(e) {\n            if (self.isOpen === true)\n                return self.close();\n            self.open(e);\n        }\n        function triggerEvent(event, data) {\n            // If the instance has been destroyed already, all hooks have been removed\n            if (self.config === undefined)\n                return;\n            var hooks = self.config[event];\n            if (hooks !== undefined && hooks.length > 0) {\n                for (var i = 0; hooks[i] && i < hooks.length; i++)\n                    hooks[i](self.selectedDates, self.input.value, self, data);\n            }\n            if (event === \"onChange\") {\n                self.input.dispatchEvent(createEvent(\"change\"));\n                // many front-end frameworks bind to the input event\n                self.input.dispatchEvent(createEvent(\"input\"));\n            }\n        }\n        function createEvent(name) {\n            var e = document.createEvent(\"Event\");\n            e.initEvent(name, true, true);\n            return e;\n        }\n        function isDateSelected(date) {\n            for (var i = 0; i < self.selectedDates.length; i++) {\n                if (compareDates(self.selectedDates[i], date) === 0)\n                    return \"\" + i;\n            }\n            return false;\n        }\n        function isDateInRange(date) {\n            if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n                return false;\n            return (compareDates(date, self.selectedDates[0]) >= 0 &&\n                compareDates(date, self.selectedDates[1]) <= 0);\n        }\n        function updateNavigationCurrentMonth() {\n            if (self.config.noCalendar || self.isMobile || !self.monthNav)\n                return;\n            self.yearElements.forEach(function (yearElement, i) {\n                var d = new Date(self.currentYear, self.currentMonth, 1);\n                d.setMonth(self.currentMonth + i);\n                if (self.config.showMonths > 1 ||\n                    self.config.monthSelectorType === \"static\") {\n                    self.monthElements[i].textContent =\n                        monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n                }\n                else {\n                    self.monthsDropdownContainer.value = d.getMonth().toString();\n                }\n                yearElement.value = d.getFullYear().toString();\n            });\n            self._hidePrevMonthArrow =\n                self.config.minDate !== undefined &&\n                    (self.currentYear === self.config.minDate.getFullYear()\n                        ? self.currentMonth <= self.config.minDate.getMonth()\n                        : self.currentYear < self.config.minDate.getFullYear());\n            self._hideNextMonthArrow =\n                self.config.maxDate !== undefined &&\n                    (self.currentYear === self.config.maxDate.getFullYear()\n                        ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                        : self.currentYear > self.config.maxDate.getFullYear());\n        }\n        function getDateStr(format) {\n            return self.selectedDates\n                .map(function (dObj) { return self.formatDate(dObj, format); })\n                .filter(function (d, i, arr) {\n                return self.config.mode !== \"range\" ||\n                    self.config.enableTime ||\n                    arr.indexOf(d) === i;\n            })\n                .join(self.config.mode !== \"range\"\n                ? self.config.conjunction\n                : self.l10n.rangeSeparator);\n        }\n        /**\n         * Updates the values of inputs associated with the calendar\n         */\n        function updateValue(triggerChange) {\n            if (triggerChange === void 0) { triggerChange = true; }\n            if (self.mobileInput !== undefined && self.mobileFormatStr) {\n                self.mobileInput.value =\n                    self.latestSelectedDateObj !== undefined\n                        ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                        : \"\";\n            }\n            self.input.value = getDateStr(self.config.dateFormat);\n            if (self.altInput !== undefined) {\n                self.altInput.value = getDateStr(self.config.altFormat);\n            }\n            if (triggerChange !== false)\n                triggerEvent(\"onValueUpdate\");\n        }\n        function onMonthNavClick(e) {\n            var isPrevMonth = self.prevMonthNav.contains(e.target);\n            var isNextMonth = self.nextMonthNav.contains(e.target);\n            if (isPrevMonth || isNextMonth) {\n                changeMonth(isPrevMonth ? -1 : 1);\n            }\n            else if (self.yearElements.indexOf(e.target) >= 0) {\n                e.target.select();\n            }\n            else if (e.target.classList.contains(\"arrowUp\")) {\n                self.changeYear(self.currentYear + 1);\n            }\n            else if (e.target.classList.contains(\"arrowDown\")) {\n                self.changeYear(self.currentYear - 1);\n            }\n        }\n        function timeWrapper(e) {\n            e.preventDefault();\n            var isKeyDown = e.type === \"keydown\", input = e.target;\n            if (self.amPM !== undefined && e.target === self.amPM) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n                (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n            var newValue = curValue + step * delta;\n            if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n                var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n                if (newValue < min) {\n                    newValue =\n                        max +\n                            newValue +\n                            int(!isHourElem) +\n                            (int(isHourElem) && int(!self.amPM));\n                    if (isMinuteElem)\n                        incrementNumInput(undefined, -1, self.hourElement);\n                }\n                else if (newValue > max) {\n                    newValue =\n                        input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                    if (isMinuteElem)\n                        incrementNumInput(undefined, 1, self.hourElement);\n                }\n                if (self.amPM &&\n                    isHourElem &&\n                    (step === 1\n                        ? newValue + curValue === 23\n                        : Math.abs(newValue - curValue) > step)) {\n                    self.amPM.textContent =\n                        self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n                }\n                input.value = pad(newValue);\n            }\n        }\n        init();\n        return self;\n    }\n    /* istanbul ignore next */\n    function _flatpickr(nodeList, config) {\n        // static list\n        var nodes = Array.prototype.slice\n            .call(nodeList)\n            .filter(function (x) { return x instanceof HTMLElement; });\n        var instances = [];\n        for (var i = 0; i < nodes.length; i++) {\n            var node = nodes[i];\n            try {\n                if (node.getAttribute(\"data-fp-omit\") !== null)\n                    continue;\n                if (node._flatpickr !== undefined) {\n                    node._flatpickr.destroy();\n                    node._flatpickr = undefined;\n                }\n                node._flatpickr = FlatpickrInstance(node, config || {});\n                instances.push(node._flatpickr);\n            }\n            catch (e) {\n                console.error(e);\n            }\n        }\n        return instances.length === 1 ? instances[0] : instances;\n    }\n    /* istanbul ignore next */\n    if (typeof HTMLElement !== \"undefined\" &&\n        typeof HTMLCollection !== \"undefined\" &&\n        typeof NodeList !== \"undefined\") {\n        // browser env\n        HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n            return _flatpickr(this, config);\n        };\n        HTMLElement.prototype.flatpickr = function (config) {\n            return _flatpickr([this], config);\n        };\n    }\n    /* istanbul ignore next */\n    var flatpickr = function (selector, config) {\n        if (typeof selector === \"string\") {\n            return _flatpickr(window.document.querySelectorAll(selector), config);\n        }\n        else if (selector instanceof Node) {\n            return _flatpickr([selector], config);\n        }\n        else {\n            return _flatpickr(selector, config);\n        }\n    };\n    /* istanbul ignore next */\n    flatpickr.defaultConfig = {};\n    flatpickr.l10ns = {\n        en: __assign({}, english),\n        \"default\": __assign({}, english)\n    };\n    flatpickr.localize = function (l10n) {\n        flatpickr.l10ns[\"default\"] = __assign({}, flatpickr.l10ns[\"default\"], l10n);\n    };\n    flatpickr.setDefaults = function (config) {\n        flatpickr.defaultConfig = __assign({}, flatpickr.defaultConfig, config);\n    };\n    flatpickr.parseDate = createDateParser({});\n    flatpickr.formatDate = createDateFormatter({});\n    flatpickr.compareDates = compareDates;\n    /* istanbul ignore next */\n    if (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n        jQuery.fn.flatpickr = function (config) {\n            return _flatpickr(this, config);\n        };\n    }\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    Date.prototype.fp_incr = function (days) {\n        return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n    };\n    if (typeof window !== \"undefined\") {\n        window.flatpickr = flatpickr;\n    }\n\n    return flatpickr;\n\n}));\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.rangePlugin = factory());\n}(this, function () { 'use strict';\n\n  function rangePlugin(config) {\n      if (config === void 0) { config = {}; }\n      return function (fp) {\n          var dateFormat = \"\", secondInput, _secondInputFocused, _prevDates;\n          var createSecondInput = function () {\n              if (config.input) {\n                  secondInput =\n                      config.input instanceof Element\n                          ? config.input\n                          : window.document.querySelector(config.input);\n                  if (!secondInput) {\n                      fp.config.errorHandler(new Error(\"Invalid input element specified\"));\n                      return;\n                  }\n                  if (fp.config.wrap) {\n                      secondInput = secondInput.querySelector(\"[data-input]\");\n                  }\n              }\n              else {\n                  secondInput = fp._input.cloneNode();\n                  secondInput.removeAttribute(\"id\");\n                  secondInput._flatpickr = undefined;\n              }\n              if (secondInput.value) {\n                  var parsedDate = fp.parseDate(secondInput.value);\n                  if (parsedDate)\n                      fp.selectedDates.push(parsedDate);\n              }\n              secondInput.setAttribute(\"data-fp-omit\", \"\");\n              fp._bind(secondInput, [\"focus\", \"click\"], function () {\n                  if (fp.selectedDates[1]) {\n                      fp.latestSelectedDateObj = fp.selectedDates[1];\n                      fp._setHoursFromDate(fp.selectedDates[1]);\n                      fp.jumpToDate(fp.selectedDates[1]);\n                  }\n                  _secondInputFocused = true;\n                  fp.isOpen = false;\n                  fp.open(undefined, config.position === \"left\" ? fp._input : secondInput);\n              });\n              fp._bind(fp._input, [\"focus\", \"click\"], function (e) {\n                  e.preventDefault();\n                  fp.isOpen = false;\n                  fp.open();\n              });\n              if (fp.config.allowInput)\n                  fp._bind(secondInput, \"keydown\", function (e) {\n                      if (e.key === \"Enter\") {\n                          fp.setDate([fp.selectedDates[0], secondInput.value], true, dateFormat);\n                          secondInput.click();\n                      }\n                  });\n              if (!config.input)\n                  fp._input.parentNode &&\n                      fp._input.parentNode.insertBefore(secondInput, fp._input.nextSibling);\n          };\n          var plugin = {\n              onParseConfig: function () {\n                  fp.config.mode = \"range\";\n                  dateFormat = fp.config.altInput\n                      ? fp.config.altFormat\n                      : fp.config.dateFormat;\n              },\n              onReady: function () {\n                  createSecondInput();\n                  fp.config.ignoredFocusElements.push(secondInput);\n                  if (fp.config.allowInput) {\n                      fp._input.removeAttribute(\"readonly\");\n                      secondInput.removeAttribute(\"readonly\");\n                  }\n                  else {\n                      secondInput.setAttribute(\"readonly\", \"readonly\");\n                  }\n                  fp._bind(fp._input, \"focus\", function () {\n                      fp.latestSelectedDateObj = fp.selectedDates[0];\n                      fp._setHoursFromDate(fp.selectedDates[0]);\n                      _secondInputFocused = false;\n                      fp.jumpToDate(fp.selectedDates[0]);\n                  });\n                  if (fp.config.allowInput)\n                      fp._bind(fp._input, \"keydown\", function (e) {\n                          if (e.key === \"Enter\")\n                              fp.setDate([fp._input.value, fp.selectedDates[1]], true, dateFormat);\n                      });\n                  fp.setDate(fp.selectedDates, false);\n                  plugin.onValueUpdate(fp.selectedDates);\n                  fp.loadedPlugins.push(\"range\");\n              },\n              onPreCalendarPosition: function () {\n                  if (_secondInputFocused) {\n                      fp._positionElement = secondInput;\n                      setTimeout(function () {\n                          fp._positionElement = fp._input;\n                      }, 0);\n                  }\n              },\n              onChange: function () {\n                  if (!fp.selectedDates.length) {\n                      setTimeout(function () {\n                          if (fp.selectedDates.length)\n                              return;\n                          secondInput.value = \"\";\n                          _prevDates = [];\n                      }, 10);\n                  }\n                  if (_secondInputFocused) {\n                      setTimeout(function () {\n                          secondInput.focus();\n                      }, 0);\n                  }\n              },\n              onDestroy: function () {\n                  if (!config.input)\n                      secondInput.parentNode &&\n                          secondInput.parentNode.removeChild(secondInput);\n              },\n              onValueUpdate: function (selDates) {\n                  var _a, _b, _c;\n                  if (!secondInput)\n                      return;\n                  _prevDates =\n                      !_prevDates || selDates.length >= _prevDates.length\n                          ? selDates.slice() : _prevDates;\n                  if (_prevDates.length > selDates.length) {\n                      var newSelectedDate = selDates[0];\n                      var newDates = _secondInputFocused\n                          ? [_prevDates[0], newSelectedDate]\n                          : [newSelectedDate, _prevDates[1]];\n                      fp.setDate(newDates, false);\n                      _prevDates = newDates.slice();\n                  }\n                  _a = fp.selectedDates.map(function (d) { return fp.formatDate(d, dateFormat); }), _b = _a[0], fp._input.value = _b === void 0 ? \"\" : _b, _c = _a[1], secondInput.value = _c === void 0 ? \"\" : _c;\n              }\n          };\n          return plugin;\n      };\n  }\n\n  return rangePlugin;\n\n}));\n","import { Russian } from 'flatpickr/dist/l10n/ru';\nimport flatpickr from 'flatpickr';\nimport RangePlugin from 'flatpickr/dist/plugins/rangePlugin';\nimport { factory } from '../../scripts/factory';\n\nconst monthNumberToName = n =>\n  [\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    ''\n  ][n];\n\nclass Datepicker {\n  constructor(el) {\n    this.id = Datepicker.getID();\n    this.el = el;\n    this.inputEl = el.querySelector(`[data-${this.id}-input]`);\n    this.togglerEl = el.querySelector(`[data-${this.id}-toggler]`);\n    this.datepicker = null;\n    this.init();\n  }\n\n  static getID() {\n    return 'datepicker';\n  }\n\n  init() {\n    this.createDatepicker();\n  }\n\n  setCurrentMonthView(calendar) {\n    const monthName = monthNumberToName(calendar.currentMonth);\n    const currentDate = `${monthName} ${calendar.currentYear}`;\n    const currentDateContainer = calendar.calendarContainer.querySelector(\n      '.flatpickr-current-month'\n    );\n    currentDateContainer.innerHTML = currentDate;\n  }\n\n  formatValue(calendar) {\n    const { altInput } = calendar;\n    const { value } = calendar.altInput;\n    altInput.value = value.toLocaleLowerCase().replace(/\\u2013|\\u2014/g, '-');\n  }\n\n  createConfig() {\n    const next = this.el.querySelector(`[data-${this.id}-next]`);\n    const prev = this.el.querySelector(`[data-${this.id}-prev]`);\n    const dates = JSON.parse(this.el.dataset.dates) || [];\n    const { mode, format, connectedWith } = this.el.dataset;\n    const isInline = 'isInline' in this.el.dataset;\n\n    const config = {\n      locale: Russian,\n      dateFormat: 'd.m.Y',\n      altFormat: format,\n      altInput: true,\n      defaultDate: dates,\n      mode,\n      inline: isInline,\n      nextArrow: next ? next.outerHTML : '>',\n      prevArrow: prev ? prev.outerHTML : '<',\n      onOpen: () => this.el.classList.add('datepicker_is-opened'),\n      onClose: () => this.el.classList.remove('datepicker_is-opened'),\n      onReady: [\n        (selectedDates, dateStr, instance) => this.setCurrentMonthView(instance),\n        (selectedDates, dateStr, instance) => this.formatValue(instance)\n      ],\n      onMonthChange: (selectedDates, dateStr, instance) => this.setCurrentMonthView(instance),\n      onChange: (selectedDates, dateStr, instance) => this.formatValue(instance)\n    };\n\n    if (connectedWith) {\n      config.plugins = [\n        new RangePlugin({\n          input: connectedWith,\n          position: 'left'\n        })\n      ];\n    }\n\n    return config;\n  }\n\n  createDatepicker() {\n    const actions = this.el.querySelector(`[data-${this.id}-actions]`);\n    const reset = actions.querySelector(`[data-${this.id}-reset]`);\n    const ok = actions.querySelector(`[data-${this.id}-ok]`);\n    const { mode } = this.el.dataset;\n    const config = this.createConfig();\n\n    const datepicker = flatpickr(this.inputEl, config);\n\n    datepicker.$buttonReset = reset;\n    datepicker.$buttonOk = ok;\n\n    // handle action buttons click event\n    reset.addEventListener('click', datepicker.clear);\n    ok.addEventListener('click', datepicker.close);\n\n    // move actions panel inside datepicker container\n    if (mode !== 'single') {\n      datepicker.calendarContainer.appendChild(actions);\n    }\n  }\n}\n\nfactory(Datepicker);\n\nexport { Datepicker };\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not be triggered.\n * @param {Function} func Function to call after predetermined number of milliseconds\n * @param {number} wait Number of milliseconds to wait before calling a function\n * @param {boolean} immediate If true - trigger the function on the leading edge, instead of the trailing.\n */\nfunction debounce(func, wait, immediate) {\n  let timeout;\n  return function debounced(...args) {\n    const context = this;\n    const later = function runLater() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\n/**\n * Plural forms for russian words\n * @param  {Integer} count quantity for word\n * @param  {Array} words Array of words. Example: ['', '', ''], ['', '', '']\n * @return {String} plural form of word\n */\nfunction pluralize(count, words) {\n  const cases = [2, 0, 1, 1, 1, 2];\n  const word = words[count % 100 > 4 && count % 100 < 20 ? 2 : cases[Math.min(count % 10, 5)]];\n  return word;\n}\n\nconst inc = v => v + 1;\nconst dec = v => v - 1;\nconst not = v => !v;\nconst toBool = v => !!v;\nconst oneByOne = (...fns) => args => fns.forEach(fn => fn.apply(args));\n\nmodule.exports = {\n  debounce,\n  pluralize,\n  inc,\n  dec,\n  not,\n  toBool,\n  oneByOne\n};\n","import { pluralize } from '../../scripts/utils';\nimport { factory } from '../../scripts/factory';\n\nclass Counter {\n  constructor(el) {\n    const id = Counter.getID();\n    this.el = el;\n    this.inputEl = el.querySelector(`[data-${id}-input]`);\n    this.displayEl = el.querySelector(`[data-${id}-display]`);\n    this.btnIncEl = el.querySelector(`[data-${id}-inc]`);\n    this.btnDecEl = el.querySelector(`[data-${id}-dec]`);\n    this.value = this.inputEl.value || 0;\n    this.label = el.dataset.label || '';\n    this.plurals = JSON.parse(el.dataset.plurals) || [];\n    this.step = el.dataset.step || 1;\n    this.min = el.dataset.min || 0;\n    this.max = el.dataset.max || 100;\n    this.id = el.dataset.id;\n    this.init();\n  }\n\n  static getID() {\n    return 'counter';\n  }\n\n  init() {\n    this.bindEventHandlers();\n    this.attachEventHandlers();\n  }\n\n  bindEventHandlers() {\n    this.handleButtonDecClick = this.handleButtonDecClick.bind(this);\n    this.handleButtonIncClick = this.handleButtonIncClick.bind(this);\n    this.handleReset = this.handleReset.bind(this);\n    this.handleNotify = this.handleNotify.bind(this);\n  }\n\n  attachEventHandlers() {\n    this.btnIncEl.addEventListener('click', this.handleButtonIncClick);\n    this.btnDecEl.addEventListener('click', this.handleButtonDecClick);\n    this.el.addEventListener('counter:getValue', this.handleNotify);\n    this.el.addEventListener('counter:reset', this.handleReset);\n  }\n\n  toString() {\n    if (this.plurals.length === 3) {\n      return `${this.value} ${pluralize(this.value, this.plurals)}`;\n    }\n\n    return `${this.value} ${this.label}`;\n  }\n\n  handleButtonIncClick(e) {\n    e.preventDefault();\n\n    if (this.btnIncEl.disabled) return;\n\n    const value = parseInt(this.value, 10);\n    const step = parseInt(this.step, 10);\n    const max = parseInt(this.max, 10);\n\n    let newValue = value + step;\n\n    if (newValue >= max) {\n      newValue = max;\n      this.btnIncEl.setAttribute('disabled', true);\n    }\n\n    this.value = newValue;\n    this.inputEl.value = newValue;\n    this.displayEl.textContent = newValue;\n    this.btnDecEl.disabled = false;\n\n    const event = new CustomEvent('counter:increased', {\n      bubbles: true,\n      detail: {\n        id: this.id,\n        numValue: newValue,\n        strValue: this.toString()\n      }\n    });\n    this.el.dispatchEvent(event);\n  }\n\n  handleButtonDecClick(e) {\n    e.preventDefault();\n\n    if (this.btnDecEl.disabled) return;\n\n    const value = parseInt(this.value, 10);\n    const step = parseInt(this.step, 10);\n    const min = parseInt(this.min, 10);\n\n    let newValue = value - step;\n\n    if (newValue <= min) {\n      newValue = min;\n      this.btnDecEl.setAttribute('disabled', true);\n    }\n\n    this.value = newValue;\n    this.inputEl.value = newValue;\n    this.displayEl.textContent = newValue;\n    this.btnIncEl.disabled = false;\n\n    const event = new CustomEvent('counter:decreased', {\n      bubbles: true,\n      detail: {\n        id: this.id,\n        numValue: newValue,\n        strValue: this.toString()\n      }\n    });\n    this.el.dispatchEvent(event);\n  }\n\n  handleNotify() {\n    const value = parseInt(this.value, 10);\n    const event = new CustomEvent('counter:notify', {\n      bubbles: true,\n      detail: {\n        id: this.id,\n        numValue: value,\n        strValue: this.toString()\n      }\n    });\n\n    this.el.dispatchEvent(event);\n  }\n\n  handleReset() {\n    this.value = this.min;\n    this.displayEl.textContent = this.min;\n    this.btnDecEl.setAttribute('disabled', true);\n    this.btnIncEl.removeAttribute('disabled');\n  }\n}\n\nfactory(Counter);\n\nexport { Counter };\n","import { not } from '../../scripts/utils';\nimport { factory } from '../../scripts/factory';\n\nclass Menu {\n  constructor(el) {\n    this.id = Menu.getID();\n    this.el = el;\n    this.menuItems = el.querySelectorAll(`[data-${this.id}-item]`);\n    this.init();\n  }\n\n  static getID() {\n    return 'menu';\n  }\n\n  init() {\n    this.bindEventListeners();\n    this.attachEventHandlers();\n  }\n\n  bindEventListeners() {\n    this.showSubmenu = this.showSubmenu.bind(this);\n    this.hideSubmenu = this.hideSubmenu.bind(this);\n  }\n\n  attachEventHandlers() {\n    this.menuItems.forEach(item => {\n      item.addEventListener('mouseenter', this.showSubmenu);\n      item.addEventListener('mouseleave', this.hideSubmenu);\n      item.addEventListener('focusin', this.showSubmenu);\n      item.addEventListener('focusout', this.hideSubmenu);\n    });\n  }\n\n  showSubmenu(e) {\n    const currentItem = e.currentTarget;\n    const hasSubmenu = !!currentItem.querySelector([`[data-${this.id}-submenu]`]);\n\n    if (not(hasSubmenu)) return;\n\n    // hide other submenus\n    [...this.menuItems]\n      .filter(item => item !== currentItem)\n      .forEach(item => item.classList.remove('menu__item_is-active'));\n\n    // toggle the state of current sub menu\n    currentItem.classList.add('menu__item_is-active');\n  }\n\n  hideSubmenu(e) {\n    const currentItem = e.currentTarget;\n\n    // toggle the state of current sub menu\n    currentItem.classList.add('menu__item_is-fading');\n\n    // remove modifiers after delay\n    setTimeout(() => {\n      currentItem.classList.remove('menu__item_is-active');\n      currentItem.classList.remove('menu__item_is-fading');\n    }, 350);\n  }\n}\n\nfactory(Menu);\n\nexport { Menu };\n","import { factory } from '../../scripts/factory';\n\nclass OffCanvas {\n  constructor(el) {\n    this.el = el;\n    this.mainContainer = el.parentElement;\n    this.init();\n  }\n\n  static getID() {\n    return 'off-canvas';\n  }\n\n  init() {\n    this.bindEventHandlers();\n    this.attachEventHandlers();\n\n    this.mainContainer.classList.add('off-canvas__container');\n  }\n\n  bindEventHandlers() {\n    this.handleToggle = this.handleToggle.bind(this);\n  }\n\n  attachEventHandlers() {\n    this.el.addEventListener('off-canvas:toggle', this.handleToggle);\n  }\n\n  handleToggle() {\n    this.mainContainer.classList.toggle('off-canvas__parent');\n    this.el.classList.toggle('off-canvas_is-opened');\n  }\n}\n\nfactory(OffCanvas);\n\nexport { OffCanvas };\n","import { debounce } from '../../scripts/utils';\nimport { factory } from '../../scripts/factory';\n\nclass OffCanvasToggler {\n  constructor(el) {\n    this.el = el;\n    this.connectedWithEl = document.getElementById(el.dataset.connectedWith);\n    this.init();\n  }\n\n  static getID() {\n    return 'off-canvas-toggler';\n  }\n\n  init() {\n    this.bindEventHandlers();\n    this.attachEventHandlers();\n  }\n\n  bindEventHandlers() {\n    this.handleClick = debounce(this.handleClick.bind(this), 10);\n  }\n\n  attachEventHandlers() {\n    this.el.addEventListener('click', this.handleClick);\n  }\n\n  handleClick() {\n    if (this.connectedWithEl) {\n      this.connectedWithEl.dispatchEvent(new Event('off-canvas:toggle'));\n    }\n  }\n}\n\nfactory(OffCanvasToggler);\n\nexport { OffCanvasToggler };\n","import { pluralize, not } from '../../scripts/utils';\nimport { factory } from '../../scripts/factory';\n\nclass DropdownCounter {\n  constructor(el) {\n    const id = DropdownCounter.getID();\n    this.el = el;\n    this.inputEl = el.querySelector(`[data-${id}-value]`);\n    this.inputAltEl = el.querySelector(`[data-${id}-alt]`);\n    this.togglerEl = el.querySelector(`[data-${id}-toggler]`);\n    this.okEl = el.querySelector(`[data-${id}-ok]`);\n    this.resetEl = el.querySelector(`[data-${id}-reset]`);\n    this.counterEls = el.querySelectorAll(`[data-counter]`);\n    this.actionsEl = el.querySelector(`[data-${id}-actions]`);\n    this.resultType = el.dataset.resultType;\n    this.plurals = JSON.parse(el.dataset.plurals);\n    this.showActions = 'showActions' in el.dataset;\n    this.model = new Map();\n    this.init();\n    this.updateDOM();\n  }\n\n  static getID() {\n    return 'dropdown-counter';\n  }\n\n  init() {\n    this.bindEventHandlers();\n    this.attachEventHandlers();\n\n    // populate model from initial counter values\n    this.counterEls.forEach(c => c.dispatchEvent(new Event('counter:getValue')));\n  }\n\n  bindEventHandlers() {\n    this.updateModel = this.updateModel.bind(this);\n    this.handleValueAltClick = this.handleValueAltClick.bind(this);\n    this.handleFocusOut = this.handleFocusOut.bind(this);\n    this.handleCounterUpdate = this.handleCounterUpdate.bind(this);\n    this.handleResetClick = this.handleResetClick.bind(this);\n    this.handleOkClick = this.handleOkClick.bind(this);\n    this.toggleCounters = this.toggleCounters.bind(this);\n    this.showCounters = this.showCounters.bind(this);\n    this.hideCounters = this.hideCounters.bind(this);\n  }\n\n  attachEventHandlers() {\n    this.el.addEventListener('counter:increased', this.handleCounterUpdate);\n    this.el.addEventListener('counter:decreased', this.handleCounterUpdate);\n    this.el.addEventListener('counter:notify', this.handleCounterUpdate);\n    this.resetEl.addEventListener('click', this.handleResetClick);\n    this.okEl.addEventListener('click', this.handleOkClick);\n    this.inputAltEl.addEventListener('click', this.handleValueAltClick);\n    this.inputAltEl.addEventListener('focusout', this.handleFocusOut);\n    this.togglerEl.addEventListener('click', this.handleValueAltClick);\n  }\n\n  updateDOM() {\n    // sum of counters numValues\n    const total = Array.from(this.model, ([, v]) => v.numValue).reduce((a, b) => a + b, 0);\n\n    // set value for hidden input\n    this.inputEl.value = JSON.stringify([...this.model]);\n\n    // set value for visible input\n    if (this.resultType === 'total') {\n      if (this.plurals.length === 3) {\n        this.inputAltEl.value = total === 0 ? '' : `${total} ${pluralize(total, this.plurals)}`;\n      } else {\n        this.inputAltEl.value = total;\n      }\n    } else {\n      this.inputAltEl.value = Array.from(this.model)\n        .map(([, v]) => v)\n        .filter(v => v.numValue > 0)\n        .map(v => v.strValue)\n        .join(', ');\n    }\n\n    // toggle reset button visibility\n    if (total > 0) {\n      this.resetEl.classList.add('dropdown-counter__reset_is-visible');\n    } else {\n      this.resetEl.classList.remove('dropdown-counter__reset_is-visible');\n    }\n  }\n\n  updateModel({ id, numValue, strValue }) {\n    this.model.set(id, { numValue, strValue });\n    this.updateDOM();\n  }\n\n  showActionsPanel() {\n    this.el.classList.add('dropdown-counter_visible-actions');\n  }\n\n  showCounters() {\n    this.el.classList.remove('dropdown-counter_is-collapsed');\n  }\n\n  hideCounters() {\n    this.el.classList.add('dropdown-counter_is-collapsed');\n  }\n\n  toggleCounters() {\n    this.el.classList.toggle('dropdown-counter_is-collapsed');\n  }\n\n  handleValueAltClick() {\n    this.toggleCounters();\n  }\n\n  handleFocusOut(e) {\n    const isInside = this.el.contains(e.relatedTarget);\n    if (not(isInside)) {\n      this.hideCounters();\n    }\n  }\n\n  handleCounterUpdate(e) {\n    this.updateModel(e.detail);\n\n    if (this.showActions) {\n      this.showActionsPanel();\n    }\n  }\n\n  handleResetClick(e) {\n    e.preventDefault();\n    this.model = new Map();\n\n    // reset counters\n    this.counterEls.forEach(c => c.dispatchEvent(new Event('counter:reset')));\n\n    this.updateDOM();\n  }\n\n  handleOkClick(e) {\n    e.preventDefault();\n    this.hideCounters();\n  }\n}\n\nfactory(DropdownCounter);\n\nexport { DropdownCounter };\n","import '../../components/form/form';\nimport '../../components/datepicker/datepicker';\nimport '../../components/counter/counter';\nimport '../../components/menu/menu';\nimport '../../components/off-canvas/off-canvas';\nimport '../../components/off-canvas-toggler/off-canvas-toggler';\nimport '../../components/dropdown-counter/dropdown-counter';\n"]}