{"version":3,"sources":["../node_modules/hyperform/src/tools/trigger_event.js","../node_modules/hyperform/src/tools/matches.js","../node_modules/hyperform/src/tools/mark.js","../node_modules/hyperform/src/components/message_store.js","../node_modules/hyperform/src/tools/generate_id.js","../node_modules/hyperform/src/tools/get_radiogroup.js","../node_modules/hyperform/src/components/renderer.js","../node_modules/hyperform/src/components/hooks.js","../node_modules/hyperform/src/components/types.js","../node_modules/hyperform/src/tools/get_type.js","../node_modules/hyperform/src/tools/is_validation_candidate.js","../node_modules/hyperform/src/tools/format_date.js","../node_modules/hyperform/src/tools/sprintf.js","../node_modules/hyperform/src/tools/get_week_of_year.js","../node_modules/hyperform/src/tools/date_to_string.js","../node_modules/hyperform/src/tools/get_date_from_week.js","../node_modules/hyperform/src/tools/string_to_date.js","../node_modules/hyperform/src/tools/string_to_number.js","../node_modules/hyperform/src/components/localization.js","../node_modules/hyperform/src/components/step_defaults.js","../node_modules/hyperform/src/tools/get_next_valid.js","../node_modules/hyperform/src/tools/unicode_string_length.js","../node_modules/hyperform/src/components/custom_messages.js","../node_modules/hyperform/src/components/registry.js","../node_modules/hyperform/src/validators/bad_input.js","../node_modules/hyperform/src/validators/max.js","../node_modules/hyperform/src/validators/maxlength.js","../node_modules/hyperform/src/validators/min.js","../node_modules/hyperform/src/validators/minlength.js","../node_modules/hyperform/src/validators/pattern.js","../node_modules/hyperform/src/validators/required.js","../node_modules/hyperform/src/validators/step.js","../node_modules/hyperform/src/tools/trim.js","../node_modules/hyperform/src/tools/comma_split.js","../node_modules/hyperform/src/validators/type.js","../node_modules/hyperform/src/tools/validity_state_checkers.js","../node_modules/hyperform/src/polyfills/validityState.js","../node_modules/hyperform/src/polyfills/reportValidity.js","../node_modules/hyperform/src/tools/catch_submit.js","../node_modules/hyperform/src/tools/property_uninstaller.js","../node_modules/hyperform/src/tools/property_installer.js","../node_modules/hyperform/src/tools/is_field.js","../node_modules/hyperform/src/polyfills/setCustomValidity.js","../node_modules/hyperform/src/polyfills/valueAsDate.js","../node_modules/hyperform/src/polyfills/valueAsNumber.js","../node_modules/hyperform/src/polyfills/stepDown.js","../node_modules/hyperform/src/polyfills/stepUp.js","../node_modules/hyperform/src/polyfills/validationMessage.js","../node_modules/hyperform/src/polyfills/willValidate.js","../node_modules/hyperform/src/polyfills/properties.js","../node_modules/hyperform/src/tools/polyfill.js","../node_modules/hyperform/src/tools/polyunfill.js","../node_modules/hyperform/src/components/wrapper.js","../node_modules/hyperform/src/tools/get_validated_elements.js","../node_modules/hyperform/src/tools/return_hook_or.js","../node_modules/hyperform/src/polyfills/checkValidity.js","../node_modules/hyperform/src/version.js","../node_modules/hyperform/src/hyperform.js","scripts/factory.js","components/form/form.js","scripts/utils.js","components/menu/menu.js","components/off-canvas/off-canvas.js","components/off-canvas-toggler/off-canvas-toggler.js","pages/sign-in/sign-in.js"],"names":["workingDefaultPrevented","e","document","createEvent","initEvent","preventDefault","defaultPrevented","origPreventDefault","window","Event","prototype","cancelable","call","Object","defineProperty","get","configurable","create_event","name","bubbles","event","element","payload","key","hasOwnProperty","dispatchEvent","ep","Element","native_matches","matches","matchesSelector","msMatchesSelector","webkitMatchesSelector","selector","obj","indexOf","__hyperform","enumerable","value","store","WeakMap","message_store","set","message","is_custom","HTMLFieldSetElement","wrapped_form","settings","extendFieldset","String","_original_setCustomValidity","toString","undefined","_original_validationMessage","delete","uid","prefix","Math","random","substr","get_radiogroup","form","Array","filter","elements","radio","type","Renderer","warningsCache","DefaultRenderer","attachWarning","warning","parentNode","insertBefore","nextSibling","detachWarning","removeChild","showWarning","whole_form_validated","msg","wrapper","createElement","className","classes","id","setAttribute","hasAttribute","setMessage","getAttribute","removeAttribute","textContent","renderer","action","console","log","replace","g","toUpperCase","getWarning","registry","create","call_hook","hook","result","call_args","slice","arguments","args","reduce","previousResult","currentAction","interimResult","apply","state","do_filter","initial_value","remove_hook","i","length","splice","add_hook","position","dates","plain_numbers","numbers","concat","type_checked","input_checked","text","validation_candidates","inputs","non_inputs","HTMLTextAreaElement","HTMLSelectElement","HTMLButtonElement","toLowerCase","HTMLInputElement","attr","is_in_disallowed_parent","p","nodeType","nodeName","filtered","novalidateOnElements","noValidate","date","part","toLocaleDateString","toDateString","toLocaleTimeString","toTimeString","year","month","toLocaleString","str","args_length","global_index","match","local_index","Number","arg","Date","d","setUTCHours","setUTCDate","getUTCDate","getUTCDay","yearStart","getUTCFullYear","weekNo","ceil","pad","num","size","s","date_to_string","element_type","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","getUTCMonth","params","sprintf","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","week","UTC","string","test","isNaN","valueOf","RegExp","$2","$1","rval","catalog","en","TextTooLong","ValueMissing","CheckboxMissing","RadioMissing","FileMissing","SelectMissing","InvalidEmail","InvalidURL","PatternMismatch","PatternMismatchWithTitle","NumberRangeOverflow","DateRangeOverflow","TimeRangeOverflow","NumberRangeUnderflow","DateRangeUnderflow","TimeRangeUnderflow","StepMismatch","StepMismatchOneValue","BadInputNumber","language","base_lang","set_language","newlang","add_translation","lang","new_catalog","default_step","datetime","time","step_scale_factor","default_step_base","default_min","range","default_max","n","aMin","min","NaN","pMin","aMax","max","pMax","aStep","step","pStep","default_value","step_base","scale","prev","floor","next","custom_messages","validator","messages","_default","data_id","custom_validator_registry","internal_registry","current","push","_original_validity","badInput","text_types","maxlength","parseInt","minlength","has_submittable_option","select","has_placeholder_option","multiple","options","selectedIndex","some","option","index","disabled","selected","checked","radiogroup","abs","ws_on_start_or_end","split","map","item","b","url_canary","email_pattern","is_valid","href","every","files","patterns","pattern","fileloop","file_valid","patternloop","j","file","fileprop","search","lastIndexOf","check","react","invalid","set_msg","msgtype","test_bad_input","customError","__hf_custom_validation_running","custom_validators","CustomValidatorRegistry","cvl","valid","patternMismatch","test_pattern","title","rangeOverflow","test_max","outOfRangeClass","outOfRange","inRangeClass","inRange","classList","add","remove","rangeUnderflow","test_min","stepMismatch","test_step","list","sole","tooLong","test_maxlength","tooShort","test_minlength","typeMismatch","test_type","valueMissing","test_required","validClass","invalidClass","userInvalidClass","userInvalid","userValidClass","userValid","validatedClass","validated","checker","defaultChecked","defaultValue","ValidityState","HTMLElement","Error","cached","cache","ValidityStatePrototype","checker_getter","func","prop","validity_state_checkers","reportValidity","HTMLFormElement","__hf_form_validation","form_valid","validEvent","submit_form_via","event_got_cancelled","submit_event","writable","submittedVia","add_submit_field","submit","setTimeout","remove_submit_field","button","submit_helper","appendChild","val_event","first_invalid","focus","is_submit_button","node","is_submitting_click","is_submitting_keypress","keyCode","target","get_clicked_button","get_click_handler","ignore","click_handler","ignored_click_handler","get_keypress_handler","preventImplicitSubmit","el","implicit_event","trigger","click","keypress_handler","ignored_keypress_handler","catch_submit","listening_node","addEventListener","uncatch_submit","removeEventListener","property","debug","original_descriptor","getOwnPropertyDescriptor","descriptor","getPrototypeOf","setCustomValidity","valueAsDate","DOMException","getTime","value_date","valueAsNumber","isFinite","stepDown","stepUp","validationMessage","willValidate","gA","sA","gAb","sAb","gAn","sAn","install_properties","uninstall_properties","polyfills","checkValidity","validity","instances","Wrapper","existing","revalidator","revalidate","bind","install","get_wrapper","wrapped","destroy","uninstall","els","els_length","get_validated_elements","validateNameless","data","hyperform","w","deprecated_message","extend_fieldset","novalidate_on_elements","prevent_implicit_submit","strict","valid_event","NodeList","HTMLCollection","version","setLanguage","addTranslation","setRenderer","addValidator","addHook","removeHook","set_renderer","add_validator","set_message","currentScript","factory","Component","getID","qs","querySelectorAll","formValidationI18n","ru","TextTooShort","InvalidDate","Form","formValidationClasses","init","debounce","wait","immediate","timeout","context","callNow","clearTimeout","pluralize","count","words","word","inc","v","dec","not","toBool","oneByOne","fns","forEach","fn","module","exports","Menu","menuItems","bindEventListeners","attachEventHandlers","showSubmenu","hideSubmenu","currentItem","currentTarget","hasSubmenu","querySelector","OffCanvas","mainContainer","parentElement","bindEventHandlers","handleToggle","toggle","OffCanvasToggler","connectedWithEl","getElementById","dataset","connectedWith","handleClick"],"mappings":"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","file":"sign-in.5ea4cb10.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\n/* the following code is borrowed from the WebComponents project, licensed\n * under the BSD license. Source:\n * <https://github.com/webcomponents/webcomponentsjs/blob/5283db1459fa2323e5bfc8b9b5cc1753ed85e3d0/src/WebComponents/dom.js#L53-L78>\n */\n// defaultPrevented is broken in IE.\n// https://connect.microsoft.com/IE/feedback/details/790389/event-defaultprevented-returns-false-after-preventdefault-was-called\nconst workingDefaultPrevented = (function() {\n  const e = document.createEvent('Event');\n  e.initEvent('foo', true, true);\n  e.preventDefault();\n  return e.defaultPrevented;\n})();\n\nif (!workingDefaultPrevented) {\n  const origPreventDefault = window.Event.prototype.preventDefault;\n  window.Event.prototype.preventDefault = function() {\n    if (!this.cancelable) {\n      return;\n    }\n\n    origPreventDefault.call(this);\n\n    Object.defineProperty(this, 'defaultPrevented', {\n      get: function() {\n        return true;\n      },\n      configurable: true\n    });\n  };\n}\n/* end of borrowed code */\n\n\nexport function create_event(name, { bubbles=true, cancelable=false, }={}) {\n  const event = document.createEvent('Event');\n  event.initEvent(name, bubbles, cancelable);\n  return event;\n}\n\n\nexport default function(element, event, {\n                          bubbles=true,\n                          cancelable=false,\n                        }={}, payload={}) {\n  if (! (event instanceof window.Event)) {\n    event = create_event(event, { bubbles, cancelable });\n  }\n\n  for (let key in payload) {\n    if (payload.hasOwnProperty(key)) {\n      event[key] = payload[key];\n    }\n  }\n\n  element.dispatchEvent(event);\n\n  return event;\n}\n","'use strict';\n\n/* shim layer for the Element.matches method */\n\nconst ep = window.Element.prototype;\nconst native_matches = ep.matches ||\n                       ep.matchesSelector ||\n                       ep.msMatchesSelector ||\n                       ep.webkitMatchesSelector;\n\nexport default function(element, selector) {\n  return native_matches.call(element, selector);\n}\n","'use strict';\n\n/**\n * mark an object with a '__hyperform=true' property\n *\n * We use this to distinguish our properties from the native ones. Usage:\n * js> mark(obj);\n * js> assert(obj.__hyperform === true)\n */\nexport default function(obj) {\n  if (['object', 'function'].indexOf(typeof obj) > -1) {\n    delete obj.__hyperform;\n    Object.defineProperty(obj, '__hyperform', {\n      configurable: true,\n      enumerable: false,\n      value: true,\n    });\n  }\n\n  return obj;\n}\n","'use strict';\n\n\nimport { get_wrapper } from './wrapper';\nimport mark from '../tools/mark';\n\n\n/**\n * the internal storage for messages\n */\nconst store = new WeakMap();\n\n\n/* jshint -W053 *//* allow new String() */\n/**\n * handle validation messages\n *\n * Falls back to browser-native errors, if any are available. The messages\n * are String objects so that we can mark() them.\n */\nconst message_store = {\n\n  set(element, message, is_custom=false) {\n    if (element instanceof window.HTMLFieldSetElement) {\n      const wrapped_form = get_wrapper(element);\n      if (wrapped_form && ! wrapped_form.settings.extendFieldset) {\n        /* make this a no-op for <fieldset> in strict mode */\n        return message_store;\n      }\n    }\n\n    if (typeof message === 'string') {\n      message = new String(message);\n    }\n    if (is_custom) {\n      message.is_custom = true;\n    }\n    mark(message);\n    store.set(element, message);\n\n    /* allow the :invalid selector to match */\n    if ('_original_setCustomValidity' in element) {\n      element._original_setCustomValidity(message.toString());\n    }\n\n    return message_store;\n  },\n\n  get(element) {\n    var message = store.get(element);\n    if (message === undefined && ('_original_validationMessage' in element)) {\n      /* get the browser's validation message, if we have none. Maybe it\n       * knows more than we. */\n      message = new String(element._original_validationMessage);\n    }\n    return message? message : new String('');\n  },\n\n  delete(element, is_custom=false) {\n    if ('_original_setCustomValidity' in element) {\n      element._original_setCustomValidity('');\n    }\n    var message = store.get(element);\n    if (message && is_custom && ! message.is_custom) {\n      /* do not delete \"native\" messages, if asked */\n      return false;\n    }\n    return store.delete(element);\n  },\n\n};\n/* jshint +W053 */\n\nexport { message_store };\n","'use strict';\n\n\n/**\n * counter that will be incremented with every call\n *\n * Will enforce uniqueness, as long as no more than 1 hyperform scripts\n * are loaded. (In that case we still have the \"random\" part below.)\n */\nvar uid = 0;\n\n\n/**\n * generate a random ID\n *\n * @see https://gist.github.com/gordonbrander/2230317\n */\nexport default function(prefix='hf_') {\n  return prefix + ( uid++ ) + Math.random().toString(36).substr(2);\n}\n","'use strict';\n\n\n/**\n * get all radio buttons (including `element`) that belong to element's\n * radio group\n */\nexport function get_radiogroup(element) {\n  if (element.form) {\n    return Array.prototype.filter.call(\n      element.form.elements,\n      radio => radio.type === 'radio' && radio.name === element.name\n    );\n  }\n  return [element];\n}\n","'use strict';\n\n\nimport { message_store } from './message_store';\nimport { get_wrapper } from './wrapper';\nimport generate_id from '../tools/generate_id';\nimport { get_radiogroup } from '../tools/get_radiogroup';\n\n\nconst warningsCache = new WeakMap();\n\n\nconst DefaultRenderer = {\n\n  /**\n   * called when a warning should become visible\n   */\n  attachWarning: function(warning, element) {\n    /* should also work, if element is last,\n     * http://stackoverflow.com/a/4793630/113195 */\n    element.parentNode.insertBefore(warning, element.nextSibling);\n  },\n\n  /**\n   * called when a warning should vanish\n   */\n  detachWarning: function(warning, element) {\n    /* be conservative here, since an overwritten attachWarning() might not\n     * actually have attached the warning. */\n    if (warning.parentNode) {\n      warning.parentNode.removeChild(warning);\n    }\n  },\n\n  /**\n   * called when feedback to an element's state should be handled\n   *\n   * i.e., showing and hiding warnings\n   */\n  showWarning: function(element, whole_form_validated=false) {\n    /* don't render error messages on subsequent radio buttons of the\n     * same group. This assumes, that element.validity.valueMissing is the only\n     * possible validation failure for radio buttons. */\n    if (whole_form_validated && element.type === 'radio' &&\n        get_radiogroup(element)[0] !== element) {\n      return;\n    }\n\n    const msg = message_store.get(element).toString();\n    var warning = warningsCache.get(element);\n\n    if (msg) {\n      if (! warning) {\n        const wrapper = get_wrapper(element);\n        warning = document.createElement('div');\n        warning.className = wrapper && wrapper.settings.classes.warning || 'hf-warning';\n        warning.id = generate_id();\n        warning.setAttribute('aria-live', 'polite');\n        warningsCache.set(element, warning);\n      }\n\n      element.setAttribute('aria-errormessage', warning.id);\n      if (!element.hasAttribute('aria-describedby')) {\n        element.setAttribute('aria-describedby', warning.id);\n      }\n      Renderer.setMessage(warning, msg, element);\n      Renderer.attachWarning(warning, element);\n\n    } else if (warning && warning.parentNode) {\n      if (element.getAttribute('aria-describedby') === warning.id) {\n        element.removeAttribute('aria-describedby');\n      }\n      element.removeAttribute('aria-errormessage');\n      Renderer.detachWarning(warning, element);\n\n    }\n  },\n\n  /**\n   * set the warning's content\n   *\n   * Overwrite this method, if you want, e.g., to allow HTML in warnings\n   * or preprocess the content.\n   */\n  setMessage: function(warning, message, element) {\n    warning.textContent = message;\n  }\n\n};\n\n\nconst Renderer = {\n\n  attachWarning: DefaultRenderer.attachWarning,\n  detachWarning: DefaultRenderer.detachWarning,\n  showWarning: DefaultRenderer.showWarning,\n  setMessage: DefaultRenderer.setMessage,\n\n  set: function(renderer, action) {\n    if (renderer.indexOf('_') > -1) {\n      /* global console */\n      // TODO delete before next non-patch version\n      console.log('Renderer.set: please use camelCase names. '+renderer+' will be removed in the next non-patch release.');\n      renderer = renderer.replace(/_([a-z])/g, g => g[1].toUpperCase());\n    }\n    if (! action) {\n      action = DefaultRenderer[renderer];\n    }\n    Renderer[renderer] = action;\n  },\n\n  getWarning: element => warningsCache.get(element),\n\n};\n\n\nexport default Renderer;\n","'use strict';\n\n\nconst registry = Object.create(null);\n\n\n/**\n * run all actions registered for a hook\n *\n * Every action gets called with a state object as `this` argument and with the\n * hook's call arguments as call arguments.\n *\n * @return mixed the returned value of the action calls or undefined\n */\nexport function call_hook(hook) {\n  var result;\n  const call_args = Array.prototype.slice.call(arguments, 1);\n\n  if (hook in registry) {\n    result = registry[hook].reduce((function(args) {\n\n      return function(previousResult, currentAction) {\n        const interimResult = currentAction.apply({\n          state: previousResult,\n          hook: hook,\n        }, args);\n        return (interimResult !== undefined)? interimResult : previousResult;\n      };\n\n    })(call_args), result);\n  }\n\n  return result;\n}\n\n/**\n * Filter a value through hooked functions\n *\n * Allows for additional parameters:\n * js> do_filter('foo', null, current_element)\n */\nexport function do_filter(hook, initial_value) {\n  var result = initial_value;\n  var call_args = Array.prototype.slice.call(arguments, 1);\n\n  if (hook in registry) {\n    result = registry[hook].reduce(function(previousResult, currentAction) {\n      call_args[0] = previousResult;\n      const interimResult = currentAction.apply({\n        state: previousResult,\n        hook: hook,\n      }, call_args);\n      return (interimResult !== undefined)? interimResult : previousResult;\n    }, result);\n  }\n\n  return result;\n}\n\n/**\n * remove an action again\n */\nexport function remove_hook(hook, action) {\n  if (hook in registry) {\n    for (let i = 0; i < registry[hook].length; i++) {\n      if (registry[hook][i] === action) {\n        registry[hook].splice(i, 1);\n        break;\n      }\n    }\n  }\n}\nexport { remove_hook as remove_filter };\n\n/**\n * add an action to a hook\n */\nexport function add_hook(hook, action, position) {\n  if (! (hook in registry)) {\n    registry[hook] = [];\n  }\n  if (position === undefined) {\n    position = registry[hook].length;\n  }\n  registry[hook].splice(position, 0, action);\n}\nexport { add_hook as add_filter };\n","'use strict';\n\n/* and datetime-local? Spec says Nah! */\nexport const dates = [ 'datetime', 'date', 'month', 'week', 'time', ];\n\nexport const plain_numbers = [ 'number', 'range', ];\n\n/* everything that returns something meaningful for valueAsNumber and\n * can have the step attribute */\nexport const numbers = dates.concat(plain_numbers, 'datetime-local');\n\n/* the spec says to only check those for syntax in validity.typeMismatch.\n * \\_()_/ */\nexport const type_checked = [ 'email', 'url', ];\n\n/* check these for validity.badInput */\nexport const input_checked = [ 'email', 'date', 'month', 'week', 'time',\n  'datetime', 'datetime-local', 'number', 'range', 'color', ];\n\nexport const text = [ 'text', 'search', 'tel', 'password', ].concat(type_checked);\n\n/* input element types, that are candidates for the validation API.\n * Missing from this set are: button, hidden, menu (from <button>), reset and\n * the types for non-<input> elements. */\nexport const validation_candidates = [ 'checkbox', 'color', 'file', 'image',\n  'radio', 'submit', ].concat(numbers, text);\n\n/* all known types of <input> */\nexport const inputs = ['button', 'hidden', 'reset'].concat(validation_candidates);\n\n/* apparently <select> and <textarea> have types of their own */\nexport const non_inputs = ['select-one', 'select-multiple', 'textarea'];\n","'use strict';\n\n\nimport { inputs } from '../components/types';\n\n\n/**\n * get the element's type in a backwards-compatible way\n */\nexport default function(element) {\n  if (element instanceof window.HTMLTextAreaElement) {\n    return 'textarea';\n\n  } else if (element instanceof window.HTMLSelectElement) {\n    return element.hasAttribute('multiple')? 'select-multiple' : 'select-one';\n\n  } else if (element instanceof window.HTMLButtonElement) {\n    return (element.getAttribute('type') || 'submit').toLowerCase();\n\n  } else if (element instanceof window.HTMLInputElement) {\n    const attr = (element.getAttribute('type') || '').toLowerCase();\n    if (attr && inputs.indexOf(attr) > -1) {\n      return attr;\n    } else {\n      /* perhaps the DOM has in-depth knowledge. Take that before returning\n       * 'text'. */\n      return element.type || 'text';\n    }\n\n  }\n\n  return '';\n}\n","'use strict';\n\n\nimport { do_filter } from '../components/hooks';\nimport { validation_candidates, non_inputs } from '../components/types';\nimport { get_wrapper } from '../components/wrapper';\nimport get_type from '../tools/get_type';\n\n\n/**\n * check if an element should be ignored due to any of its parents\n *\n * Checks <fieldset disabled> and <datalist>.\n */\nfunction is_in_disallowed_parent(element) {\n  let p = element.parentNode;\n  while (p && p.nodeType === 1) {\n    if (p instanceof window.HTMLFieldSetElement &&\n        p.hasAttribute('disabled')) {\n      /* quick return, if it's a child of a disabled fieldset */\n      return true;\n    } else if (p.nodeName.toUpperCase() === 'DATALIST') {\n      /* quick return, if it's a child of a datalist\n       * Do not use HTMLDataListElement to support older browsers,\n       * too.\n       * @see https://html.spec.whatwg.org/multipage/forms.html#the-datalist-element:barred-from-constraint-validation\n       */\n      return true;\n    } else if (p === element.form) {\n      /* the outer boundary. We can stop looking for relevant elements. */\n      break;\n    }\n    p = p.parentNode;\n  }\n  return false;\n}\n\n\n/**\n * check if an element is a candidate for constraint validation\n *\n * @see https://html.spec.whatwg.org/multipage/forms.html#barred-from-constraint-validation\n */\nexport default function(element) {\n\n  /* allow a shortcut via filters, e.g. to validate type=hidden fields */\n  const filtered = do_filter('is_validation_candidate', null, element);\n  if (filtered !== null) {\n    return !! filtered;\n  }\n\n  /* it must be any of those elements */\n  if (element instanceof window.HTMLSelectElement\n      ||\n      element instanceof window.HTMLTextAreaElement\n      ||\n      element instanceof window.HTMLButtonElement\n      ||\n      element instanceof window.HTMLInputElement) {\n\n    const type = get_type(element);\n    /* its type must be in the whitelist */\n    if (non_inputs.indexOf(type) > -1 ||\n        validation_candidates.indexOf(type) > -1) {\n\n      /* it mustn't be disabled or readonly */\n      if (! element.hasAttribute('disabled') &&\n          ! element.hasAttribute('readonly')) {\n\n        const wrapped_form = get_wrapper(element);\n\n        if (\n            /* the parent form doesn't allow non-standard \"novalidate\" attributes... */\n            (wrapped_form && ! wrapped_form.settings.novalidateOnElements) ||\n            /* ...or it doesn't have such an attribute/property */\n            (! element.hasAttribute('novalidate') && ! element.noValidate)\n            ) {\n\n          /* it isn't part of a <fieldset disabled> */\n          if (! is_in_disallowed_parent(element)) {\n\n            /* then it's a candidate */\n            return true;\n          }\n        }\n      }\n    }\n  }\n\n  /* this is no HTML5 validation candidate... */\n  return false;\n}\n","'use strict';\n\n\nexport default function(date, part=undefined) {\n  switch (part) {\n    case 'date':\n      return (date.toLocaleDateString || date.toDateString).call(date);\n    case 'time':\n      return (date.toLocaleTimeString || date.toTimeString).call(date);\n    case 'month':\n      return ('toLocaleDateString' in date)?\n        date.toLocaleDateString(undefined, {\n          year: 'numeric',\n          month: '2-digit',\n        })\n        :\n        date.toDateString();\n    // case 'week':\n    // TODO\n    default:\n      return (date.toLocaleString || date.toString).call(date);\n  }\n}\n","'use strict';\n\n\nexport default function(str, ...args) {\n  const args_length = args.length;\n  var global_index = 0;\n\n  return str.replace(/%([0-9]+\\$)?([sl])/g, (match, position, type) => {\n    var local_index = global_index;\n    if (position) {\n      local_index = Number(position.replace(/\\$$/, '')) - 1;\n    }\n    global_index += 1;\n\n    var arg = '';\n    if (args_length > local_index) {\n      arg = args[local_index];\n    }\n\n    if (arg instanceof Date ||\n        typeof arg === 'number' ||\n        arg instanceof Number) {\n      /* try getting a localized representation of dates and numbers, if the\n       * browser supports this */\n      if (type === 'l') {\n        arg = (arg.toLocaleString || arg.toString).call(arg);\n      } else {\n        arg = arg.toString();\n      }\n    }\n\n    return arg;\n  });\n}\n","'use strict';\n\n\n/* For a given date, get the ISO week number\n *\n * Source: http://stackoverflow.com/a/6117889/113195\n *\n * Based on information at:\n *\n *    http://www.merlyn.demon.co.uk/weekcalc.htm#WNR\n *\n * Algorithm is to find nearest thursday, it's year\n * is the year of the week number. Then get weeks\n * between that date and the first day of that year.\n *\n * Note that dates in one year can be weeks of previous\n * or next year, overlap is up to 3 days.\n *\n * e.g. 2014/12/29 is Monday in week  1 of 2015\n *      2012/1/1   is Sunday in week 52 of 2011\n */\nexport default function(d) {\n  /* Copy date so don't modify original */\n  d = new Date(+d);\n  d.setUTCHours(0, 0, 0);\n  /* Set to nearest Thursday: current date + 4 - current day number\n   * Make Sunday's day number 7 */\n  d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay()||7));\n  /* Get first day of year */\n  const yearStart = new Date(d.getUTCFullYear(),0,1);\n  /* Calculate full weeks to nearest Thursday */\n  const weekNo = Math.ceil(( ( (d - yearStart) / 86400000) + 1)/7);\n  /* Return array of year and week number */\n  return [d.getUTCFullYear(), weekNo];\n}\n","'use strict';\n\n\nimport sprintf from './sprintf';\nimport get_week_of_year from './get_week_of_year';\n\n\nfunction pad(num, size=2) {\n  var s = num + '';\n  while (s.length < size) {\n    s = '0' + s;\n  }\n  return s;\n}\n\n\n/**\n * calculate a string from a date according to HTML5\n */\nexport default function date_to_string(date, element_type) {\n  if (! (date instanceof Date)) {\n    return null;\n  }\n\n  switch (element_type) {\n    case 'datetime':\n      return date_to_string(date, 'date') + 'T' +\n             date_to_string(date, 'time');\n\n    case 'datetime-local':\n      return sprintf('%s-%s-%sT%s:%s:%s.%s',\n                     date.getFullYear(),\n                     pad(date.getMonth() + 1),\n                     pad(date.getDate()),\n                     pad(date.getHours()),\n                     pad(date.getMinutes()),\n                     pad(date.getSeconds()),\n                     pad(date.getMilliseconds(), 3)\n                   ).replace(/(:00)?\\.000$/, '');\n\n    case 'date':\n      return sprintf('%s-%s-%s',\n                     date.getUTCFullYear(),\n                     pad(date.getUTCMonth() + 1),\n                     pad(date.getUTCDate()));\n\n    case 'month':\n      return sprintf('%s-%s', date.getUTCFullYear(),\n                     pad(date.getUTCMonth() + 1));\n\n    case 'week':\n      const params = get_week_of_year(date);\n      return sprintf.call(null, '%s-W%s', params[0], pad(params[1]));\n\n    case 'time':\n      return sprintf('%s:%s:%s.%s',\n                      pad(date.getUTCHours()),\n                      pad(date.getUTCMinutes()),\n                      pad(date.getUTCSeconds()),\n                      pad(date.getUTCMilliseconds(), 3)\n                    ).replace(/(:00)?\\.000$/, '');\n  }\n\n  return null;\n}\n","'use strict';\n\n\n/**\n * return a new Date() representing the ISO date for a week number\n *\n * @see http://stackoverflow.com/a/16591175/113195\n */\nexport default function(week, year) {\n  const date = new Date(Date.UTC(year, 0, 1 + (week - 1) * 7));\n\n  if (date.getUTCDay() <= 4/* thursday */) {\n    date.setUTCDate(date.getUTCDate() - date.getUTCDay() + 1);\n  } else {\n    date.setUTCDate(date.getUTCDate() + 8 - date.getUTCDay());\n  }\n\n  return date;\n}\n","'use strict';\n\n\nimport get_date_from_week from './get_date_from_week';\n\n\n/**\n * calculate a date from a string according to HTML5\n */\nexport default function(string, element_type) {\n  let date;\n  switch (element_type) {\n    case 'datetime':\n      if (! /^([0-9]{4})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9])(?::([0-5][0-9])(?:\\.([0-9]{1,3}))?)?$/.test(string)) {\n        return null;\n      }\n      date = new Date(string+'z');\n      return isNaN(date.valueOf())? null : date;\n\n    case 'date':\n      if (! /^([0-9]{4})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/.test(string)) {\n        return null;\n      }\n      date = new Date(string);\n      return isNaN(date.valueOf())? null : date;\n\n    case 'month':\n      if (! /^([0-9]{4})-(0[1-9]|1[012])$/.test(string)) {\n        return null;\n      }\n      date = new Date(string);\n      return isNaN(date.valueOf())? null : date;\n\n    case 'week':\n      if (! /^([0-9]{4})-W(0[1-9]|[1234][0-9]|5[0-3])$/.test(string)) {\n        return null;\n      }\n      return get_date_from_week(Number(RegExp.$2), Number(RegExp.$1));\n\n    case 'time':\n      if (! /^([01][0-9]|2[0-3]):([0-5][0-9])(?::([0-5][0-9])(?:\\.([0-9]{1,3}))?)?$/.test(string)) {\n        return null;\n      }\n      date = new Date('1970-01-01T'+string+'z');\n      return date;\n  }\n\n  return null;\n}\n","'use strict';\n\n\nimport string_to_date from './string_to_date';\n\n\n/**\n * calculate a number from a string according to HTML5\n */\nexport default function(string, element_type) {\n    const rval = string_to_date(string, element_type);\n    if (rval !== null) {\n      return +rval;\n    }\n    /* not parseFloat, because we want NaN for invalid values like \"1.2xxy\" */\n    return Number(string);\n}\n","'use strict';\n\n\n/**\n * the following validation messages are from Firefox source,\n * http://mxr.mozilla.org/mozilla-central/source/dom/locales/en-US/chrome/dom/dom.properties\n * released under MPL license, http://mozilla.org/MPL/2.0/.\n */\nconst catalog = {\n  en: {\n    TextTooLong: 'Please shorten this text to %l characters or less (you are currently using %l characters).',\n    ValueMissing: 'Please fill out this field.',\n    CheckboxMissing: 'Please check this box if you want to proceed.',\n    RadioMissing: 'Please select one of these options.',\n    FileMissing: 'Please select a file.',\n    SelectMissing: 'Please select an item in the list.',\n    InvalidEmail: 'Please enter an email address.',\n    InvalidURL: 'Please enter a URL.',\n    PatternMismatch: 'Please match the requested format.',\n    PatternMismatchWithTitle: 'Please match the requested format: %l.',\n    NumberRangeOverflow: 'Please select a value that is no more than %l.',\n    DateRangeOverflow: 'Please select a value that is no later than %l.',\n    TimeRangeOverflow: 'Please select a value that is no later than %l.',\n    NumberRangeUnderflow: 'Please select a value that is no less than %l.',\n    DateRangeUnderflow: 'Please select a value that is no earlier than %l.',\n    TimeRangeUnderflow: 'Please select a value that is no earlier than %l.',\n    StepMismatch: 'Please select a valid value. The two nearest valid values are %l and %l.',\n    StepMismatchOneValue: 'Please select a valid value. The nearest valid value is %l.',\n    BadInputNumber: 'Please enter a number.',\n  },\n};\n\n\n/**\n * the global language Hyperform will use\n */\nvar language = 'en';\n\n\n/**\n * the base language according to BCP47, i.e., only the piece before the first hyphen\n */\nvar base_lang = 'en';\n\n\n/**\n * set the language for Hyperforms messages\n */\nexport function set_language(newlang) {\n  language = newlang;\n  base_lang = newlang.replace(/[-_].*/, '');\n}\n\n\n/**\n * add a lookup catalog \"string: translation\" for a language\n */\nexport function add_translation(lang, new_catalog) {\n  if (! (lang in catalog)) {\n    catalog[lang] = {};\n  }\n  for (let key in new_catalog) {\n    if (new_catalog.hasOwnProperty(key)) {\n      catalog[lang][key] = new_catalog[key];\n    }\n  }\n}\n\n\n/**\n * return `s` translated into the current language\n *\n * Defaults to the base language and then English if the former has no\n * translation for `s`.\n */\nexport default function(s) {\n  if ((language in catalog) && (s in catalog[language])) {\n    return catalog[language][s];\n  } else if ((base_lang in catalog) && (s in catalog[base_lang])) {\n    return catalog[base_lang][s];\n  } else if (s in catalog.en) {\n    return catalog.en[s];\n  }\n  return s;\n}\n","'use strict';\n\n\nexport const default_step = {\n  'datetime-local': 60,\n  datetime: 60,\n  time: 60,\n};\n\nexport const step_scale_factor = {\n  'datetime-local': 1000,\n  datetime: 1000,\n  date: 86400000,\n  week: 604800000,\n  time: 1000,\n};\n\nexport const default_step_base = {\n  week: -259200000,\n};\n\nexport const default_min = {\n  range: 0,\n};\n\nexport const default_max = {\n  range: 100,\n};\n","'use strict';\n\n\nimport date_to_string from './date_to_string';\nimport string_to_number from './string_to_number';\nimport get_type from './get_type';\nimport _ from '../components/localization';\nimport { default_step, step_scale_factor, default_step_base, default_min,\n         default_max, } from '../components/step_defaults';\nimport { dates } from '../components/types';\n\n\n/**\n * get previous and next valid values for a stepped input element\n */\nexport default function(element, n=1) {\n  const type = get_type(element);\n\n  const aMin = element.getAttribute('min');\n  let min = default_min[type] || NaN;\n  if (aMin) {\n    const pMin = string_to_number(aMin, type);\n    if (! isNaN(pMin)) {\n      min = pMin;\n    }\n  }\n\n  const aMax = element.getAttribute('max');\n  let max = default_max[type] || NaN;\n  if (aMax) {\n    const pMax = string_to_number(aMax, type);\n    if (! isNaN(pMax)) {\n      max = pMax;\n    }\n  }\n\n  const aStep = element.getAttribute('step');\n  let step = default_step[type] || 1;\n  if (aStep && aStep.toLowerCase() === 'any') {\n    /* quick return: we cannot calculate prev and next */\n    return [_('any value'), _('any value')];\n  } else if (aStep) {\n    const pStep = string_to_number(aStep, type);\n    if (! isNaN(pStep)) {\n      step = pStep;\n    }\n  }\n\n  const default_value = string_to_number(element.getAttribute('value'), type);\n\n  const value = string_to_number(element.value ||\n                                 element.getAttribute('value'), type);\n\n  if (isNaN(value)) {\n    /* quick return: we cannot calculate without a solid base */\n    return [_('any valid value'), _('any valid value')];\n  }\n\n  const step_base = (\n    ! isNaN(min)? min : (\n      ! isNaN(default_value)? default_value : (\n        default_step_base[type] || 0\n      )\n    )\n  );\n\n  const scale = step_scale_factor[type] || 1;\n\n  var prev = step_base +\n    Math.floor((value - step_base) / (step * scale)) * (step * scale) * n;\n  var next = step_base +\n    (Math.floor((value - step_base) / (step * scale)) + 1) * (step * scale) * n;\n\n  if (prev < min) {\n    prev = null;\n  } else if (prev > max) {\n    prev = max;\n  }\n\n  if (next > max) {\n    next = null;\n  } else if (next < min) {\n    next = min;\n  }\n\n  /* convert to date objects, if appropriate */\n  if (dates.indexOf(type) > -1) {\n    prev = date_to_string(new Date(prev), type);\n    next = date_to_string(new Date(next), type);\n  }\n\n  return [prev, next];\n}\n","'use strict';\n\n\n/**\n * patch String.length to account for non-BMP characters\n *\n * @see https://mathiasbynens.be/notes/javascript-unicode\n * We do not use the simple [...str].length, because it needs a ton of\n * polyfills in older browsers.\n */\nexport default function(str) {\n  return str.match(/[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/g).length;\n}\n","'use strict';\n\n\n/**\n * internal storage for custom error messages\n */\nconst store = new WeakMap();\n\n\n/**\n * register custom error messages per element\n */\nconst custom_messages = {\n\n  set(element, validator, message) {\n    const messages = store.get(element) || {};\n    messages[validator] = message;\n    store.set(element, messages);\n    return custom_messages;\n  },\n\n  get(element, validator, _default=undefined) {\n    const messages = store.get(element);\n    if (messages === undefined || ! (validator in messages)) {\n      const data_id = 'data-' + validator.replace(/[A-Z]/g, '-$&').toLowerCase();\n      if (element.hasAttribute(data_id)) {\n        /* if the element has a data-validator attribute, use this as fallback.\n         * E.g., if validator == 'valueMissing', the element can specify a\n         * custom validation message like this:\n         *     <input data-value-missing=\"Oh noes!\">\n         */\n        return element.getAttribute(data_id);\n      }\n      return _default;\n    }\n    return messages[validator];\n  },\n\n  delete(element, validator=null) {\n    if (! validator) {\n      return store.delete(element);\n    }\n    const messages = store.get(element) || {};\n    if (validator in messages) {\n      delete(messages[validator]);\n      store.set(element, messages);\n      return true;\n    }\n    return false;\n  },\n\n};\n\nexport default custom_messages;\n","'use strict';\n\n\nconst internal_registry = new WeakMap();\n\n\n/**\n * A registry for custom validators\n *\n * slim wrapper around a WeakMap to ensure the values are arrays\n * (hence allowing > 1 validators per element)\n */\nconst custom_validator_registry = {\n\n  set(element, validator) {\n    const current = internal_registry.get(element) || [];\n    current.push(validator);\n    internal_registry.set(element, current);\n    return custom_validator_registry;\n  },\n\n  get(element) {\n    return internal_registry.get(element) || [];\n  },\n\n  delete(element) {\n    return internal_registry.delete(element);\n  },\n\n};\n\nexport default custom_validator_registry;\n","'use strict';\n\n\nimport get_type from '../tools/get_type';\nimport string_to_date from '../tools/string_to_date';\nimport { input_checked } from '../components/types';\n\n\n/**\n * test whether the element suffers from bad input\n */\nexport default function(element) {\n  const type = get_type(element);\n\n  if (input_checked.indexOf(type) === -1) {\n    /* we're not interested, thanks! */\n    return true;\n  }\n\n  /* the browser hides some bad input from the DOM, e.g. malformed numbers,\n   * email addresses with invalid punycode representation, ... We try to resort\n   * to the original method here. The assumption is, that a browser hiding\n   * bad input will hopefully also always support a proper\n   * ValidityState.badInput */\n  if (! element.value) {\n    if ('_original_validity' in element &&\n        ! element._original_validity.__hyperform) {\n      return ! element._original_validity.badInput;\n    }\n    /* no value and no original badInput: Assume all's right. */\n    return true;\n  }\n\n  var result = true;\n  switch (type) {\n    case 'color':\n      result = /^#[a-f0-9]{6}$/.test(element.value);\n      break;\n    case 'number':\n    case 'range':\n      result = ! isNaN(Number(element.value));\n      break;\n    case 'datetime':\n    case 'date':\n    case 'month':\n    case 'week':\n    case 'time':\n      result = string_to_date(element.value, type) !== null;\n      break;\n    case 'datetime-local':\n      result = /^([0-9]{4,})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9])(?::([0-5][0-9])(?:\\.([0-9]{1,3}))?)?$/.test(element.value);\n      break;\n    case 'tel':\n      /* spec says No! Phone numbers can have all kinds of formats, so this\n       * is expected to be a free-text field. */\n      // TODO we could allow a setting 'phone_regex' to be evaluated here.\n      break;\n    case 'email':\n      break;\n  }\n\n  return result;\n}\n","'use strict';\n\n\nimport get_type from '../tools/get_type';\nimport { dates } from '../components/types';\nimport string_to_date from '../tools/string_to_date';\n\n\n/**\n * test the max attribute\n *\n * we use Number() instead of parseFloat(), because an invalid attribute\n * value like \"123abc\" should result in an error.\n */\nexport default function(element) {\n  const type = get_type(element);\n\n  if (! element.value || ! element.hasAttribute('max')) {\n    /* we're not responsible here */\n    return true;\n  }\n\n  let value, max;\n  if (dates.indexOf(type) > -1) {\n    value = string_to_date(element.value, type);\n    value = value === null? NaN : +value;\n    max = string_to_date(element.getAttribute('max'), type);\n    max = max === null? NaN : +max;\n  } else {\n    value = Number(element.value);\n    max = Number(element.getAttribute('max'));\n  }\n\n  /* we cannot validate invalid values and trust on badInput, if isNaN(value) */\n  return (isNaN(max) || isNaN(value) || value <= max);\n}\n","'use strict';\n\n\nimport get_type from '../tools/get_type';\nimport unicode_string_length from '../tools/unicode_string_length';\nimport { text as text_types } from '../components/types';\n\n\n/**\n * test the maxlength attribute\n */\nexport default function(element) {\n  if (\n      ! element.value\n      ||\n      text_types.indexOf(get_type(element)) === -1\n      ||\n      ! element.hasAttribute('maxlength')\n      ||\n      ! element.getAttribute('maxlength') // catch maxlength=\"\"\n  ) {\n    return true;\n  }\n\n  const maxlength = parseInt(element.getAttribute('maxlength'), 10);\n\n  /* check, if the maxlength value is usable at all.\n   * We allow maxlength === 0 to basically disable input (Firefox does, too).\n   */\n  if (isNaN(maxlength) || maxlength < 0) {\n    return true;\n  }\n\n  return unicode_string_length(element.value) <= maxlength;\n}\n","'use strict';\n\n\nimport get_type from '../tools/get_type';\nimport { dates } from '../components/types';\nimport string_to_date from '../tools/string_to_date';\n\n\n/**\n * test the min attribute\n *\n * we use Number() instead of parseFloat(), because an invalid attribute\n * value like \"123abc\" should result in an error.\n */\nexport default function(element) {\n  const type = get_type(element);\n\n  if (! element.value || ! element.hasAttribute('min')) {\n    /* we're not responsible here */\n    return true;\n  }\n\n  let value, min;\n  if (dates.indexOf(type) > -1) {\n    value = string_to_date(element.value, type);\n    value = value === null? NaN : +value;\n    min = string_to_date(element.getAttribute('min'), type);\n    min = min === null? NaN : +min;\n  } else {\n    value = Number(element.value);\n    min = Number(element.getAttribute('min'));\n  }\n\n  /* we cannot validate invalid values and trust on badInput, if isNaN(value) */\n  return (isNaN(min) || isNaN(value) || value >= min);\n}\n","'use strict';\n\n\nimport get_type from '../tools/get_type';\nimport unicode_string_length from '../tools/unicode_string_length';\nimport { text as text_types } from '../components/types';\n\n\n/**\n * test the minlength attribute\n */\nexport default function(element) {\n  if (\n      ! element.value\n      ||\n      text_types.indexOf(get_type(element)) === -1\n      ||\n      ! element.hasAttribute('minlength')\n      ||\n      ! element.getAttribute('minlength') // catch minlength=\"\"\n  ) {\n    return true;\n  }\n\n  const minlength = parseInt(element.getAttribute('minlength'), 10);\n\n  /* check, if the minlength value is usable at all. */\n  if (isNaN(minlength) || minlength < 0) {\n    return true;\n  }\n\n  return unicode_string_length(element.value) >= minlength;\n}\n","'use strict';\n\n\n/**\n * test the pattern attribute\n */\nexport default function(element) {\n  return (\n      ! element.value\n      ||\n      ! element.hasAttribute('pattern')\n      ||\n      (new RegExp('^(?:'+ element.getAttribute('pattern') +')$')).test(element.value)\n    );\n}\n","'use strict';\n\n\nimport { get_radiogroup } from '../tools/get_radiogroup';\n\n\nfunction has_submittable_option(select) {\n  /* Definition of the placeholder label option:\n   * https://www.w3.org/TR/html5/sec-forms.html#element-attrdef-select-required\n   * Being required (the first constraint in the spec) is trivially true, since\n   * this function is only called for such selects.\n   */\n  const has_placeholder_option = (\n    ! select.multiple &&\n    select.size <= 1 &&\n    select.options.length > 0 &&\n    select.options[0].parentNode == select &&\n    select.options[0].value === ''\n  );\n  return (\n    /* anything selected at all? That's redundant with the .some() call below,\n     * but more performant in the most probable error case. */\n    select.selectedIndex > -1 &&\n    Array.prototype.some.call(\n      select.options,\n      option => {\n        return (\n          /* it isn't the placeholder option */\n          (! has_placeholder_option || option.index !== 0) &&\n          /* it isn't disabled */\n          ! option.disabled &&\n          /* and it is, in fact, selected */\n          option.selected);\n      }\n    )\n  );\n}\n\n\n/**\n * test the required attribute\n */\nexport default function(element) {\n  if (element.type === 'radio') {\n    /* the happy (and quick) path for radios: */\n    if (element.hasAttribute('required') && element.checked) {\n      return true;\n    }\n\n    const radiogroup = get_radiogroup(element);\n\n    /* if any radio in the group is required, we need any (not necessarily the\n     * same) radio to be checked */\n    if (radiogroup.some(radio => radio.hasAttribute('required'))) {\n      return radiogroup.some(radio => radio.checked);\n    }\n    /* not required, validation passes */\n    return true;\n  }\n\n  if (! element.hasAttribute('required')) {\n    /* nothing to do */\n    return true;\n  }\n\n  if (element instanceof window.HTMLSelectElement) {\n    return has_submittable_option(element);\n  }\n\n  return (element.type === 'checkbox')? element.checked : (!! element.value);\n}\n","'use strict';\n\n\nimport get_type from '../tools/get_type';\nimport { numbers } from '../components/types';\nimport { default_step, step_scale_factor, default_step_base } from '../components/step_defaults';\nimport string_to_number from '../tools/string_to_number';\n\n\n/**\n * test the step attribute\n */\nexport default function(element) {\n  const type = get_type(element);\n\n  if (! element.value ||\n      numbers.indexOf(type) === -1 ||\n      (element.getAttribute('step') || '').toLowerCase() === 'any') {\n    /* we're not responsible here. Note: If no step attribute is given, we\n     * need to validate against the default step as per spec. */\n    return true;\n  }\n\n  let step = element.getAttribute('step');\n  if (step) {\n    step = string_to_number(step, type);\n  } else {\n    step = default_step[type] || 1;\n  }\n\n  if (step <= 0 || isNaN(step)) {\n    /* error in specified \"step\". We cannot validate against it, so the value\n     * is true. */\n    return true;\n  }\n\n  const scale = step_scale_factor[type] || 1;\n\n  let value = string_to_number(element.value, type);\n  let min = string_to_number(element.getAttribute('min') ||\n                         element.getAttribute('value') || '', type);\n\n  if (isNaN(value)) {\n    /* we cannot compare an invalid value and trust that the badInput validator\n     * takes over from here */\n    return true;\n  }\n\n  if (isNaN(min)) {\n    min = default_step_base[type] || 0;\n  }\n\n  if (type === 'month') {\n    /* type=month has month-wide steps. See\n     * https://html.spec.whatwg.org/multipage/forms.html#month-state-%28type=month%29\n     */\n    min = (new Date(min)).getUTCFullYear() * 12 + (new Date(min)).getUTCMonth();\n    value = (new Date(value)).getUTCFullYear() * 12 + (new Date(value)).getUTCMonth();\n  }\n\n  const result = Math.abs(min - value) % (step * scale);\n\n  return (result < 0.00000001 ||\n          /* crappy floating-point arithmetics! */\n          result > (step * scale) - 0.00000001);\n}\n","'use strict';\n\n\nconst ws_on_start_or_end = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n\n\n/**\n * trim a string of whitespace\n *\n * We don't use String.trim() to remove the need to polyfill it.\n */\nexport default function(str) {\n  return str.replace(ws_on_start_or_end, '');\n}\n","'use strict';\n\n\nimport trim from './trim';\n\n\n/**\n * split a string on comma and trim the components\n *\n * As specified at\n * https://html.spec.whatwg.org/multipage/infrastructure.html#split-a-string-on-commas\n * plus removing empty entries.\n */\nexport default function(str) {\n  return str.split(',')\n            .map(item => trim(item))\n            .filter(b=>b);\n}\n","'use strict';\n\n\nimport comma_split from '../tools/comma_split';\nimport get_type from '../tools/get_type';\nimport trim from '../tools/trim';\nimport { type_checked } from '../components/types';\n\n\n/* we use a dummy <a> where we set the href to test URL validity\n * The definition is out of the \"global\" scope so that JSDOM can be instantiated\n * after loading Hyperform for tests.\n */\nvar url_canary;\n\n/* see https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address */\nconst email_pattern = /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n\n/**\n * test the type-inherent syntax\n */\nexport default function(element) {\n  const type = get_type(element);\n\n  if ((type !== 'file' && ! element.value) ||\n      (type !== 'file' && type_checked.indexOf(type) === -1)) {\n    /* we're not responsible for this element */\n    return true;\n  }\n\n  var is_valid = true;\n\n  switch (type) {\n    case 'url':\n        if (! url_canary) {\n          url_canary = document.createElement('a');\n        }\n        const value = trim(element.value);\n        url_canary.href = value;\n        is_valid = (url_canary.href === value ||\n                    url_canary.href === value+'/');\n        break;\n    case 'email':\n        if (element.hasAttribute('multiple')) {\n          is_valid = comma_split(element.value)\n                       .every(value => email_pattern.test(value));\n        } else {\n          is_valid = email_pattern.test(trim(element.value));\n        }\n        break;\n    case 'file':\n        if ('files' in element && element.files.length &&\n            element.hasAttribute('accept')) {\n          const patterns = comma_split(element.getAttribute('accept'))\n            .map(pattern => {\n              if (/^(audio|video|image)\\/\\*$/.test(pattern)) {\n                pattern = new RegExp('^'+RegExp.$1+'/.+$');\n              }\n              return pattern;\n            });\n\n          if (! patterns.length) {\n            break;\n          }\n\n          fileloop:\n          for (let i = 0; i < element.files.length; i++) {\n            /* we need to match a whitelist, so pre-set with false */\n            let file_valid = false;\n\n            patternloop:\n            for (let j = 0; j < patterns.length; j++) {\n              const file = element.files[i];\n              const pattern = patterns[j];\n\n              let fileprop = file.type;\n\n              if (typeof pattern === 'string' && pattern.substr(0, 1) === '.') {\n                if (file.name.search('.') === -1) {\n                  /* no match with any file ending */\n                  continue patternloop;\n                }\n\n                fileprop = file.name.substr(file.name.lastIndexOf('.'));\n              }\n\n              if (fileprop.search(pattern) === 0) {\n                /* we found one match and can quit looking */\n                file_valid = true;\n                break patternloop;\n              }\n\n            }\n\n            if (! file_valid) {\n              is_valid = false;\n              break fileloop;\n            }\n          }\n        }\n  }\n\n  return is_valid;\n}\n","'use strict';\n\n/**\n * Implement constraint checking functionality defined in the HTML5 standard\n *\n * @see https://html.spec.whatwg.org/multipage/forms.html#dom-cva-validity\n * @return bool true if the test fails [!], false otherwise\n */\n\n\nimport format_date from './format_date';\nimport get_next_valid from './get_next_valid';\nimport get_type from './get_type';\nimport sprintf from './sprintf';\nimport string_to_number from './string_to_number';\nimport string_to_date from './string_to_date';\nimport unicode_string_length from './unicode_string_length';\nimport custom_messages from '../components/custom_messages';\nimport _ from '../components/localization';\nimport { message_store } from '../components/message_store';\nimport CustomValidatorRegistry from '../components/registry';\nimport { get_wrapper } from '../components/wrapper';\nimport test_bad_input from '../validators/bad_input';\nimport test_max from '../validators/max';\nimport test_maxlength from '../validators/maxlength';\nimport test_min from '../validators/min';\nimport test_minlength from '../validators/minlength';\nimport test_pattern from '../validators/pattern';\nimport test_required from '../validators/required';\nimport test_step from '../validators/step';\nimport test_type from '../validators/type';\n\n\n/**\n * boilerplate function for all tests but customError\n */\nfunction check(test, react) {\n  return element => {\n    const invalid = ! test(element);\n    if (invalid) {\n      react(element);\n    }\n    return invalid;\n  };\n}\n\n\n/**\n * create a common function to set error messages\n */\nfunction set_msg(element, msgtype, _default) {\n  message_store.set(element, custom_messages.get(element, msgtype, _default));\n}\n\n\nconst badInput = check(test_bad_input, element => set_msg(element, 'badInput',\n                       _('Please match the requested type.')));\n\n\nfunction customError(element) {\n  /* prevent infinite loops when the custom validators call setCustomValidity(),\n   * which in turn calls this code again. We check, if there is an already set\n   * custom validity message there. */\n  if (element.__hf_custom_validation_running) {\n    const msg = message_store.get(element);\n    return (msg && msg.is_custom);\n  }\n\n  /* check, if there are custom validators in the registry, and call\n   * them. */\n  const custom_validators = CustomValidatorRegistry.get(element);\n  const cvl = custom_validators.length;\n  var valid = true;\n\n  if (cvl) {\n    element.__hf_custom_validation_running = true;\n    for (let i = 0; i < cvl; i++) {\n      const result = custom_validators[i](element);\n      if (result !== undefined && ! result) {\n        valid = false;\n        /* break on first invalid response */\n        break;\n      }\n    }\n    delete(element.__hf_custom_validation_running);\n  }\n\n  /* check, if there are other validity messages already */\n  if (valid) {\n    const msg = message_store.get(element);\n    valid = ! (msg.toString() && ('is_custom' in msg));\n  }\n\n  return ! valid;\n}\n\n\nconst patternMismatch = check(test_pattern, element => {\n  set_msg(element, 'patternMismatch',\n    element.title?\n      sprintf(_('PatternMismatchWithTitle'), element.title)\n      :\n      _('PatternMismatch')\n  );\n});\n\n\n/**\n * TODO: when rangeOverflow and rangeUnderflow are both called directly and\n * successful, the inRange and outOfRange classes won't get removed, unless\n * element.validityState.valid is queried, too.\n */\nconst rangeOverflow = check(test_max, element => {\n  const type = get_type(element);\n  const wrapper = get_wrapper(element);\n  const outOfRangeClass = wrapper && wrapper.settings.classes.outOfRange || 'hf-out-of-range';\n  const inRangeClass = wrapper && wrapper.settings.classes.inRange || 'hf-in-range';\n\n  let msg;\n\n  switch (type) {\n    case 'date':\n    case 'datetime':\n    case 'datetime-local':\n      msg = sprintf(_('DateRangeOverflow'),\n                    format_date(string_to_date(element.getAttribute('max'), type), type));\n      break;\n    case 'time':\n      msg = sprintf(_('TimeRangeOverflow'),\n                    format_date(string_to_date(element.getAttribute('max'), type), type));\n      break;\n    // case 'number':\n    default:\n      msg = sprintf(_('NumberRangeOverflow'),\n                    string_to_number(element.getAttribute('max'), type));\n      break;\n  }\n\n  set_msg(element, 'rangeOverflow', msg);\n  element.classList.add(outOfRangeClass);\n  element.classList.remove(inRangeClass);\n});\n\n\nconst rangeUnderflow = check(test_min, element => {\n  const type = get_type(element);\n  const wrapper = get_wrapper(element);\n  const outOfRangeClass = wrapper && wrapper.settings.classes.outOfRange || 'hf-out-of-range';\n  const inRangeClass = wrapper && wrapper.settings.classes.inRange || 'hf-in-range';\n\n  let msg;\n\n  switch (type) {\n    case 'date':\n    case 'datetime':\n    case 'datetime-local':\n      msg = sprintf(_('DateRangeUnderflow'),\n                    format_date(string_to_date(element.getAttribute('min'), type), type));\n      break;\n    case 'time':\n      msg = sprintf(_('TimeRangeUnderflow'),\n                    format_date(string_to_date(element.getAttribute('min'), type), type));\n      break;\n    // case 'number':\n    default:\n      msg = sprintf(_('NumberRangeUnderflow'),\n                    string_to_number(element.getAttribute('min'), type));\n      break;\n  }\n\n  set_msg(element, 'rangeUnderflow', msg);\n  element.classList.add(outOfRangeClass);\n  element.classList.remove(inRangeClass);\n});\n\n\nconst stepMismatch = check(test_step, element => {\n  const list = get_next_valid(element);\n  const min = list[0];\n  const max = list[1];\n  let sole = false;\n  let msg;\n\n  if (min === null) {\n    sole = max;\n  } else if (max === null) {\n    sole = min;\n  }\n\n  if (sole !== false) {\n    msg = sprintf(_('StepMismatchOneValue'), sole);\n  } else {\n    msg = sprintf(_('StepMismatch'), min, max);\n  }\n  set_msg(element, 'stepMismatch', msg);\n});\n\n\nconst tooLong = check(test_maxlength, element => {\n  set_msg(element, 'tooLong',\n          sprintf(_('TextTooLong'), element.getAttribute('maxlength'),\n                  unicode_string_length(element.value)));\n});\n\n\nconst tooShort = check(test_minlength, element => {\n  set_msg(element, 'tooShort',\n          sprintf(_('Please lengthen this text to %l characters or more (you are currently using %l characters).'),\n                  element.getAttribute('minlength'),\n                  unicode_string_length(element.value)));\n});\n\n\nconst typeMismatch = check(test_type, element => {\n  let msg = _('Please use the appropriate format.');\n  const type = get_type(element);\n\n  if (type === 'email') {\n    if (element.hasAttribute('multiple')) {\n      msg = _('Please enter a comma separated list of email addresses.');\n    } else {\n      msg = _('InvalidEmail');\n    }\n  } else if (type === 'url') {\n    msg = _('InvalidURL');\n  } else if (type === 'file') {\n    msg = _('Please select a file of the correct type.');\n  }\n\n  set_msg(element, 'typeMismatch', msg);\n});\n\n\nconst valueMissing = check(test_required, element => {\n  let msg = _('ValueMissing');\n  const type = get_type(element);\n\n  if (type === 'checkbox') {\n    msg = _('CheckboxMissing');\n  } else if (type === 'radio') {\n    msg = _('RadioMissing');\n  } else if (type === 'file') {\n    if (element.hasAttribute('multiple')) {\n      msg = _('Please select one or more files.');\n    } else {\n      msg = _('FileMissing');\n    }\n  } else if (element instanceof window.HTMLSelectElement) {\n    msg = _('SelectMissing');\n  }\n\n  set_msg(element, 'valueMissing', msg);\n});\n\n\n/**\n * the \"valid\" property calls all other validity checkers and returns true,\n * if all those return false.\n *\n * This is the major access point for _all_ other API methods, namely\n * (check|report)Validity().\n */\nconst valid = element => {\n  const wrapper = get_wrapper(element);\n  const validClass = wrapper && wrapper.settings.classes.valid || 'hf-valid';\n  const invalidClass = wrapper && wrapper.settings.classes.invalid || 'hf-invalid';\n  const userInvalidClass = wrapper && wrapper.settings.classes.userInvalid || 'hf-user-invalid';\n  const userValidClass = wrapper && wrapper.settings.classes.userValid || 'hf-user-valid';\n  const inRangeClass = wrapper && wrapper.settings.classes.inRange || 'hf-in-range';\n  const outOfRangeClass = wrapper && wrapper.settings.classes.outOfRange || 'hf-out-of-range';\n  const validatedClass = wrapper && wrapper.settings.classes.validated || 'hf-validated';\n\n  element.classList.add(validatedClass);\n\n  for (let checker of [badInput, customError, patternMismatch, rangeOverflow,\n                       rangeUnderflow, stepMismatch, tooLong, tooShort,\n                       typeMismatch, valueMissing]) {\n    if (checker(element)) {\n      element.classList.add(invalidClass);\n      element.classList.remove(validClass);\n      element.classList.remove(userValidClass);\n      if ((\n            (element.type === 'checkbox' || element.type === 'radio') &&\n            element.checked !== element.defaultChecked\n          ) ||\n          /* the following test is trivially false for checkboxes/radios */\n          element.value !== element.defaultValue) {\n        element.classList.add(userInvalidClass);\n      } else {\n        element.classList.remove(userInvalidClass);\n      }\n      element.setAttribute('aria-invalid', 'true');\n      return false;\n    }\n  }\n\n  message_store.delete(element);\n  element.classList.remove(invalidClass);\n  element.classList.remove(userInvalidClass);\n  element.classList.remove(outOfRangeClass);\n  element.classList.add(validClass);\n  element.classList.add(inRangeClass);\n  if (element.value !== element.defaultValue) {\n    element.classList.add(userValidClass);\n  } else {\n    element.classList.remove(userValidClass);\n  }\n  element.setAttribute('aria-invalid', 'false');\n  return true;\n};\n\n\nexport default {\n  badInput,\n  customError,\n  patternMismatch,\n  rangeOverflow,\n  rangeUnderflow,\n  stepMismatch,\n  tooLong,\n  tooShort,\n  typeMismatch,\n  valueMissing,\n  valid,\n};\n","'use strict';\n\n\nimport is_validation_candidate from '../tools/is_validation_candidate';\nimport mark from '../tools/mark';\nimport validity_state_checkers from '../tools/validity_state_checkers';\n\n\n/**\n * the validity state constructor\n */\nconst ValidityState = function(element) {\n  if (! (element instanceof window.HTMLElement)) {\n    throw new Error('cannot create a ValidityState for a non-element');\n  }\n\n  const cached = ValidityState.cache.get(element);\n  if (cached) {\n    return cached;\n  }\n\n  if (! (this instanceof ValidityState)) {\n    /* working around a forgotten `new` */\n    return new ValidityState(element);\n  }\n\n  this.element = element;\n  ValidityState.cache.set(element, this);\n};\n\n\n/**\n * the prototype for new validityState instances\n */\nconst ValidityStatePrototype = {};\nValidityState.prototype = ValidityStatePrototype;\n\nValidityState.cache = new WeakMap();\n\n/* small wrapper around the actual validator to check if the validator\n * should actually be called. `this` refers to the ValidityState object. */\nconst checker_getter = func => {\n  return function() {\n    if (! is_validation_candidate(this.element)) {\n      /* not being validated == valid by default */\n      return true;\n    }\n    return func(this.element);\n  };\n};\n\n/**\n * copy functionality from the validity checkers to the ValidityState\n * prototype\n */\nfor (let prop in validity_state_checkers) {\n  Object.defineProperty(ValidityStatePrototype, prop, {\n    configurable: true,\n    enumerable: true,\n    get: checker_getter(validity_state_checkers[prop]),\n    set: undefined,\n  });\n}\n\n/**\n * mark the validity prototype, because that is what the client-facing\n * code deals with mostly, not the property descriptor thing */\nmark(ValidityStatePrototype);\n\nexport default ValidityState;\n","'use strict';\n\n\nimport { get_validated_elements } from '../tools/get_validated_elements';\nimport trigger_event from '../tools/trigger_event';\nimport Renderer from '../components/renderer';\nimport ValidityState from './validityState';\nimport { get_wrapper } from '../components/wrapper';\n\n\n/**\n * check element's validity and report an error back to the user\n */\nexport default function reportValidity(element) {\n  /* if this is a <form>, report validity of all child inputs */\n  if (element instanceof window.HTMLFormElement) {\n    element.__hf_form_validation = true;\n    const form_valid = get_validated_elements(element).map(reportValidity).every(b=>b);\n    delete(element.__hf_form_validation);\n    return form_valid;\n  }\n\n  /* we copy checkValidity() here, b/c we have to check if the \"invalid\"\n   * event was canceled. */\n  const valid = ValidityState(element).valid;\n  var event;\n  if (valid) {\n    const wrapped_form = get_wrapper(element);\n    if (wrapped_form && wrapped_form.settings.validEvent) {\n      event = trigger_event(element, 'valid', { cancelable: true });\n    }\n  } else {\n    event = trigger_event(element, 'invalid', { cancelable: true });\n  }\n\n  if (! event || ! event.defaultPrevented) {\n    Renderer.showWarning(element, (element.form && element.form.__hf_form_validation));\n  }\n\n  return valid;\n}\n","'use strict';\n\n\nimport trigger_event, { create_event } from './trigger_event';\nimport matches from './matches';\nimport { get_validated_elements } from './get_validated_elements';\nimport reportValidity from '../polyfills/reportValidity';\nimport { text as text_types } from '../components/types';\nimport { get_wrapper } from '../components/wrapper';\n\n\n/**\n * submit a form, because `element` triggered it\n *\n * This method also dispatches a submit event on the form prior to the\n * submission. The event contains the trigger element as `submittedVia`.\n *\n * If the element is a button with a name, the name=value pair will be added\n * to the submitted data.\n */\nfunction submit_form_via(element) {\n  /* apparently, the submit event is not triggered in most browsers on\n   * the submit() method, so we do it manually here to model a natural\n   * submit as closely as possible.\n   * Now to the fun fact: If you trigger a submit event from a form, what\n   * do you think should happen?\n   * 1) the form will be automagically submitted by the browser, or\n   * 2) nothing.\n   * And as you already suspected, the correct answer is: both! Firefox\n   * opts for 1), Chrome for 2). Yay! */\n  var event_got_cancelled;\n\n  var submit_event = create_event('submit', { cancelable: true });\n  /* force Firefox to not submit the form, then fake preventDefault() */\n  submit_event.preventDefault();\n  Object.defineProperty(submit_event, 'defaultPrevented', {\n    value: false,\n    writable: true,\n  });\n  Object.defineProperty(submit_event, 'preventDefault', {\n    value: () => submit_event.defaultPrevented = event_got_cancelled = true,\n    writable: true,\n  });\n  trigger_event(element.form, submit_event, {}, { submittedVia: element });\n\n  if (! event_got_cancelled) {\n    add_submit_field(element);\n    window.HTMLFormElement.prototype.submit.call(element.form);\n    window.setTimeout(() => remove_submit_field(element));\n  }\n}\n\n\n/**\n * if a submit button was clicked, add its name=value by means of a type=hidden\n * input field\n */\nfunction add_submit_field(button) {\n  if (['image', 'submit'].indexOf(button.type) > -1 && button.name) {\n    const wrapper = get_wrapper(button.form) || {};\n    var submit_helper = wrapper.submit_helper;\n    if (submit_helper) {\n      if (submit_helper.parentNode) {\n        submit_helper.parentNode.removeChild(submit_helper);\n      }\n    } else {\n      submit_helper = document.createElement('input');\n      submit_helper.type = 'hidden';\n      wrapper.submit_helper = submit_helper;\n    }\n    submit_helper.name = button.name;\n    submit_helper.value = button.value;\n    button.form.appendChild(submit_helper);\n  }\n}\n\n\n/**\n * remove a possible helper input, that was added by `add_submit_field`\n */\nfunction remove_submit_field(button) {\n  if (['image', 'submit'].indexOf(button.type) > -1 && button.name) {\n    const wrapper = get_wrapper(button.form) || {};\n    const submit_helper = wrapper.submit_helper;\n    if (submit_helper && submit_helper.parentNode) {\n      submit_helper.parentNode.removeChild(submit_helper);\n    }\n  }\n}\n\n\n/**\n * check a form's validity and submit it\n *\n * The method triggers a cancellable `validate` event on the form. If the\n * event is cancelled, form submission will be aborted, too.\n *\n * If the form is found to contain invalid fields, focus the first field.\n */\nfunction check(button) {\n  /* trigger a \"validate\" event on the form to be submitted */\n  const val_event = trigger_event(button.form, 'validate',\n                                  { cancelable: true });\n  if (val_event.defaultPrevented) {\n    /* skip the whole submit thing, if the validation is canceled. A user\n     * can still call form.submit() afterwards. */\n    return;\n  }\n\n  var valid = true;\n  var first_invalid;\n  button.form.__hf_form_validation = true;\n  get_validated_elements(button.form).map(element => {\n    if (! reportValidity(element)) {\n      valid = false;\n      if (! first_invalid && ('focus' in element)) {\n        first_invalid = element;\n      }\n    }\n  });\n  delete(button.form.__hf_form_validation);\n\n  if (valid) {\n    submit_form_via(button);\n  } else if (first_invalid) {\n    /* focus the first invalid element, if validation went south */\n    first_invalid.focus();\n    /* tell the tale, if anyone wants to react to it */\n    trigger_event(button.form, 'forminvalid');\n  }\n}\n\n\n/**\n * test if node is a submit button\n */\nfunction is_submit_button(node) {\n  return (\n    /* must be an input or button element... */\n    (node.nodeName === 'INPUT' ||\n     node.nodeName === 'BUTTON') &&\n\n    /* ...and have a submitting type */\n    (node.type === 'image' || node.type === 'submit')\n  );\n}\n\n\n/**\n * test, if the click event would trigger a submit\n */\nfunction is_submitting_click(event, button) {\n  return (\n    /* prevented default: won't trigger a submit */\n    ! event.defaultPrevented &&\n\n    /* left button or middle button (submits in Chrome) */\n    (! ('button' in event) ||\n     event.button < 2) &&\n\n    /* must be a submit button... */\n    is_submit_button(button) &&\n\n    /* the button needs a form, that's going to be submitted */\n    button.form &&\n\n    /* again, if the form should not be validated, we're out of the game */\n    ! button.form.hasAttribute('novalidate')\n  );\n}\n\n\n/**\n * test, if the keypress event would trigger a submit\n */\nfunction is_submitting_keypress(event) {\n  return (\n    /* prevented default: won't trigger a submit */\n    ! event.defaultPrevented &&\n\n    (\n      (\n        /* ...and <Enter> was pressed... */\n        event.keyCode === 13 &&\n\n        /* ...on an <input> that is... */\n        event.target.nodeName === 'INPUT' &&\n\n        /* ...a standard text input field (not checkbox, ...) */\n        text_types.indexOf(event.target.type) > -1\n      ) || (\n        /* or <Enter> or <Space> was pressed... */\n        (event.keyCode === 13 ||\n         event.keyCode === 32) &&\n\n        /* ...on a submit button */\n        is_submit_button(event.target)\n      )\n    ) &&\n\n    /* there's a form... */\n    event.target.form &&\n\n    /* ...and the form allows validation */\n    ! event.target.form.hasAttribute('novalidate')\n  );\n}\n\n\n/**\n * catch clicks to children of <button>s\n */\nfunction get_clicked_button(element) {\n  if (is_submit_button(element)) {\n    return element;\n  } else if (matches(element, 'button:not([type]) *, button[type=\"submit\"] *')) {\n    return get_clicked_button(element.parentNode);\n  } else {\n    return null;\n  }\n}\n\n\n/**\n * return event handler to catch explicit submission by click on a button\n */\nfunction get_click_handler(ignore=false) {\n  return function(event) {\n    const button = get_clicked_button(event.target);\n    if (button && is_submitting_click(event, button)) {\n      event.preventDefault();\n      if (ignore || button.hasAttribute('formnovalidate')) {\n        /* if validation should be ignored, we're not interested in any checks */\n        submit_form_via(button);\n      } else {\n        check(button);\n      }\n    }\n  };\n}\nconst click_handler = get_click_handler();\nconst ignored_click_handler = get_click_handler(true);\n\n\n/**\n * catch implicit submission by pressing <Enter> in some situations\n */\nfunction get_keypress_handler(ignore) {\n  return function keypress_handler(event) {\n    if (is_submitting_keypress(event))  {\n      event.preventDefault();\n\n      const wrapper = get_wrapper(event.target.form) || { settings: {} };\n      if (wrapper.settings.preventImplicitSubmit) {\n        /* user doesn't want an implicit submit. Cancel here. */\n        return;\n      }\n\n      /* check, that there is no submit button in the form. Otherwise\n      * that should be clicked. */\n      const el = event.target.form.elements.length;\n      var submit;\n      for (let i = 0; i < el; i++) {\n        if (['image', 'submit'].indexOf(event.target.form.elements[i].type) > -1) {\n          submit = event.target.form.elements[i];\n          break;\n        }\n      }\n\n      /* trigger an \"implicit_submit\" event on the form to be submitted */\n      const implicit_event = trigger_event(event.target.form, 'implicit_submit',\n        {\n          cancelable: true\n        }, {\n          trigger: event.target,\n          submittedVia: submit || event.target,\n        });\n      if (implicit_event.defaultPrevented) {\n        /* skip the submit, if implicit submit is canceled */\n        return;\n      }\n\n      if (submit) {\n        submit.click();\n      } else if (ignore) {\n        submit_form_via(event.target);\n      } else {\n        check(event.target);\n      }\n    }\n  };\n}\nconst keypress_handler = get_keypress_handler();\nconst ignored_keypress_handler = get_keypress_handler(true);\n\n\n/**\n * catch all relevant events _prior_ to a form being submitted\n *\n * @param bool ignore bypass validation, when an attempt to submit the\n *                    form is detected. True, when the wrapper's revalidate\n *                    setting is 'never'.\n */\nexport function catch_submit(listening_node, ignore=false) {\n  if (ignore) {\n    listening_node.addEventListener('click', ignored_click_handler);\n    listening_node.addEventListener('keypress', ignored_keypress_handler);\n  } else {\n    listening_node.addEventListener('click', click_handler);\n    listening_node.addEventListener('keypress', keypress_handler);\n  }\n}\n\n\n/**\n * decommission the event listeners from catch_submit() again\n */\nexport function uncatch_submit(listening_node) {\n  listening_node.removeEventListener('click', ignored_click_handler);\n  listening_node.removeEventListener('keypress', ignored_keypress_handler);\n  listening_node.removeEventListener('click', click_handler);\n  listening_node.removeEventListener('keypress', keypress_handler);\n}\n","'use strict';\n\n\nimport { get_wrapper } from '../components/wrapper';\n\n\n/**\n * remove `property` from element and restore _original_property, if present\n */\nexport default function(element, property) {\n  try {\n    delete element[property];\n  } catch (e) {\n    /* Safari <= 9 and PhantomJS will end up here :-( Nothing to do except\n     * warning */\n    const wrapper = get_wrapper(element);\n    if (wrapper && wrapper.settings.debug) {\n      /* global console */\n      console.log('[hyperform] cannot uninstall custom property '+property);\n    }\n    return false;\n  }\n\n  const original_descriptor = Object.getOwnPropertyDescriptor(element,\n                                '_original_'+property);\n\n  if (original_descriptor) {\n    Object.defineProperty(element, property, original_descriptor);\n  }\n\n}\n","'use strict';\n\n\nimport { get_wrapper } from '../components/wrapper';\n\n\n/**\n * add `property` to an element\n *\n * ATTENTION! This function will search for an equally named property on the\n * *prototype* of an element, if element is a concrete DOM node. Do not use\n * it as general-purpose property installer.\n *\n * js> installer(element, 'foo', { value: 'bar' });\n * js> assert(element.foo === 'bar');\n */\nexport default function(element, property, descriptor) {\n  descriptor.configurable = true;\n  descriptor.enumerable = true;\n  if ('value' in descriptor) {\n    descriptor.writable = true;\n  }\n\n  /* on concrete instances, i.e., <input> elements, the naive lookup\n   * yields undefined. We have to look on its prototype then. On elements\n   * like the actual HTMLInputElement object the first line works. */\n  let original_descriptor = Object.getOwnPropertyDescriptor(element, property);\n  if (original_descriptor === undefined) {\n    original_descriptor = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(element), property);\n  }\n\n  if (original_descriptor) {\n\n    if (original_descriptor.configurable === false) {\n      /* Safari <= 9 and PhantomJS will end up here :-( Nothing to do except\n       * warning */\n      const wrapper = get_wrapper(element);\n      if (wrapper && wrapper.settings.debug) {\n        /* global console */\n        console.log('[hyperform] cannot install custom property '+property);\n      }\n      return false;\n    }\n\n    /* we already installed that property... */\n    if ((original_descriptor.get && original_descriptor.get.__hyperform) ||\n        (original_descriptor.value && original_descriptor.value.__hyperform)) {\n      return;\n    }\n\n    /* publish existing property under new name, if it's not from us */\n    Object.defineProperty(\n      element,\n      '_original_'+property,\n      original_descriptor\n    );\n  }\n\n  delete element[property];\n  Object.defineProperty(element, property, descriptor);\n\n  return true;\n}\n","'use strict';\n\nexport default function(element) {\n  return (\n          element instanceof window.HTMLButtonElement ||\n          element instanceof window.HTMLInputElement ||\n          element instanceof window.HTMLSelectElement ||\n          element instanceof window.HTMLTextAreaElement ||\n          element instanceof window.HTMLFieldSetElement ||\n          element === window.HTMLButtonElement.prototype ||\n          element === window.HTMLInputElement.prototype ||\n          element === window.HTMLSelectElement.prototype ||\n          element === window.HTMLTextAreaElement.prototype ||\n          element === window.HTMLFieldSetElement.prototype\n         );\n}\n\n","'use strict';\n\n\nimport { message_store } from '../components/message_store';\nimport Renderer from '../components/renderer';\nimport validity_state_checkers from '../tools/validity_state_checkers';\n\n\n/**\n * set a custom validity message or delete it with an empty string\n */\nexport default function setCustomValidity(element, msg) {\n  if (! msg) {\n    message_store.delete(element, true);\n  } else {\n    message_store.set(element, msg, true);\n  }\n  /* live-update the warning */\n  const warning = Renderer.getWarning(element);\n  if (warning) {\n    Renderer.setMessage(warning, msg, element);\n  }\n  /* update any classes if the validity state changes */\n  validity_state_checkers.valid(element);\n}\n","'use strict';\n\n\nimport get_type from '../tools/get_type';\nimport string_to_date from '../tools/string_to_date';\nimport date_to_string from '../tools/date_to_string';\nimport { dates } from '../components/types';\n\n\n/**\n * implement the valueAsDate functionality\n *\n * @see https://html.spec.whatwg.org/multipage/forms.html#dom-input-valueasdate\n */\nexport default function valueAsDate(element, value=undefined) {\n  const type = get_type(element);\n  if (dates.indexOf(type) > -1) {\n    if (value !== undefined) {\n      /* setter: value must be null or a Date() */\n      if (value === null) {\n        element.value = '';\n      } else if (value instanceof Date) {\n        if (isNaN(value.getTime())) {\n          element.value = '';\n        } else {\n          element.value = date_to_string(value, type);\n        }\n      } else {\n        throw new window.DOMException(\n          'valueAsDate setter encountered invalid value', 'TypeError');\n      }\n      return;\n    }\n\n    const value_date = string_to_date(element.value, type);\n    return value_date instanceof Date? value_date : null;\n\n  } else if (value !== undefined) {\n    /* trying to set a date on a not-date input fails */\n    throw new window.DOMException(\n      'valueAsDate setter cannot set date on this element',\n      'InvalidStateError');\n  }\n\n  return null;\n}\n","'use strict';\n\n\nimport get_type from '../tools/get_type';\nimport string_to_number from '../tools/string_to_number';\nimport { numbers } from '../components/types';\nimport valueAsDate from './valueAsDate';\n\n\n/**\n * implement the valueAsNumber functionality\n *\n * @see https://html.spec.whatwg.org/multipage/forms.html#dom-input-valueasnumber\n */\nexport default function valueAsNumber(element, value=undefined) {\n  const type = get_type(element);\n  if (numbers.indexOf(type) > -1) {\n    if (type === 'range' && element.hasAttribute('multiple')) {\n      /* @see https://html.spec.whatwg.org/multipage/forms.html#do-not-apply */\n      return NaN;\n    }\n\n    if (value !== undefined) {\n      /* setter: value must be NaN or a finite number */\n      if (isNaN(value)) {\n        element.value = '';\n      } else if (typeof value === 'number' && window.isFinite(value)) {\n        try {\n          /* try setting as a date, but... */\n          valueAsDate(element, new Date(value));\n        } catch (e) {\n          /* ... when valueAsDate is not responsible, ... */\n          if (! (e instanceof window.DOMException)) {\n            throw e;\n          }\n          /* ... set it via Number.toString(). */\n          element.value = value.toString();\n        }\n      } else {\n        throw new window.DOMException(\n          'valueAsNumber setter encountered invalid value', 'TypeError');\n      }\n      return;\n    }\n\n    return string_to_number(element.value, type);\n\n  } else if (value !== undefined) {\n    /* trying to set a number on a not-number input fails */\n    throw new window.DOMException(\n      'valueAsNumber setter cannot set number on this element',\n      'InvalidStateError');\n  }\n\n  return NaN;\n}\n","'use strict';\n\n\nimport get_next_valid from '../tools/get_next_valid';\nimport get_type from '../tools/get_type';\nimport { numbers } from '../components/types';\nimport valueAsNumber from './valueAsNumber';\n\n\n/**\n *\n */\nexport default function stepDown(element, n=1) {\n  if (numbers.indexOf(get_type(element)) === -1) {\n    throw new window.DOMException('stepDown encountered invalid type',\n                                  'InvalidStateError');\n  }\n  if ((element.getAttribute('step') || '').toLowerCase() === 'any') {\n    throw new window.DOMException('stepDown encountered step \"any\"',\n                                  'InvalidStateError');\n  }\n\n  const prev = get_next_valid(element, n)[0];\n\n  if (prev !== null) {\n    valueAsNumber(element, prev);\n  }\n}\n","'use strict';\n\n\nimport get_next_valid from '../tools/get_next_valid';\nimport get_type from '../tools/get_type';\nimport { numbers } from '../components/types';\nimport valueAsNumber from './valueAsNumber';\n\n\n/**\n *\n */\nexport default function stepUp(element, n=1) {\n  if (numbers.indexOf(get_type(element)) === -1) {\n    throw new window.DOMException('stepUp encountered invalid type',\n                                  'InvalidStateError');\n  }\n  if ((element.getAttribute('step') || '').toLowerCase() === 'any') {\n    throw new window.DOMException('stepUp encountered step \"any\"',\n                                  'InvalidStateError');\n  }\n\n  const next = get_next_valid(element, n)[1];\n\n  if (next !== null) {\n    valueAsNumber(element, next);\n  }\n}\n","'use strict';\n\n\nimport { message_store } from '../components/message_store';\n\n\n/**\n * get the validation message for an element, empty string, if the element\n * satisfies all constraints.\n */\nexport default function validationMessage(element) {\n  const msg = message_store.get(element);\n  if (! msg) {\n    return '';\n  }\n\n  /* make it a primitive again, since message_store returns String(). */\n  return msg.toString();\n}\n","'use strict';\n\n\nimport is_validation_candidate from '../tools/is_validation_candidate';\n\n\n/**\n * check, if an element will be subject to HTML5 validation at all\n */\nexport default function willValidate(element) {\n  return is_validation_candidate(element);\n}\n","'use strict';\n\n\nimport install_property from '../tools/property_installer';\nimport uninstall_property from '../tools/property_uninstaller';\nimport { call_hook, do_filter } from '../components/hooks';\n\n\nconst gA = prop => function() {\n  return do_filter('attr_get_'+prop, this.getAttribute(prop), this);\n};\n\nconst sA = prop => function(value) {\n  this.setAttribute(prop, do_filter('attr_set_'+prop, value, this));\n};\n\nconst gAb = prop => function() {\n  return do_filter('attr_get_'+prop, this.hasAttribute(prop), this);\n};\n\nconst sAb = prop => function(value) {\n  if (do_filter('attr_set_'+prop, value, this)) {\n    this.setAttribute(prop, prop);\n  } else {\n    this.removeAttribute(prop);\n  }\n};\n\nconst gAn = prop => function() {\n  return do_filter('attr_get_'+prop, Math.max(0, Number(this.getAttribute(prop))), this);\n};\n\nconst sAn = prop => function(value) {\n  value = do_filter('attr_set_'+prop, value, this);\n  if (/^[0-9]+$/.test(value)) {\n    this.setAttribute(prop, value);\n  }\n};\n\nfunction install_properties(element) {\n  for (let prop of [ 'accept', 'max', 'min', 'pattern', 'placeholder', 'step', ]) {\n    install_property(element, prop, {\n      get: gA(prop),\n      set: sA(prop),\n    });\n  }\n\n  for (let prop of [ 'multiple', 'required', 'readOnly', ]) {\n    install_property(element, prop, {\n      get: gAb(prop.toLowerCase()),\n      set: sAb(prop.toLowerCase()),\n    });\n  }\n\n  for (let prop of [ 'minLength', 'maxLength', ]) {\n    install_property(element, prop, {\n      get: gAn(prop.toLowerCase()),\n      set: sAn(prop.toLowerCase()),\n    });\n  }\n}\n\nfunction uninstall_properties(element) {\n  for (let prop of [ 'accept', 'max', 'min', 'pattern', 'placeholder', 'step',\n       'multiple', 'required', 'readOnly', 'minLength', 'maxLength', ]) {\n    uninstall_property(element, prop);\n  }\n}\n\nexport { install_properties, uninstall_properties };\n","'use strict';\n\n\nimport install_property from './property_installer';\nimport is_field from './is_field';\nimport mark from './mark';\n\nimport checkValidity from '../polyfills/checkValidity';\nimport reportValidity from '../polyfills/reportValidity';\nimport setCustomValidity from '../polyfills/setCustomValidity';\nimport stepDown from '../polyfills/stepDown';\nimport stepUp from '../polyfills/stepUp';\nimport validationMessage from '../polyfills/validationMessage';\nimport ValidityState from '../polyfills/validityState';\nimport valueAsDate from '../polyfills/valueAsDate';\nimport valueAsNumber from '../polyfills/valueAsNumber';\nimport willValidate from '../polyfills/willValidate';\nimport { install_properties } from '../polyfills/properties';\n\n\nconst polyfills = {\n    checkValidity: {\n      value: mark(function() { return checkValidity(this); }),\n    },\n    reportValidity: {\n      value: mark(function() { return reportValidity(this); }),\n    },\n    setCustomValidity: {\n      value: mark(function (msg) { return setCustomValidity(this, msg); }),\n    },\n    stepDown: {\n      value: mark(function(n=1) { return stepDown(this, n); }),\n    },\n    stepUp: {\n      value: mark(function(n=1) { return stepUp(this, n); }),\n    },\n    validationMessage: {\n      get: mark(function() { return validationMessage(this); }),\n    },\n    validity: {\n      get: mark(function() { return ValidityState(this); }),\n    },\n    valueAsDate: {\n      get: mark(function() { return valueAsDate(this); }),\n      set: mark(function(value) { valueAsDate(this, value); }),\n    },\n    valueAsNumber: {\n      get: mark(function() { return valueAsNumber(this); }),\n      set: mark(function(value) { valueAsNumber(this, value); }),\n    },\n    willValidate: {\n      get: mark(function() { return willValidate(this); }),\n    },\n};\n\nexport default function(element) {\n  if (is_field(element)) {\n\n    for (let prop in polyfills) {\n      install_property(element, prop, polyfills[prop]);\n    }\n\n    install_properties(element);\n\n  } else if (element instanceof window.HTMLFormElement ||\n             element === window.HTMLFormElement.prototype) {\n    install_property(element, 'checkValidity', polyfills.checkValidity);\n    install_property(element, 'reportValidity', polyfills.reportValidity);\n  }\n}\n","'use strict';\n\n\nimport is_field from './is_field';\nimport uninstall_property from './property_uninstaller';\nimport { uninstall_properties } from '../polyfills/properties';\n\n\nexport default function(element) {\n  if (is_field(element)) {\n\n    uninstall_property(element, 'checkValidity');\n    uninstall_property(element, 'reportValidity');\n    uninstall_property(element, 'setCustomValidity');\n    uninstall_property(element, 'stepDown');\n    uninstall_property(element, 'stepUp');\n    uninstall_property(element, 'validationMessage');\n    uninstall_property(element, 'validity');\n    uninstall_property(element, 'valueAsDate');\n    uninstall_property(element, 'valueAsNumber');\n    uninstall_property(element, 'willValidate');\n\n    uninstall_properties(element);\n\n  } else if (element instanceof window.HTMLFormElement) {\n    uninstall_property(element, 'checkValidity');\n    uninstall_property(element, 'reportValidity');\n  }\n}\n","'use strict';\n\n\nimport { catch_submit, uncatch_submit } from '../tools/catch_submit';\nimport ValidityState from '../polyfills/validityState';\nimport reportValidity from '../polyfills/reportValidity';\nimport uninstall from '../tools/property_uninstaller';\nimport polyfill from '../tools/polyfill';\nimport polyunfill from '../tools/polyunfill';\n\n\nconst instances = new WeakMap();\n\n\n/**\n * wrap <form>s, window or document, that get treated with the global\n * hyperform()\n */\nexport default function Wrapper(form, settings) {\n\n  /* do not allow more than one instance per form. Otherwise we'd end\n   * up with double event handlers, polyfills re-applied, ... */\n  var existing = instances.get(form);\n  if (existing) {\n    existing.settings = settings;\n    return existing;\n  }\n\n  this.form = form;\n  this.settings = settings;\n  this.revalidator = this.revalidate.bind(this);\n\n  instances.set(form, this);\n\n  catch_submit(form, settings.revalidate === 'never');\n\n  if (form === window || form.nodeType === 9) {\n    /* install on the prototypes, when called for the whole document */\n    this.install([\n      window.HTMLButtonElement.prototype,\n      window.HTMLInputElement.prototype,\n      window.HTMLSelectElement.prototype,\n      window.HTMLTextAreaElement.prototype,\n      window.HTMLFieldSetElement.prototype,\n    ]);\n    polyfill(window.HTMLFormElement);\n  } else if (form instanceof window.HTMLFormElement ||\n             form instanceof window.HTMLFieldSetElement) {\n    this.install(form.elements);\n    if (form instanceof window.HTMLFormElement) {\n      polyfill(form);\n    }\n  }\n\n  if (settings.revalidate === 'oninput' || settings.revalidate === 'hybrid') {\n    /* in a perfect world we'd just bind to \"input\", but support here is\n     * abysmal: http://caniuse.com/#feat=input-event */\n    form.addEventListener('keyup', this.revalidator);\n    form.addEventListener('change', this.revalidator);\n  }\n  if (settings.revalidate === 'onblur' || settings.revalidate === 'hybrid') {\n    /* useCapture=true, because `blur` doesn't bubble. See\n     * https://developer.mozilla.org/en-US/docs/Web/Events/blur#Event_delegation\n     * for a discussion */\n    form.addEventListener('blur', this.revalidator, true);\n  }\n}\n\n\nWrapper.prototype = {\n\n  destroy() {\n    uncatch_submit(this.form);\n    instances.delete(this.form);\n    this.form.removeEventListener('keyup', this.revalidator);\n    this.form.removeEventListener('change', this.revalidator);\n    this.form.removeEventListener('blur', this.revalidator, true);\n    if (this.form === window || this.form.nodeType === 9) {\n      this.uninstall([\n        window.HTMLButtonElement.prototype,\n        window.HTMLInputElement.prototype,\n        window.HTMLSelectElement.prototype,\n        window.HTMLTextAreaElement.prototype,\n        window.HTMLFieldSetElement.prototype,\n      ]);\n      polyunfill(window.HTMLFormElement);\n    } else if (this.form instanceof window.HTMLFormElement ||\n               this.form instanceof window.HTMLFieldSetElement) {\n      this.uninstall(this.form.elements);\n      if (this.form instanceof window.HTMLFormElement) {\n        polyunfill(this.form);\n      }\n    }\n  },\n\n  /**\n   * revalidate an input element\n   */\n  revalidate(event) {\n    if (event.target instanceof window.HTMLButtonElement ||\n        event.target instanceof window.HTMLTextAreaElement ||\n        event.target instanceof window.HTMLSelectElement ||\n        event.target instanceof window.HTMLInputElement) {\n\n      if (this.settings.revalidate === 'hybrid') {\n        /* \"hybrid\" somewhat simulates what browsers do. See for example\n         * Firefox's :-moz-ui-invalid pseudo-class:\n         * https://developer.mozilla.org/en-US/docs/Web/CSS/:-moz-ui-invalid */\n        if (event.type === 'blur' &&\n            event.target.value !== event.target.defaultValue ||\n            ValidityState(event.target).valid) {\n          /* on blur, update the report when the value has changed from the\n           * default or when the element is valid (possibly removing a still\n           * standing invalidity report). */\n          reportValidity(event.target);\n        } else if ((event.type === 'keyup' && event.keyCode !== 9) ||\n                    event.type === 'change') {\n          if (ValidityState(event.target).valid) {\n            // report instantly, when an element becomes valid,\n            // postpone report to blur event, when an element is invalid\n            reportValidity(event.target);\n          }\n        }\n\n      } else if (event.type !== 'keyup' || event.keyCode !== 9) {\n        /* do _not_ validate, when the user \"tabbed\" into the field initially,\n         * i.e., a keyup event with keyCode 9 */\n        reportValidity(event.target);\n      }\n\n    }\n  },\n\n  /**\n   * install the polyfills on each given element\n   *\n   * If you add elements dynamically, you have to call install() on them\n   * yourself:\n   *\n   * js> var form = hyperform(document.forms[0]);\n   * js> document.forms[0].appendChild(input);\n   * js> form.install(input);\n   *\n   * You can skip this, if you called hyperform on window or document.\n   */\n  install(els) {\n    if (els instanceof window.Element) {\n      els = [ els ];\n    }\n\n    const els_length = els.length;\n\n    for (let i = 0; i < els_length; i++) {\n      polyfill(els[i]);\n    }\n  },\n\n  uninstall(els) {\n    if (els instanceof window.Element) {\n      els = [ els ];\n    }\n\n    const els_length = els.length;\n\n    for (let i = 0; i < els_length; i++) {\n      polyunfill(els[i]);\n    }\n  },\n\n};\n\n\n/**\n * try to get the appropriate wrapper for a specific element by looking up\n * its parent chain\n *\n * @return Wrapper | undefined\n */\nexport function get_wrapper(element) {\n  var wrapped;\n\n  if (element.form) {\n    /* try a shortcut with the element's <form> */\n    wrapped = instances.get(element.form);\n  }\n\n  /* walk up the parent nodes until document (including) */\n  while (! wrapped && element) {\n    wrapped = instances.get(element);\n    element = element.parentNode;\n  }\n\n  if (! wrapped) {\n    /* try the global instance, if exists. This may also be undefined. */\n    wrapped = instances.get(window);\n  }\n\n  return wrapped;\n}\n","'use strict';\n\n\nimport { get_wrapper } from '../components/wrapper';\n\n\n/**\n * filter a form's elements for the ones needing validation prior to\n * a submit\n *\n * Returns an array of form elements.\n */\nexport function get_validated_elements(form) {\n  const wrapped_form = get_wrapper(form);\n\n  return Array.prototype.filter.call(form.elements, element => {\n    /* it must have a name (or validating nameless inputs is allowed) */\n    if (element.getAttribute('name') ||\n        (wrapped_form && wrapped_form.settings.validateNameless)) {\n      return true;\n    }\n    return false;\n  });\n}\n","'use strict';\n\n\nimport { call_hook } from '../components/hooks.js';\n\n\n/**\n * return either the data of a hook call or the result of action, if the\n * former is undefined\n *\n * @return function a function wrapper around action\n */\nexport default function(hook, action) {\n  return function() {\n    const data = call_hook(hook, Array.prototype.slice.call(arguments));\n\n    if (data !== undefined) {\n      return data;\n    }\n\n    return action.apply(this, arguments);\n  };\n}\n","'use strict';\n\n\nimport { get_validated_elements } from '../tools/get_validated_elements';\nimport return_hook_or from '../tools/return_hook_or';\nimport trigger_event from '../tools/trigger_event';\nimport ValidityState from './validityState';\nimport { get_wrapper } from '../components/wrapper';\n\n\n/**\n * check an element's validity with respect to it's form\n */\nconst checkValidity = return_hook_or('checkValidity', function(element) {\n  /* if this is a <form>, check validity of all child inputs */\n  if (element instanceof window.HTMLFormElement) {\n    return get_validated_elements(element).map(checkValidity).every(b=>b);\n  }\n\n  /* default is true, also for elements that are no validation candidates */\n  const valid = ValidityState(element).valid;\n  if (valid) {\n    const wrapped_form = get_wrapper(element);\n    if (wrapped_form && wrapped_form.settings.validEvent) {\n      trigger_event(element, 'valid');\n    }\n  } else {\n    trigger_event(element, 'invalid', { cancelable: true });\n  }\n\n  return valid;\n});\n\n\nexport default checkValidity;\n","'use strict';\nexport default '0.10.2';\n","'use strict';\n\n\nimport checkValidity from './polyfills/checkValidity';\nimport reportValidity from './polyfills/reportValidity';\nimport setCustomValidity from './polyfills/setCustomValidity';\nimport stepDown from './polyfills/stepDown';\nimport stepUp from './polyfills/stepUp';\nimport validationMessage from './polyfills/validationMessage';\nimport ValidityState from './polyfills/validityState';\nimport valueAsDate from './polyfills/valueAsDate';\nimport valueAsNumber from './polyfills/valueAsNumber';\nimport willValidate from './polyfills/willValidate';\nimport custom_messages from './components/custom_messages';\nimport { add_hook, remove_hook } from './components/hooks';\nimport { set_language, add_translation } from './components/localization';\nimport CustomValidatorRegistry from './components/registry';\nimport Renderer from './components/renderer';\nimport Wrapper from './components/wrapper';\nimport sprintf from './tools/sprintf';\nimport version from './version';\n\n\n/* deprecate the old snake_case names\n * TODO: delme before next non-patch release\n */\nfunction w(name) {\n  const deprecated_message = 'Please use camelCase method names! The name \"%s\" is deprecated and will be removed in the next non-patch release.';\n  /* global console */\n  console.log(sprintf(deprecated_message, name));\n}\n\n\n/**\n * public hyperform interface:\n */\nfunction hyperform(form, {\n                     classes,\n                     debug=false,\n                     extend_fieldset,\n                     extendFieldset,\n                     novalidate_on_elements,\n                     novalidateOnElements,\n                     prevent_implicit_submit,\n                     preventImplicitSubmit/* TODO: uncomment =false */,\n                     revalidate,\n                     strict=false,\n                     valid_event,\n                     validEvent,\n                     validateNameless=false,\n                   }={}) {\n\n  if (! classes) {\n    classes = {};\n  }\n  // TODO: clean up before next non-patch release\n  if (extendFieldset === undefined) {\n    if (extend_fieldset === undefined) {\n      extendFieldset = ! strict;\n    } else {\n      w('extend_fieldset');\n      extendFieldset = extend_fieldset;\n    }\n  }\n  if (novalidateOnElements === undefined) {\n    if (novalidate_on_elements === undefined) {\n      novalidateOnElements = ! strict;\n    } else {\n      w('novalidate_on_elements');\n      novalidateOnElements = novalidate_on_elements;\n    }\n  }\n  if (preventImplicitSubmit === undefined) {\n    if (prevent_implicit_submit === undefined) {\n      preventImplicitSubmit = false;\n    } else {\n      w('prevent_implicit_submit');\n      preventImplicitSubmit = prevent_implicit_submit;\n    }\n  }\n  if (revalidate === undefined) {\n    /* other recognized values: 'oninput', 'onblur', 'onsubmit' and 'never' */\n    revalidate = strict? 'onsubmit' : 'hybrid';\n  }\n  if (validEvent === undefined) {\n    if (valid_event === undefined) {\n      validEvent = ! strict;\n    } else {\n      w('valid_event');\n      validEvent = valid_event;\n    }\n  }\n\n  const settings = { debug, strict, preventImplicitSubmit, revalidate,\n                     validEvent, extendFieldset, classes, novalidateOnElements,\n                     validateNameless,\n                   };\n\n  if (form instanceof window.NodeList ||\n      form instanceof window.HTMLCollection ||\n      form instanceof Array) {\n    return Array.prototype.map.call(form,\n                                    element => hyperform(element, settings));\n  }\n\n  return new Wrapper(form, settings);\n}\n\nhyperform.version = version;\n\nhyperform.checkValidity = checkValidity;\nhyperform.reportValidity = reportValidity;\nhyperform.setCustomValidity = setCustomValidity;\nhyperform.stepDown = stepDown;\nhyperform.stepUp = stepUp;\nhyperform.validationMessage = validationMessage;\nhyperform.ValidityState = ValidityState;\nhyperform.valueAsDate = valueAsDate;\nhyperform.valueAsNumber = valueAsNumber;\nhyperform.willValidate = willValidate;\n\nhyperform.setLanguage = lang => { set_language(lang); return hyperform; };\nhyperform.addTranslation = (lang, catalog) => { add_translation(lang, catalog); return hyperform; };\nhyperform.setRenderer = (renderer, action) => { Renderer.set(renderer, action); return hyperform; };\nhyperform.addValidator = (element, validator) => { CustomValidatorRegistry.set(element, validator); return hyperform; };\nhyperform.setMessage = (element, validator, message) => { custom_messages.set(element, validator, message); return hyperform; };\nhyperform.addHook = (hook, action, position) => { add_hook(hook, action, position); return hyperform; };\nhyperform.removeHook = (hook, action) => { remove_hook(hook, action); return hyperform; };\n\n// TODO: Remove in next non-patch version\nhyperform.set_language = lang => { w('set_language'); set_language(lang); return hyperform; };\nhyperform.add_translation = (lang, catalog) => { w('add_translation'); add_translation(lang, catalog); return hyperform; };\nhyperform.set_renderer = (renderer, action) => { w('set_renderer'); Renderer.set(renderer, action); return hyperform; };\nhyperform.add_validator = (element, validator) => { w('add_validator'); CustomValidatorRegistry.set(element, validator); return hyperform; };\nhyperform.set_message = (element, validator, message) => { w('set_message'); custom_messages.set(element, validator, message); return hyperform; };\nhyperform.add_hook = (hook, action, position) => { w('add_hook'); add_hook(hook, action, position); return hyperform; };\nhyperform.remove_hook = (hook, action) => { w('remove_hook'); remove_hook(hook, action); return hyperform; };\n\nif (document.currentScript && document.currentScript.hasAttribute('data-hf-autoload')) {\n  hyperform(window);\n}\n\nexport default hyperform;\n","function factory(Component) {\n  const id = Component.getID();\n  const qs = `[data-${id}]`;\n  const elements = document.querySelectorAll(qs);\n  return [...elements].map(el => new Component(el));\n}\n\nexport { factory };\n","import hyperform from 'hyperform';\nimport { factory } from '../../scripts/factory';\n\nconst formValidationI18n = {\n  ru: {\n    TextTooLong:\n      ',     %l    (   %l ).',\n    TextTooShort:\n      ',    %l  (   %l ).',\n    ValueMissing: ',   .',\n    CheckboxMissing: ',  ,    .',\n    RadioMissing: ',     .',\n    FileMissing: ',  .',\n    SelectMissing: ',    .',\n    InvalidEmail: ',    .',\n    InvalidURL: ',  -.',\n    InvalidDate: ',  ',\n    PatternMismatch: ',   .',\n    PatternMismatchWithTitle: ',   : %l.',\n    NumberRangeOverflow: ',  ,    %l.',\n    DateRangeOverflow: ',  ,   %l.',\n    TimeRangeOverflow: ',  ,   %l.',\n    NumberRangeUnderflow: ',  ,   %l.',\n    DateRangeUnderflow: ',  ,  ,  %l.',\n    TimeRangeUnderflow: ',  ,  ,  %l.',\n    StepMismatch:\n      ',   .     %l  %l',\n    StepMismatchOneValue:\n      ',   .    %l.',\n    BadInputNumber: ',  ',\n    'Please match the requested type.': ',   .',\n    'Please comply with all requirements.': ',    .',\n    'Please lengthen this text to %l characters or more (you are currently using %l characters).':\n      ',     %l    (  %l ).',\n    'Please use the appropriate format.': ',   .',\n    'Please enter a comma separated list of email addresses.':\n      ',       ',\n    'Please select a file of the correct type.': ',    .',\n    'Please select one or more files.': ',     .',\n    'any value': ' ',\n    'any valid value': '  '\n  }\n};\n\nclass Form {\n  constructor(el) {\n    this.lang = 'ru';\n    this.el = el;\n    this.formValidationClasses = {\n      warning: 'form-field__warning-msg',\n      valid: 'form-field_valid',\n      invalid: 'form-field_invalid',\n      validated: 'form-field_validated'\n    };\n    this.init();\n  }\n\n  static getID() {\n    return 'form';\n  }\n\n  init() {\n    hyperform(this.el, {\n      classes: this.formValidationClasses,\n      validateNameless: true,\n      preventImplicitSubmit: true\n    });\n    hyperform.addTranslation(this.lang, formValidationI18n[this.lang]);\n    hyperform.setLanguage(this.lang);\n  }\n}\n\nfactory(Form);\n\nexport { Form };\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not be triggered.\n * @param {Function} func Function to call after predetermined number of milliseconds\n * @param {number} wait Number of milliseconds to wait before calling a function\n * @param {boolean} immediate If true - trigger the function on the leading edge, instead of the trailing.\n */\nfunction debounce(func, wait, immediate) {\n  let timeout;\n  return function debounced(...args) {\n    const context = this;\n    const later = function runLater() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\n/**\n * Plural forms for russian words\n * @param  {Integer} count quantity for word\n * @param  {Array} words Array of words. Example: ['', '', ''], ['', '', '']\n * @return {String} plural form of word\n */\nfunction pluralize(count, words) {\n  const cases = [2, 0, 1, 1, 1, 2];\n  const word = words[count % 100 > 4 && count % 100 < 20 ? 2 : cases[Math.min(count % 10, 5)]];\n  return word;\n}\n\nconst inc = v => v + 1;\nconst dec = v => v - 1;\nconst not = v => !v;\nconst toBool = v => !!v;\nconst oneByOne = (...fns) => args => fns.forEach(fn => fn.apply(args));\n\nmodule.exports = {\n  debounce,\n  pluralize,\n  inc,\n  dec,\n  not,\n  toBool,\n  oneByOne\n};\n","import { not } from '../../scripts/utils';\nimport { factory } from '../../scripts/factory';\n\nclass Menu {\n  constructor(el) {\n    this.id = Menu.getID();\n    this.el = el;\n    this.menuItems = el.querySelectorAll(`[data-${this.id}-item]`);\n    this.init();\n  }\n\n  static getID() {\n    return 'menu';\n  }\n\n  init() {\n    this.bindEventListeners();\n    this.attachEventHandlers();\n  }\n\n  bindEventListeners() {\n    this.showSubmenu = this.showSubmenu.bind(this);\n    this.hideSubmenu = this.hideSubmenu.bind(this);\n  }\n\n  attachEventHandlers() {\n    this.menuItems.forEach(item => {\n      item.addEventListener('mouseenter', this.showSubmenu);\n      item.addEventListener('mouseleave', this.hideSubmenu);\n      item.addEventListener('focusin', this.showSubmenu);\n      item.addEventListener('focusout', this.hideSubmenu);\n    });\n  }\n\n  showSubmenu(e) {\n    const currentItem = e.currentTarget;\n    const hasSubmenu = !!currentItem.querySelector([`[data-${this.id}-submenu]`]);\n\n    if (not(hasSubmenu)) return;\n\n    // hide other submenus\n    [...this.menuItems]\n      .filter(item => item !== currentItem)\n      .forEach(item => item.classList.remove('menu__item_is-active'));\n\n    // toggle the state of current sub menu\n    currentItem.classList.add('menu__item_is-active');\n  }\n\n  hideSubmenu(e) {\n    const currentItem = e.currentTarget;\n\n    // toggle the state of current sub menu\n    currentItem.classList.add('menu__item_is-fading');\n\n    // remove modifiers after delay\n    setTimeout(() => {\n      currentItem.classList.remove('menu__item_is-active');\n      currentItem.classList.remove('menu__item_is-fading');\n    }, 350);\n  }\n}\n\nfactory(Menu);\n\nexport { Menu };\n","import { factory } from '../../scripts/factory';\n\nclass OffCanvas {\n  constructor(el) {\n    this.el = el;\n    this.mainContainer = el.parentElement;\n    this.init();\n  }\n\n  static getID() {\n    return 'off-canvas';\n  }\n\n  init() {\n    this.bindEventHandlers();\n    this.attachEventHandlers();\n\n    this.mainContainer.classList.add('off-canvas__container');\n  }\n\n  bindEventHandlers() {\n    this.handleToggle = this.handleToggle.bind(this);\n  }\n\n  attachEventHandlers() {\n    this.el.addEventListener('off-canvas:toggle', this.handleToggle);\n  }\n\n  handleToggle() {\n    this.mainContainer.classList.toggle('off-canvas__parent');\n    this.el.classList.toggle('off-canvas_is-opened');\n  }\n}\n\nfactory(OffCanvas);\n\nexport { OffCanvas };\n","import { debounce } from '../../scripts/utils';\nimport { factory } from '../../scripts/factory';\n\nclass OffCanvasToggler {\n  constructor(el) {\n    this.el = el;\n    this.connectedWithEl = document.getElementById(el.dataset.connectedWith);\n    this.init();\n  }\n\n  static getID() {\n    return 'off-canvas-toggler';\n  }\n\n  init() {\n    this.bindEventHandlers();\n    this.attachEventHandlers();\n  }\n\n  bindEventHandlers() {\n    this.handleClick = debounce(this.handleClick.bind(this), 10);\n  }\n\n  attachEventHandlers() {\n    this.el.addEventListener('click', this.handleClick);\n  }\n\n  handleClick() {\n    if (this.connectedWithEl) {\n      this.connectedWithEl.dispatchEvent(new Event('off-canvas:toggle'));\n    }\n  }\n}\n\nfactory(OffCanvasToggler);\n\nexport { OffCanvasToggler };\n","import '../../components/form/form';\nimport '../../components/menu/menu';\nimport '../../components/off-canvas/off-canvas';\nimport '../../components/off-canvas-toggler/off-canvas-toggler';\n"]}